<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="1">
  <HTTPTask id="82" hostname="10.239.251.82" path="/swagger" url="http://10.239.251.82:8080/swagger" ip="10.239.251.82" port="8080" connectionId="5" origin="Primary" frame="1" startTime="2972886436" endTime="2972886514">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCwqLyo7cT0wLjg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9zd2FnZ2VyIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogdGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCwqLyo7cT0wLjgNClVwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHM6IDENClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoxOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGV4dC9odG1s</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTE4NA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjE5IEdNVA0KQ29udGVudC1UeXBlOiB0ZXh0L2h0bWwNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ29udGVudC1MZW5ndGg6IDExODQNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8dGl0bGU+U3dhZ2dlciBVSTwvdGl0bGU+CiAgPGxpbmsgaHJlZj0nL3N3YWdnZXItc3RhdGljL2Nzcy90eXBvZ3JhcGh5LmNzcycgbWVkaWE9J3NjcmVlbicgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycvPgogIDxsaW5rIGhyZWY9Jy9zd2FnZ2VyLXN0YXRpYy9jc3MvcmVzZXQuY3NzJyBtZWRpYT0nc2NyZWVuJyByZWw9J3N0eWxlc2hlZXQnIHR5cGU9J3RleHQvY3NzJy8+CiAgPGxpbmsgaHJlZj0nL3N3YWdnZXItc3RhdGljL2Nzcy9zY3JlZW4uY3NzJyBtZWRpYT0nc2NyZWVuJyByZWw9J3N0eWxlc2hlZXQnIHR5cGU9J3RleHQvY3NzJy8+CiAgPGxpbmsgaHJlZj0nL3N3YWdnZXItc3RhdGljL2Nzcy9yZXNldC5jc3MnIG1lZGlhPSdwcmludCcgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycvPgogIDxsaW5rIGhyZWY9Jy9zd2FnZ2VyLXN0YXRpYy9jc3Mvc2NyZWVuLmNzcycgbWVkaWE9J3ByaW50JyByZWw9J3N0eWxlc2hlZXQnIHR5cGU9J3RleHQvY3NzJy8+CiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iL3N3YWdnZXItc3RhdGljL2xpYi9zaHJlZC5idW5kbGUuanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL2pxdWVyeS0xLjguMC5taW4uanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Jy9zd2FnZ2VyLXN0YXRpYy9saWIvanF1ZXJ5LnNsaWRldG8ubWluLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL2pxdWVyeS53aWdnbGUubWluLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL2pxdWVyeS5iYS1iYnEubWluLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL2hhbmRsZWJhcnMtMi4wLjAuanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Jy9zd2FnZ2VyLXN0YXRpYy9saWIvdW5kZXJzY29yZS1taW4uanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Jy9zd2FnZ2VyLXN0YXRpYy9saWIvYmFja2JvbmUtbWluLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL3N3YWdnZXItY2xpZW50LmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvc3dhZ2dlci11aS5qcycgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0nL3N3YWdnZXItc3RhdGljL2xpYi9oaWdobGlnaHQuNy4zLnBhY2suanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Jy9zd2FnZ2VyLXN0YXRpYy9saWIvbWFya2VkLmpzJyB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPjwvc2NyaXB0PgogIAogICAgPCEtLSBlbmFibGluZyB0aGlzIHdpbGwgZW5hYmxlIG9hdXRoMiBpbXBsaWNpdCBzY29wZSBzdXBwb3J0IC0tPgogIDxzY3JpcHQgc3JjPScvc3dhZ2dlci1zdGF0aWMvbGliL3N3YWdnZXItb2F1dGguanMnIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+CiAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgJChmdW5jdGlvbiAoKSB7CiAgICAgIHdpbmRvdy5zd2FnZ2VyVWkgPSBuZXcgU3dhZ2dlclVpKHsKICAgICAgICB1cmw6ICIvc3dhZ2dlci5qc29uIiwKICAgICAgICBkb21faWQ6ICJzd2FnZ2VyLXVpLWNvbnRhaW5lciIsCiAgICAgICAgc3VwcG9ydGVkU3VibWl0TWV0aG9kczogWydnZXQnLCAncG9zdCcsICdwdXQnLCAnZGVsZXRlJ10sCiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oc3dhZ2dlckFwaSwgc3dhZ2dlclVpKXsKICAgICAgICAgIGlmKHR5cGVvZiBpbml0T0F1dGggPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAvKgogICAgICAgICAgICBpbml0T0F1dGgoewogICAgICAgICAgICAgIGNsaWVudElkOiAieW91ci1jbGllbnQtaWQiLAogICAgICAgICAgICAgIHJlYWxtOiAieW91ci1yZWFsbXMiLAogICAgICAgICAgICAgIGFwcE5hbWU6ICJ5b3VyLWFwcC1uYW1lIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgKi8KICAgICAgICAgIH0KICAgICAgICAgICQoJ3ByZSBjb2RlJykuZWFjaChmdW5jdGlvbihpLCBlKSB7CiAgICAgICAgICAgIGhsanMuaGlnaGxpZ2h0QmxvY2soZSkKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgb25GYWlsdXJlOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICBsb2coIlVuYWJsZSB0byBMb2FkIFN3YWdnZXJVSSIpOwogICAgICAgIH0sCiAgICAgICAgZG9jRXhwYW5zaW9uOiAibm9uZSIsCiAgICAgICAgc29ydGVyIDogImFscGhhIgogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIGFkZEFwaUtleUF1dGhvcml6YXRpb24oKSB7CiAgICAgICAgdmFyIGtleSA9ICQoJyNpbnB1dF9hcGlLZXknKVswXS52YWx1ZTsKICAgICAgICBsb2coImtleTogIiArIGtleSk7CiAgICAgICAgaWYoa2V5ICYmIGtleS50cmltKCkgIT0gIiIpIHsKICAgICAgICAgICAgbG9nKCJhZGRlZCBrZXkgIiArIGtleSk7CiAgICAgICAgICAgIHdpbmRvdy5hdXRob3JpemF0aW9ucy5hZGQoImFwaV9rZXkiLCBuZXcgQXBpS2V5QXV0aG9yaXphdGlvbigiYXBpX2tleSIsIGtleSwgInF1ZXJ5IikpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgJCgnI2lucHV0X2FwaUtleScpLmNoYW5nZShmdW5jdGlvbigpIHsKICAgICAgICBhZGRBcGlLZXlBdXRob3JpemF0aW9uKCk7CiAgICAgIH0pOwoKICAgICAgLy8gaWYgeW91IGhhdmUgYW4gYXBpS2V5IHlvdSB3b3VsZCBsaWtlIHRvIHByZS1wb3B1bGF0ZSBvbiB0aGUgcGFnZSBmb3IgZGVtb25zdHJhdGlvbiBwdXJwb3Nlcy4uLgogICAgICAvKgogICAgICAgIHZhciBhcGlLZXkgPSAibXlBcGlLZXlYWFhYMTIzNDU2Nzg5IjsKICAgICAgICAkKCcjaW5wdXRfYXBpS2V5JykudmFsKGFwaUtleSk7CiAgICAgICAgYWRkQXBpS2V5QXV0aG9yaXphdGlvbigpOwogICAgICAqLwoKICAgICAgd2luZG93LnN3YWdnZXJVaS5sb2FkKCk7CiAgfSk7CiAgPC9zY3JpcHQ+CjwvaGVhZD4KCjxib2R5IGNsYXNzPSJzd2FnZ2VyLXNlY3Rpb24iPgo8ZGl2IGlkPSdoZWFkZXInPgogIDxkaXYgY2xhc3M9InN3YWdnZXItdWktd3JhcCI+CiAgICA8YSBpZD0ibG9nbyIgaHJlZj0iaHR0cDovL3N3YWdnZXIuaW8iPnN3YWdnZXI8L2E+CiAgICA8Zm9ybSBpZD0nYXBpX3NlbGVjdG9yJz4KICAgICAgPGRpdiBjbGFzcz0naW5wdXQnPjxpbnB1dCBwbGFjZWhvbGRlcj0iaHR0cDovL2V4YW1wbGUuY29tL2FwaSIgaWQ9ImlucHV0X2Jhc2VVcmwiIG5hbWU9ImJhc2VVcmwiIHR5cGU9InRleHQiLz48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0naW5wdXQnPjxpbnB1dCBwbGFjZWhvbGRlcj0iYXBpX2tleSIgaWQ9ImlucHV0X2FwaUtleSIgbmFtZT0iYXBpS2V5IiB0eXBlPSJ0ZXh0Ii8+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9J2lucHV0Jz48YSBpZD0iZXhwbG9yZSIgaHJlZj0iIyI+RXhwbG9yZTwvYT48L2Rpdj4KICAgIDwvZm9ybT4KICA8L2Rpdj4KPC9kaXY+Cgo8ZGl2IGlkPSJtZXNzYWdlLWJhciIgY2xhc3M9InN3YWdnZXItdWktd3JhcCI+Jm5ic3A7PC9kaXY+CjxkaXYgaWQ9InN3YWdnZXItdWktY29udGFpbmVyIiBjbGFzcz0ic3dhZ2dlci11aS13cmFwIj48L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+Cg==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="2972886498" offset="0" length="1334" />
      </TcpPackets>
    </HTTPResponse>
    <HTTPTask id="109" hostname="10.239.251.82" path="/swagger-static/css/typography.css" url="http://10.239.251.82:8080/swagger-static/css/typography.css" ip="10.239.251.82" port="8080" connectionId="5" origin="HTML" frame="1" startTime="2972886529" endTime="2972886966">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3MsKi8qO3E9MC4x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9jc3MvdHlwb2dyYXBoeS5jc3MgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiB0ZXh0L2NzcywqLyo7cT0wLjENClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KUmVmZXJlcjogaHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHNkY2gNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoxOSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ijg0NzVlZjg1YzY2ZDQ0OGFhYzcyNzFlNGZjN2UyYmYyLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MzU3</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjE5IEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogdGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KRVRhZzogIjg0NzVlZjg1YzY2ZDQ0OGFhYzcyNzFlNGZjN2UyYmYyLS1nemlwIg0KQ29udGVudC1MZW5ndGg6IDM1Nw0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyogZHJvaWQtc2Fucy1yZWd1bGFyIC0gbGF0aW4gKi8KQGZvbnQtZmFjZSB7CiAgZm9udC1mYW1pbHk6ICdEcm9pZCBTYW5zJzsKICBmb250LXN0eWxlOiBub3JtYWw7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBzcmM6IHVybCgnLi4vZm9udHMvZHJvaWQtc2Fucy12Ni1sYXRpbi1yZWd1bGFyLmVvdCcpOyAvKiBJRTkgQ29tcGF0IE1vZGVzICovCiAgc3JjOiBsb2NhbCgnRHJvaWQgU2FucycpLCBsb2NhbCgnRHJvaWRTYW5zJyksCiAgICAgICB1cmwoJy4uL2ZvbnRzL2Ryb2lkLXNhbnMtdjYtbGF0aW4tcmVndWxhci5lb3Q/I2llZml4JykgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLCAvKiBJRTYtSUU4ICovCiAgICAgICB1cmwoJy4uL2ZvbnRzL2Ryb2lkLXNhbnMtdjYtbGF0aW4tcmVndWxhci53b2ZmMicpIGZvcm1hdCgnd29mZjInKSwgLyogU3VwZXIgTW9kZXJuIEJyb3dzZXJzICovCiAgICAgICB1cmwoJy4uL2ZvbnRzL2Ryb2lkLXNhbnMtdjYtbGF0aW4tcmVndWxhci53b2ZmJykgZm9ybWF0KCd3b2ZmJyksIC8qIE1vZGVybiBCcm93c2VycyAqLwogICAgICAgdXJsKCcuLi9mb250cy9kcm9pZC1zYW5zLXY2LWxhdGluLXJlZ3VsYXIudHRmJykgZm9ybWF0KCd0cnVldHlwZScpLCAvKiBTYWZhcmksIEFuZHJvaWQsIGlPUyAqLwogICAgICAgdXJsKCcuLi9mb250cy9kcm9pZC1zYW5zLXY2LWxhdGluLXJlZ3VsYXIuc3ZnI0Ryb2lkU2FucycpIGZvcm1hdCgnc3ZnJyk7IC8qIExlZ2FjeSBpT1MgKi8KfQovKiBkcm9pZC1zYW5zLTcwMCAtIGxhdGluICovCkBmb250LWZhY2UgewogIGZvbnQtZmFtaWx5OiAnRHJvaWQgU2Fucyc7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgc3JjOiB1cmwoJy4uL2ZvbnRzL2Ryb2lkLXNhbnMtdjYtbGF0aW4tNzAwLmVvdCcpOyAvKiBJRTkgQ29tcGF0IE1vZGVzICovCiAgc3JjOiBsb2NhbCgnRHJvaWQgU2FucyBCb2xkJyksIGxvY2FsKCdEcm9pZFNhbnMtQm9sZCcpLAogICAgICAgdXJsKCcuLi9mb250cy9kcm9pZC1zYW5zLXY2LWxhdGluLTcwMC5lb3Q/I2llZml4JykgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLCAvKiBJRTYtSUU4ICovCiAgICAgICB1cmwoJy4uL2ZvbnRzL2Ryb2lkLXNhbnMtdjYtbGF0aW4tNzAwLndvZmYyJykgZm9ybWF0KCd3b2ZmMicpLCAvKiBTdXBlciBNb2Rlcm4gQnJvd3NlcnMgKi8KICAgICAgIHVybCgnLi4vZm9udHMvZHJvaWQtc2Fucy12Ni1sYXRpbi03MDAud29mZicpIGZvcm1hdCgnd29mZicpLCAvKiBNb2Rlcm4gQnJvd3NlcnMgKi8KICAgICAgIHVybCgnLi4vZm9udHMvZHJvaWQtc2Fucy12Ni1sYXRpbi03MDAudHRmJykgZm9ybWF0KCd0cnVldHlwZScpLCAvKiBTYWZhcmksIEFuZHJvaWQsIGlPUyAqLwogICAgICAgdXJsKCcuLi9mb250cy9kcm9pZC1zYW5zLXY2LWxhdGluLTcwMC5zdmcjRHJvaWRTYW5zJykgZm9ybWF0KCdzdmcnKTsgLyogTGVnYWN5IGlPUyAqLwp9Cg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972886951" offset="0" length="614" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="120" hostname="10.239.251.82" path="/swagger-static/css/reset.css" url="http://10.239.251.82:8080/swagger-static/css/reset.css" ip="10.239.251.82" port="8080" connectionId="7" origin="HTML" frame="1" startTime="2972887699" endTime="2972887762">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3MsKi8qO3E9MC4x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9jc3MvcmVzZXQuY3NzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogdGV4dC9jc3MsKi8qO3E9MC4xDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjBlM2U5Yzk2ODMwMzBkMzk0ZjBkN2MzOGUzNDFiYWNlLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTgz</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogdGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KRVRhZzogIjBlM2U5Yzk2ODMwMzBkMzk0ZjBkN2MzOGUzNDFiYWNlLS1nemlwIg0KQ29udGVudC1MZW5ndGg6IDU4Mw0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyogaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2Nzcy9yZXNldC8gdjIuMCB8IDIwMTEwMTI2ICovCmh0bWwsCmJvZHksCmRpdiwKc3BhbiwKYXBwbGV0LApvYmplY3QsCmlmcmFtZSwKaDEsCmgyLApoMywKaDQsCmg1LApoNiwKcCwKYmxvY2txdW90ZSwKcHJlLAphLAphYmJyLAphY3JvbnltLAphZGRyZXNzLApiaWcsCmNpdGUsCmNvZGUsCmRlbCwKZGZuLAplbSwKaW1nLAppbnMsCmtiZCwKcSwKcywKc2FtcCwKc21hbGwsCnN0cmlrZSwKc3Ryb25nLApzdWIsCnN1cCwKdHQsCnZhciwKYiwKdSwKaSwKY2VudGVyLApkbCwKZHQsCmRkLApvbCwKdWwsCmxpLApmaWVsZHNldCwKZm9ybSwKbGFiZWwsCmxlZ2VuZCwKdGFibGUsCmNhcHRpb24sCnRib2R5LAp0Zm9vdCwKdGhlYWQsCnRyLAp0aCwKdGQsCmFydGljbGUsCmFzaWRlLApjYW52YXMsCmRldGFpbHMsCmVtYmVkLApmaWd1cmUsCmZpZ2NhcHRpb24sCmZvb3RlciwKaGVhZGVyLApoZ3JvdXAsCm1lbnUsCm5hdiwKb3V0cHV0LApydWJ5LApzZWN0aW9uLApzdW1tYXJ5LAp0aW1lLAptYXJrLAphdWRpbywKdmlkZW8gewogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwogIGJvcmRlcjogMDsKICBmb250LXNpemU6IDEwMCU7CiAgZm9udDogaW5oZXJpdDsKICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7Cn0KLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqLwphcnRpY2xlLAphc2lkZSwKZGV0YWlscywKZmlnY2FwdGlvbiwKZmlndXJlLApmb290ZXIsCmhlYWRlciwKaGdyb3VwLAptZW51LApuYXYsCnNlY3Rpb24gewogIGRpc3BsYXk6IGJsb2NrOwp9CmJvZHkgewogIGxpbmUtaGVpZ2h0OiAxOwp9Cm9sLAp1bCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQpibG9ja3F1b3RlLApxIHsKICBxdW90ZXM6IG5vbmU7Cn0KYmxvY2txdW90ZTpiZWZvcmUsCmJsb2NrcXVvdGU6YWZ0ZXIsCnE6YmVmb3JlLApxOmFmdGVyIHsKICBjb250ZW50OiAnJzsKICBjb250ZW50OiBub25lOwp9CnRhYmxlIHsKICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogIGJvcmRlci1zcGFjaW5nOiAwOwp9Cg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887746" offset="0" length="840" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="122" hostname="10.239.251.82" path="/swagger-static/lib/jquery.wiggle.min.js" url="http://10.239.251.82:8080/swagger-static/lib/jquery.wiggle.min.js" ip="10.239.251.82" port="8080" connectionId="5" origin="HTML" frame="1" startTime="2972887699" endTime="2972887762">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvanF1ZXJ5LndpZ2dsZS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiAqLyoNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KUmVmZXJlcjogaHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHNkY2gNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ijc4MTZkN2ZjNzA2OTY1YzQzMGU2YzMxM2ViNDhhYTExLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDQ3</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiNzgxNmQ3ZmM3MDY5NjVjNDMwZTZjMzEzZWI0OGFhMTEtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogNDQ3DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoKalF1ZXJ5IFdpZ2dsZQpBdXRob3I6IFdvbmRlckdyb3VwLCBKb3JkYW4gVGhvbWFzClVSTDogaHR0cDovL2xhYnMud29uZGVyZ3JvdXAuY29tL2RlbW9zL21pbmktdWkvaW5kZXguaHRtbApMaWNlbnNlOiBNSVQgKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2UpCiovCmpRdWVyeS5mbi53aWdnbGU9ZnVuY3Rpb24obyl7dmFyIGQ9e3NwZWVkOjUwLHdpZ2dsZXM6Myx0cmF2ZWw6NSxjYWxsYmFjazpudWxsfTt2YXIgbz1qUXVlcnkuZXh0ZW5kKGQsbyk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjYWNoZT10aGlzO3ZhciB3cmFwPWpRdWVyeSh0aGlzKS53cmFwKCc8ZGl2IGNsYXNzPSJ3aWdnbGUtd3JhcCI+PC9kaXY+JykuY3NzKCJwb3NpdGlvbiIsInJlbGF0aXZlIik7dmFyIGNhbGxzPTA7Zm9yKGk9MTtpPD1vLndpZ2dsZXM7aSsrKXtqUXVlcnkodGhpcykuYW5pbWF0ZSh7bGVmdDoiLT0iK28udHJhdmVsfSxvLnNwZWVkKS5hbmltYXRlKHtsZWZ0OiIrPSIrby50cmF2ZWwqMn0sby5zcGVlZCoyKS5hbmltYXRlKHtsZWZ0OiItPSIrby50cmF2ZWx9LG8uc3BlZWQsZnVuY3Rpb24oKXtjYWxscysrO2lmKGpRdWVyeShjYWNoZSkucGFyZW50KCkuaGFzQ2xhc3MoJ3dpZ2dsZS13cmFwJykpe2pRdWVyeShjYWNoZSkucGFyZW50KCkucmVwbGFjZVdpdGgoY2FjaGUpO30KaWYoY2FsbHM9PW8ud2lnZ2xlcyYmalF1ZXJ5LmlzRnVuY3Rpb24oby5jYWxsYmFjaykpe28uY2FsbGJhY2soKTt9fSk7fX0pO307</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887762" offset="0" length="703" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="124" hostname="10.239.251.82" path="/swagger-static/css/screen.css" url="http://10.239.251.82:8080/swagger-static/css/screen.css" ip="10.239.251.82" port="8080" connectionId="8" origin="HTML" frame="1" startTime="2972887699" endTime="2972887777">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3MsKi8qO3E9MC4x</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9jc3Mvc2NyZWVuLmNzcyBIVFRQLzEuMQ0KSG9zdDogMTAuMjM5LjI1MS44Mjo4MDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpBY2NlcHQ6IHRleHQvY3NzLCovKjtxPTAuMQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2DQpSZWZlcmVyOiBodHRwOi8vMTAuMjM5LjI1MS44Mjo4MDgwL3N3YWdnZXINCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgc2RjaA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ImNjYzk5ZWNhOTFhZTRlMjgxMDM3MGMyNmIyYWVkOWNiLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTE1Nw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogdGV4dC9jc3M7IGNoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KRVRhZzogImNjYzk5ZWNhOTFhZTRlMjgxMDM3MGMyNmIyYWVkOWNiLS1nemlwIg0KQ29udGVudC1MZW5ndGg6IDUxNTcNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyogT3JpZ2luYWwgc3R5bGUgZnJvbSBzb2Z0d2FyZW1hbmlhY3Mub3JnIChjKSBJdmFuIFNhZ2FsYWV2IDxNYW5pYWNAU29mdHdhcmVNYW5pYWNzLk9yZz4gKi8KLnN3YWdnZXItc2VjdGlvbiBwcmUgY29kZSB7CiAgZGlzcGxheTogYmxvY2s7CiAgcGFkZGluZzogMC41ZW07CiAgYmFja2dyb3VuZDogI0YwRjBGMDsKfQouc3dhZ2dlci1zZWN0aW9uIHByZSBjb2RlLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuc3Vic3QsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC50YWcgLnRpdGxlLAouc3dhZ2dlci1zZWN0aW9uIHByZSAubGlzcCAudGl0bGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5jbG9qdXJlIC5idWlsdF9pbiwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLm5naW54IC50aXRsZSB7CiAgY29sb3I6IGJsYWNrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5zdHJpbmcsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC50aXRsZSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmNvbnN0YW50LAouc3dhZ2dlci1zZWN0aW9uIHByZSAucGFyZW50LAouc3dhZ2dlci1zZWN0aW9uIHByZSAudGFnIC52YWx1ZSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnJ1bGVzIC52YWx1ZSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnJ1bGVzIC52YWx1ZSAubnVtYmVyLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucHJlcHJvY2Vzc29yLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucnVieSAuc3ltYm9sLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucnVieSAuc3ltYm9sIC5zdHJpbmcsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5hZ2dyZWdhdGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC50ZW1wbGF0ZV90YWcsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5kamFuZ28gLnZhcmlhYmxlLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuc21hbGx0YWxrIC5jbGFzcywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmFkZGl0aW9uLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZmxvdywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnN0cmVhbSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmJhc2ggLnZhcmlhYmxlLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuYXBhY2hlIC50YWcsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5hcGFjaGUgLmNicmFja2V0LAouc3dhZ2dlci1zZWN0aW9uIHByZSAudGV4IC5jb21tYW5kLAouc3dhZ2dlci1zZWN0aW9uIHByZSAudGV4IC5zcGVjaWFsLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZXJsYW5nX3JlcGwgLmZ1bmN0aW9uX29yX2F0b20sCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5tYXJrZG93biAuaGVhZGVyIHsKICBjb2xvcjogIzgwMDsKfQouc3dhZ2dlci1zZWN0aW9uIHByZSAuY29tbWVudCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmFubm90YXRpb24sCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC50ZW1wbGF0ZV9jb21tZW50LAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZGlmZiAuaGVhZGVyLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuY2h1bmssCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5tYXJrZG93biAuYmxvY2txdW90ZSB7CiAgY29sb3I6ICM4ODg7Cn0KLnN3YWdnZXItc2VjdGlvbiBwcmUgLm51bWJlciwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmRhdGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5yZWdleHAsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5saXRlcmFsLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuc21hbGx0YWxrIC5zeW1ib2wsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5zbWFsbHRhbGsgLmNoYXIsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5nbyAuY29uc3RhbnQsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5jaGFuZ2UsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5tYXJrZG93biAuYnVsbGV0LAouc3dhZ2dlci1zZWN0aW9uIHByZSAubWFya2Rvd24gLmxpbmtfdXJsIHsKICBjb2xvcjogIzA4MDsKfQouc3dhZ2dlci1zZWN0aW9uIHByZSAubGFiZWwsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5qYXZhZG9jLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucnVieSAuc3RyaW5nLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZGVjb3JhdG9yLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZmlsdGVyIC5hcmd1bWVudCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmxvY2FsdmFycywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmFycmF5LAouc3dhZ2dlci1zZWN0aW9uIHByZSAuYXR0cl9zZWxlY3RvciwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmltcG9ydGFudCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnBzZXVkbywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnBpLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZG9jdHlwZSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmRlbGV0aW9uLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZW52dmFyLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuc2hlYmFuZywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmFwYWNoZSAuc3FicmFja2V0LAouc3dhZ2dlci1zZWN0aW9uIHByZSAubmdpbnggLmJ1aWx0X2luLAouc3dhZ2dlci1zZWN0aW9uIHByZSAudGV4IC5mb3JtdWxhLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuZXJsYW5nX3JlcGwgLnJlc2VydmVkLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucHJvbXB0LAouc3dhZ2dlci1zZWN0aW9uIHByZSAubWFya2Rvd24gLmxpbmtfbGFiZWwsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC52aGRsIC5hdHRyaWJ1dGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5jbG9qdXJlIC5hdHRyaWJ1dGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5jb2ZmZWVzY3JpcHQgLnByb3BlcnR5IHsKICBjb2xvcjogIzg4ODhmZjsKfQouc3dhZ2dlci1zZWN0aW9uIHByZSAua2V5d29yZCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmlkLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucGhwZG9jLAouc3dhZ2dlci1zZWN0aW9uIHByZSAudGl0bGUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5idWlsdF9pbiwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmFnZ3JlZ2F0ZSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmNzcyAudGFnLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuamF2YWRvY3RhZywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnBocGRvYywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnlhcmRvY3RhZywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnNtYWxsdGFsayAuY2xhc3MsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC53aW51dGlscywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmJhc2ggLnZhcmlhYmxlLAouc3dhZ2dlci1zZWN0aW9uIHByZSAuYXBhY2hlIC50YWcsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5nbyAudHlwZW5hbWUsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC50ZXggLmNvbW1hbmQsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5tYXJrZG93biAuc3Ryb25nLAouc3dhZ2dlci1zZWN0aW9uIHByZSAucmVxdWVzdCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnN0YXR1cyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnN3YWdnZXItc2VjdGlvbiBwcmUgLm1hcmtkb3duIC5lbXBoYXNpcyB7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gcHJlIC5uZ2lueCAuYnVpbHRfaW4gewogIGZvbnQtd2VpZ2h0OiBub3JtYWw7Cn0KLnN3YWdnZXItc2VjdGlvbiBwcmUgLmNvZmZlZXNjcmlwdCAuamF2YXNjcmlwdCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLmphdmFzY3JpcHQgLnhtbCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnRleCAuZm9ybXVsYSwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnhtbCAuamF2YXNjcmlwdCwKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnhtbCAudmJzY3JpcHQsCi5zd2FnZ2VyLXNlY3Rpb24gcHJlIC54bWwgLmNzcywKLnN3YWdnZXItc2VjdGlvbiBwcmUgLnhtbCAuY2RhdGEgewogIG9wYWNpdHk6IDAuNTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgewogIGxpbmUtaGVpZ2h0OiAxOwogIGZvbnQtZmFtaWx5OiAiRHJvaWQgU2FucyIsIHNhbnMtc2VyaWY7CiAgbWF4LXdpZHRoOiA5NjBweDsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGIsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBzdHJvbmcgewogIGZvbnQtZmFtaWx5OiAiRHJvaWQgU2FucyIsIHNhbnMtc2VyaWY7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHEsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBibG9ja3F1b3RlIHsKICBxdW90ZXM6IG5vbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHAgewogIGxpbmUtaGVpZ2h0OiAxLjRlbTsKICBwYWRkaW5nOiAwIDAgMTBweDsKICBjb2xvcjogIzMzMzMzMzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgcTpiZWZvcmUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBxOmFmdGVyLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgYmxvY2txdW90ZTpiZWZvcmUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBibG9ja3F1b3RlOmFmdGVyIHsKICBjb250ZW50OiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDEsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDIsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDMsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgaDYgewogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiBsZWZ0OwogIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDsKICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgLW1zLWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICB3aWR0aDogNjAlOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB0YWJsZSB7CiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICBib3JkZXItc3BhY2luZzogMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdGFibGUgdGhlYWQgdHIgdGggewogIHBhZGRpbmc6IDVweDsKICBmb250LXNpemU6IDAuOWVtOwogIGNvbG9yOiAjNjY2NjY2OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOTk5OTk5Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB0YWJsZSB0Ym9keSB0cjpsYXN0LWNoaWxkIHRkIHsKICBib3JkZXItYm90dG9tOiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB0YWJsZSB0Ym9keSB0ci5vZmZzZXQgewogIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHRhYmxlIHRib2R5IHRyIHRkIHsKICBwYWRkaW5nOiA2cHg7CiAgZm9udC1zaXplOiAwLjllbTsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjY2NjYzsKICB2ZXJ0aWNhbC1hbGlnbjogdG9wOwogIGxpbmUtaGVpZ2h0OiAxLjNlbTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgb2wgewogIG1hcmdpbjogMHB4IDAgMTBweDsKICBwYWRkaW5nOiAwIDAgMCAxOHB4OwogIGxpc3Qtc3R5bGUtdHlwZTogZGVjaW1hbDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgb2wgbGkgewogIHBhZGRpbmc6IDVweCAwcHg7CiAgZm9udC1zaXplOiAwLjllbTsKICBjb2xvcjogIzMzMzMzMzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgb2wsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDEgYSwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgyIGEsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoMyBhLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDQgYSwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGg1IGEsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoNiBhIHsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgxIGE6aG92ZXIsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoMiBhOmhvdmVyLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDMgYTpob3ZlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGg0IGE6aG92ZXIsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoNSBhOmhvdmVyLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDYgYTpob3ZlciB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgxIHNwYW4uZGl2aWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgyIHNwYW4uZGl2aWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgzIHNwYW4uZGl2aWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGg0IHNwYW4uZGl2aWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGg1IHNwYW4uZGl2aWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGg2IHNwYW4uZGl2aWRlciB7CiAgY29sb3I6ICNhYWFhYWE7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGEgewogIGNvbG9yOiAjNTQ3ZjAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBhIGltZyB7CiAgYm9yZGVyOiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBhcnRpY2xlLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgYXNpZGUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBkZXRhaWxzLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZmlnY2FwdGlvbiwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZpZ3VyZSwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvb3RlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGhlYWRlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGhncm91cCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIG1lbnUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBuYXYsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBzZWN0aW9uLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgc3VtbWFyeSB7CiAgZGlzcGxheTogYmxvY2s7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHByZSB7CiAgZm9udC1mYW1pbHk6ICJBbm9ueW1vdXMgUHJvIiwgIk1lbmxvIiwgIkNvbnNvbGFzIiwgIkJpdHN0cmVhbSBWZXJhIFNhbnMgTW9ubyIsICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmNmRiOwogIGJvcmRlcjogMXB4IHNvbGlkICNlNWUwYzY7CiAgcGFkZGluZzogMTBweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgcHJlIGNvZGUgewogIGxpbmUtaGVpZ2h0OiAxLjZlbTsKICBiYWNrZ3JvdW5kOiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuY29udGVudCA+IC5jb250ZW50LXR5cGUgPiBkaXYgPiBsYWJlbCB7CiAgY2xlYXI6IGJvdGg7CiAgZGlzcGxheTogYmxvY2s7CiAgY29sb3I6ICMwRjZBQjQ7CiAgZm9udC1zaXplOiAxLjFlbTsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMTVweCAwIDVweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmNvbnRlbnQgcHJlIHsKICBmb250LXNpemU6IDEycHg7CiAgbWFyZ2luLXRvcDogNXB4OwogIHBhZGRpbmc6IDVweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmljb24tYnRuIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX3RpdGxlIHsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICBmb250LXdlaWdodDogYm9sZDsKICBmb250LXNpemU6IDI1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHAuYmlnLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZGl2LmJpZyBwIHsKICBmb250LXNpemU6IDFlbTsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZ1bGx3aWR0aCBvbCBsaS5zdHJpbmcgaW5wdXQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZ1bGx3aWR0aCBvbCBsaS51cmwgaW5wdXQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZ1bGx3aWR0aCBvbCBsaS50ZXh0IHRleHRhcmVhLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mdWxsd2lkdGggb2wgbGkubnVtZXJpYyBpbnB1dCB7CiAgd2lkdGg6IDUwMHB4ICFpbXBvcnRhbnQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX2xpY2Vuc2UgewogIHBhZGRpbmctYm90dG9tOiA1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX3RvcyB7CiAgcGFkZGluZy1ib3R0b206IDVweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1lc3NhZ2UtZmFpbCB7CiAgY29sb3I6ICNjYzAwMDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX3VybCB7CiAgcGFkZGluZy1ib3R0b206IDVweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmluZm9fZW1haWwgewogIHBhZGRpbmctYm90dG9tOiA1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX25hbWUgewogIHBhZGRpbmctYm90dG9tOiA1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5pbmZvX2Rlc2NyaXB0aW9uIHsKICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICBmb250LXNpemU6IDE1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tYXJrZG93biBvbCBsaSwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tYXJrZG93biB1bCBsaSB7CiAgcGFkZGluZzogM3B4IDBweDsKICBsaW5lLWhlaWdodDogMS40ZW07CiAgY29sb3I6ICMzMzMzMzM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkuc3RyaW5nIGlucHV0LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtdGFzdGljIGZpZWxkc2V0LmlucHV0cyBvbCBsaS51cmwgaW5wdXQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm10YXN0aWMgZmllbGRzZXQuaW5wdXRzIG9sIGxpLm51bWVyaWMgaW5wdXQgewogIGRpc3BsYXk6IGJsb2NrOwogIHBhZGRpbmc6IDRweDsKICB3aWR0aDogYXV0bzsKICBjbGVhcjogYm90aDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtdGFzdGljIGZpZWxkc2V0LmlucHV0cyBvbCBsaS5zdHJpbmcgaW5wdXQudGl0bGUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm10YXN0aWMgZmllbGRzZXQuaW5wdXRzIG9sIGxpLnVybCBpbnB1dC50aXRsZSwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkubnVtZXJpYyBpbnB1dC50aXRsZSB7CiAgZm9udC1zaXplOiAxLjNlbTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdGFibGUuZnVsbHdpZHRoIHsKICB3aWR0aDogMTAwJTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSB7CiAgZm9udC1mYW1pbHk6ICJEcm9pZCBTYW5zIiwgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDFlbTsKICBsaW5lLWhlaWdodDogMS41ZW07Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgLnNpZ25hdHVyZS1uYXYgYSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiAjQUFBOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5zaWduYXR1cmUtbmF2IGE6aG92ZXIgewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwogIGNvbG9yOiBibGFjazsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSAuc2lnbmF0dXJlLW5hdiAuc2VsZWN0ZWQgewogIGNvbG9yOiBibGFjazsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgLnByb3BUeXBlIHsKICBjb2xvcjogIzU1NTVhYTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSBwcmU6aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZGQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgcHJlIHsKICBmb250LXNpemU6IC44NWVtOwogIGxpbmUtaGVpZ2h0OiAxLjJlbTsKICBvdmVyZmxvdzogYXV0bzsKICBtYXgtaGVpZ2h0OiAyMDBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgdWwuc2lnbmF0dXJlLW5hdiB7CiAgZGlzcGxheTogYmxvY2s7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgdWwuc2lnbmF0dXJlLW5hdiBsaTpsYXN0LWNoaWxkIHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIGJvcmRlci1yaWdodDogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSB1bC5zaWduYXR1cmUtbmF2IGxpIHsKICBmbG9hdDogbGVmdDsKICBtYXJnaW46IDAgNXB4IDVweCAwOwogIHBhZGRpbmc6IDJweCA1cHggMnB4IDA7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSAucHJvcE9wdCB7CiAgY29sb3I6ICM1NTU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgLnNuaXBwZXQgc21hbGwgewogIGZvbnQtc2l6ZTogMC43NWVtOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5wcm9wT3B0S2V5IHsKICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tb2RlbC1zaWduYXR1cmUgLmRlc2NyaXB0aW9uIC5zdHJvbmcgewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAjMDAwOwogIGZvbnQtc2l6ZTogLjllbTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSAuZGVzY3JpcHRpb24gZGl2IHsKICBmb250LXNpemU6IDAuOWVtOwogIGxpbmUtaGVpZ2h0OiAxLjVlbTsKICBtYXJnaW4tbGVmdDogMWVtOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5kZXNjcmlwdGlvbiAuc3Ryb25nZXIgewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAjMDAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5kZXNjcmlwdGlvbiAucHJvcFdyYXAgLm9wdGlvbnNXcmFwcGVyIHsKICBib3JkZXItc3BhY2luZzogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjYmJiYmJiOwogIGRpc3BsYXk6IG5vbmU7CiAgZm9udC1zaXplOiAxMXB4OwogIG1heC13aWR0aDogNDAwcHg7CiAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgY29sb3I6IGJsYWNrOwogIHBhZGRpbmc6IDVweDsKICBtYXJnaW4tbGVmdDogMTBweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSAuZGVzY3JpcHRpb24gLnByb3BXcmFwIC5vcHRpb25zV3JhcHBlciB0aCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7CiAgYm9yZGVyOiAxcHggc29saWQgI2JiYmJiYjsKICBmb250LXNpemU6IDExcHg7CiAgY29sb3I6ICM2NjY2NjY7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgcGFkZGluZzogNXB4OwogIGxpbmUtaGVpZ2h0OiAxNXB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5kZXNjcmlwdGlvbiAucHJvcFdyYXAgLm9wdGlvbnNXcmFwcGVyIC5vcHRpb25OYW1lIHsKICBmb250LXdlaWdodDogYm9sZDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1vZGVsLXNpZ25hdHVyZSAucHJvcE5hbWUgewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubW9kZWwtc2lnbmF0dXJlIC5zaWduYXR1cmUtY29udGFpbmVyIHsKICBjbGVhcjogYm90aDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmJvZHktdGV4dGFyZWEgewogIHdpZHRoOiAzMDBweDsKICBoZWlnaHQ6IDEwMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNhYWE7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIC5tYXJrZG93biBwIGNvZGUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubWFya2Rvd24gbGkgY29kZSB7CiAgZm9udC1mYW1pbHk6ICJBbm9ueW1vdXMgUHJvIiwgIk1lbmxvIiwgIkNvbnNvbGFzIiwgIkJpdHN0cmVhbSBWZXJhIFNhbnMgTW9ubyIsICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwOwogIGNvbG9yOiBibGFjazsKICBwYWRkaW5nOiAxcHggM3B4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAucmVxdWlyZWQgewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBpbnB1dC5wYXJhbWV0ZXIgewogIHdpZHRoOiAzMDBweDsKICBib3JkZXI6IDFweCBzb2xpZCAjYWFhOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoMSB7CiAgY29sb3I6IGJsYWNrOwogIGZvbnQtc2l6ZTogMS41ZW07CiAgbGluZS1oZWlnaHQ6IDEuM2VtOwogIHBhZGRpbmc6IDEwcHggMCAxMHB4IDA7CiAgZm9udC1mYW1pbHk6ICJEcm9pZCBTYW5zIiwgc2Fucy1zZXJpZjsKICBmb250LXdlaWdodDogYm9sZDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmhlYWRpbmdfd2l0aF9tZW51IHsKICBmbG9hdDogbm9uZTsKICBjbGVhcjogYm90aDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGRpc3BsYXk6IGJsb2NrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAuaGVhZGluZ193aXRoX21lbnUgdWwgewogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiByaWdodDsKICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgbWFyZ2luLXRvcDogMTBweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDIgewogIGNvbG9yOiBibGFjazsKICBmb250LXNpemU6IDEuM2VtOwogIHBhZGRpbmc6IDEwcHggMCAxMHB4IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGgyIGEgewogIGNvbG9yOiBibGFjazsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgaDIgc3Bhbi5zdWIgewogIGZvbnQtc2l6ZTogMC43ZW07CiAgY29sb3I6ICM5OTk5OTk7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoMiBzcGFuLnN1YiBhIHsKICBjb2xvcjogIzc3Nzc3NzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgc3Bhbi53ZWFrIHsKICBjb2xvcjogIzY2NjY2NjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1lc3NhZ2Utc3VjY2VzcyB7CiAgY29sb3I6ICM4OUJGMDQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGNhcHRpb24sCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB0aCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHRkIHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLmNvZGUgewogIGZvbnQtZmFtaWx5OiAiQW5vbnltb3VzIFBybyIsICJNZW5sbyIsICJDb25zb2xhcyIsICJCaXRzdHJlYW0gVmVyYSBTYW5zIE1vbm8iLCAiQ291cmllciBOZXciLCBtb25vc3BhY2U7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkudGV4dCB0ZXh0YXJlYSB7CiAgZm9udC1mYW1pbHk6ICJEcm9pZCBTYW5zIiwgc2Fucy1zZXJpZjsKICBoZWlnaHQ6IDI1MHB4OwogIHBhZGRpbmc6IDRweDsKICBkaXNwbGF5OiBibG9jazsKICBjbGVhcjogYm90aDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtdGFzdGljIGZpZWxkc2V0LmlucHV0cyBvbCBsaS5zZWxlY3Qgc2VsZWN0IHsKICBkaXNwbGF5OiBibG9jazsKICBjbGVhcjogYm90aDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtdGFzdGljIGZpZWxkc2V0LmlucHV0cyBvbCBsaS5ib29sZWFuIHsKICBmbG9hdDogbm9uZTsKICBjbGVhcjogYm90aDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGRpc3BsYXk6IGJsb2NrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm10YXN0aWMgZmllbGRzZXQuaW5wdXRzIG9sIGxpLmJvb2xlYW4gbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIGZsb2F0OiBsZWZ0OwogIGNsZWFyOiBub25lOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm10YXN0aWMgZmllbGRzZXQuaW5wdXRzIG9sIGxpLmJvb2xlYW4gaW5wdXQgewogIGRpc3BsYXk6IGJsb2NrOwogIGZsb2F0OiBsZWZ0OwogIGNsZWFyOiBub25lOwogIG1hcmdpbjogMCA1cHggMCAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm10YXN0aWMgZmllbGRzZXQuaW5wdXRzIG9sIGxpLnJlcXVpcmVkIGxhYmVsIHsKICBjb2xvcjogYmxhY2s7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkgbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBib3RoOwogIHdpZHRoOiBhdXRvOwogIHBhZGRpbmc6IDAgMCAzcHg7CiAgY29sb3I6ICM2NjY2NjY7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkgbGFiZWwgYWJiciB7CiAgcGFkZGluZy1sZWZ0OiAzcHg7CiAgY29sb3I6ICM4ODg4ODg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybXRhc3RpYyBmaWVsZHNldC5pbnB1dHMgb2wgbGkgcC5pbmxpbmUtaGludHMgewogIG1hcmdpbi1sZWZ0OiAwOwogIGZvbnQtc3R5bGU6IGl0YWxpYzsKICBmb250LXNpemU6IDAuOWVtOwogIG1hcmdpbjogMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtdGFzdGljIGZpZWxkc2V0LmJ1dHRvbnMgewogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBzcGFuLmJsYW5rLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgc3Bhbi5lbXB0eSB7CiAgY29sb3I6ICM4ODg4ODg7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubWFya2Rvd24gaDMgewogIGNvbG9yOiAjNTQ3ZjAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubWFya2Rvd24gaDQgewogIGNvbG9yOiAjNjY2NjY2Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCAubWFya2Rvd24gcHJlIHsKICBmb250LWZhbWlseTogIkFub255bW91cyBQcm8iLCAiTWVubG8iLCAiQ29uc29sYXMiLCAiQml0c3RyZWFtIFZlcmEgU2FucyBNb25vIiwgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOwogIGJhY2tncm91bmQtY29sb3I6ICNmY2Y2ZGI7CiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTBjNjsKICBwYWRkaW5nOiAxMHB4OwogIG1hcmdpbjogMCAwIDEwcHggMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1hcmtkb3duIHByZSBjb2RlIHsKICBsaW5lLWhlaWdodDogMS42ZW07Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGRpdi5naXN0IHsKICBtYXJnaW46IDIwcHggMCAyNXB4IDAgIWltcG9ydGFudDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIHsKICBmb250LWZhbWlseTogIkRyb2lkIFNhbnMiLCBzYW5zLXNlcmlmOwogIGZvbnQtc2l6ZTogMC45ZW07Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGRkZGQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZTpob3ZlciBkaXYuaGVhZGluZyBoMiBhLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlLmFjdGl2ZSBkaXYuaGVhZGluZyBoMiBhIHsKICBjb2xvcjogYmxhY2s7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZTpob3ZlciBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIGEsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UuYWN0aXZlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgYSB7CiAgY29sb3I6ICM1NTU1NTU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZTpsYXN0LWNoaWxkIHsKICBib3JkZXItYm90dG9tOiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgZGl2LmhlYWRpbmcgewogIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OwogIGZsb2F0OiBub25lOwogIGNsZWFyOiBib3RoOwogIG92ZXJmbG93OiBoaWRkZW47CiAgZGlzcGxheTogYmxvY2s7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zIHsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBhZGRpbmc6IDA7CiAgZGlzcGxheTogYmxvY2s7CiAgY2xlYXI6IG5vbmU7CiAgZmxvYXQ6IHJpZ2h0OwogIG1hcmdpbjogMTRweCAxMHB4IDAgMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgewogIGZsb2F0OiBsZWZ0OwogIGNsZWFyOiBub25lOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAycHggMTBweDsKICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkZGRkOwogIGNvbG9yOiAjNjY2NjY2OwogIGZvbnQtc2l6ZTogMC45ZW07Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIGEgewogIGNvbG9yOiAjYWFhYWFhOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgYTpob3ZlciB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgY29sb3I6IGJsYWNrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSBhOmhvdmVyLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgYTphY3RpdmUsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSBhLmFjdGl2ZSB7CiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpOmZpcnN0LWNoaWxkLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkuZmlyc3QgewogIHBhZGRpbmctbGVmdDogMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGk6bGFzdC1jaGlsZCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpLmxhc3QgewogIHBhZGRpbmctcmlnaHQ6IDA7CiAgYm9yZGVyLXJpZ2h0OiBub25lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgZGl2LmhlYWRpbmcgdWwub3B0aW9uczpmaXJzdC1jaGlsZCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zLmZpcnN0IHsKICBwYWRkaW5nLWxlZnQ6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyBoMiB7CiAgY29sb3I6ICM5OTk5OTk7CiAgcGFkZGluZy1sZWZ0OiAwOwogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiBsZWZ0OwogIGZvbnQtZmFtaWx5OiAiRHJvaWQgU2FucyIsIHNhbnMtc2VyaWY7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSBkaXYuaGVhZGluZyBoMiBhIHsKICBjb2xvcjogIzk5OTk5OTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIGRpdi5oZWFkaW5nIGgyIGE6aG92ZXIgewogIGNvbG9yOiBibGFjazsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbiB7CiAgZmxvYXQ6IG5vbmU7CiAgY2xlYXI6IGJvdGg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW46IDAgMCAxMHB4OwogIHBhZGRpbmc6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgewogIGZsb2F0OiBub25lOwogIGNsZWFyOiBib3RoOwogIG92ZXJmbG93OiBoaWRkZW47CiAgZGlzcGxheTogYmxvY2s7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgaDMgewogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiBsZWZ0OwogIHdpZHRoOiBhdXRvOwogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAwOwogIGxpbmUtaGVpZ2h0OiAxLjFlbTsKICBjb2xvcjogYmxhY2s7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgaDMgc3Bhbi5wYXRoIHsKICBwYWRkaW5nLWxlZnQ6IDEwcHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgaDMgc3Bhbi5wYXRoIGEgewogIGNvbG9yOiBibGFjazsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgaDMgc3Bhbi5wYXRoIGE6aG92ZXIgewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uIGRpdi5oZWFkaW5nIGgzIHNwYW4uaHR0cF9tZXRob2QgYSB7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6IHdoaXRlOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogNTBweDsKICBmb250LXNpemU6IDAuN2VtOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwYWRkaW5nOiA3cHggMCA0cHg7CiAgLW1vei1ib3JkZXItcmFkaXVzOiAycHg7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7CiAgLW8tYm9yZGVyLXJhZGl1czogMnB4OwogIC1tcy1ib3JkZXItcmFkaXVzOiAycHg7CiAgLWtodG1sLWJvcmRlci1yYWRpdXM6IDJweDsKICBib3JkZXItcmFkaXVzOiAycHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgaDMgc3BhbiB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmhlYWRpbmcgdWwub3B0aW9ucyB7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBwYWRkaW5nOiAwOwogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiByaWdodDsKICBtYXJnaW46IDZweCAxMHB4IDAgMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbiBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIHsKICBmbG9hdDogbGVmdDsKICBjbGVhcjogbm9uZTsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMnB4IDEwcHg7CiAgZm9udC1zaXplOiAwLjllbTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbiBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIGEgewogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbiBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpLmFjY2VzcyB7CiAgY29sb3I6IGJsYWNrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uIGRpdi5jb250ZW50IHsKICBib3JkZXItdG9wOiBub25lOwogIHBhZGRpbmc6IDEwcHg7CiAgLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IDZweDsKICAtd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDZweDsKICAtby1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA2cHg7CiAgLW1zLWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDZweDsKICAta2h0bWwtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNnB4OwogIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDZweDsKICAtbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IDZweDsKICAtd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA2cHg7CiAgLW8tYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDZweDsKICAtbXMtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDZweDsKICAta2h0bWwtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDZweDsKICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNnB4OwogIG1hcmdpbjogMCAwIDIwcHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmNvbnRlbnQgaDQgewogIGZvbnQtc2l6ZTogMS4xZW07CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDE1cHggMCA1cHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmNvbnRlbnQgZGl2LnNhbmRib3hfaGVhZGVyIHsKICBmbG9hdDogbm9uZTsKICBjbGVhcjogYm90aDsKICBvdmVyZmxvdzogaGlkZGVuOwogIGRpc3BsYXk6IGJsb2NrOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uIGRpdi5jb250ZW50IGRpdi5zYW5kYm94X2hlYWRlciBhIHsKICBwYWRkaW5nOiA0cHggMCAwIDEwcHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGZvbnQtc2l6ZTogMC45ZW07Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmNvbnRlbnQgZGl2LnNhbmRib3hfaGVhZGVyIGlucHV0LnN1Ym1pdCB7CiAgZGlzcGxheTogYmxvY2s7CiAgY2xlYXI6IG5vbmU7CiAgZmxvYXQ6IGxlZnQ7CiAgcGFkZGluZzogNnB4IDhweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbiBkaXYuY29udGVudCBkaXYuc2FuZGJveF9oZWFkZXIgc3Bhbi5yZXNwb25zZV90aHJvYmJlciB7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi9pbWFnZXMvdGhyb2JiZXIuZ2lmJyk7CiAgd2lkdGg6IDEyOHB4OwogIGhlaWdodDogMTZweDsKICBkaXNwbGF5OiBibG9jazsKICBjbGVhcjogbm9uZTsKICBmbG9hdDogcmlnaHQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24gZGl2LmNvbnRlbnQgZm9ybSBpbnB1dFt0eXBlPSd0ZXh0J10uZXJyb3IgewogIG91dGxpbmU6IDJweCBzb2xpZCBibGFjazsKICBvdXRsaW5lLWNvbG9yOiAjY2MwMDAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uIGRpdi5jb250ZW50IGRpdi5yZXNwb25zZSBkaXYuYmxvY2sgcHJlIHsKICBmb250LWZhbWlseTogIkFub255bW91cyBQcm8iLCAiTWVubG8iLCAiQ29uc29sYXMiLCAiQml0c3RyZWFtIFZlcmEgU2FucyBNb25vIiwgIkNvdXJpZXIgTmV3IiwgbW9ub3NwYWNlOwogIHBhZGRpbmc6IDEwcHg7CiAgZm9udC1zaXplOiAwLjllbTsKICBtYXgtaGVpZ2h0OiA0MDBweDsKICBvdmVyZmxvdy15OiBhdXRvOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnB1dCBkaXYuaGVhZGluZyB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjJlOTsKICBib3JkZXI6IDFweCBzb2xpZCAjZjBlMGNhOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnB1dCBkaXYuaGVhZGluZyBoMyBzcGFuLmh0dHBfbWV0aG9kIGEgewogIGJhY2tncm91bmQtY29sb3I6ICNjNTg2MmI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucHV0IGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgewogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGRkZGQ7CiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjZjBlMGNhOwogIGNvbG9yOiAjYzU4NjJiOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnB1dCBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIGEgewogIGNvbG9yOiAjYzU4NjJiOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnB1dCBkaXYuY29udGVudCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZjVlZTsKICBib3JkZXI6IDFweCBzb2xpZCAjZjBlMGNhOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnB1dCBkaXYuY29udGVudCBoNCB7CiAgY29sb3I6ICNjNTg2MmI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucHV0IGRpdi5jb250ZW50IGRpdi5zYW5kYm94X2hlYWRlciBhIHsKICBjb2xvcjogI2RjYjY3ZjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5oZWFkIGRpdi5oZWFkaW5nIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmZmNkOwogIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOwogIGJvcmRlci1jb2xvcjogI2ZmZDIwZjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5oZWFkIGRpdi5oZWFkaW5nIGgzIHNwYW4uaHR0cF9tZXRob2QgYSB7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZkMjBmOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmhlYWQgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSB7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZGRkZDsKICBib3JkZXItcmlnaHQtY29sb3I6ICNmZmQyMGY7CiAgY29sb3I6ICNmZmQyMGY7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uaGVhZCBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpIGEgewogIGNvbG9yOiAjZmZkMjBmOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmhlYWQgZGl2LmNvbnRlbnQgewogIGJhY2tncm91bmQtY29sb3I6ICNmY2ZmY2Q7CiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7CiAgYm9yZGVyLWNvbG9yOiAjZmZkMjBmOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmhlYWQgZGl2LmNvbnRlbnQgaDQgewogIGNvbG9yOiAjZmZkMjBmOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmhlYWQgZGl2LmNvbnRlbnQgZGl2LnNhbmRib3hfaGVhZGVyIGEgewogIGNvbG9yOiAjNmZjOTkyOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmRlbGV0ZSBkaXYuaGVhZGluZyB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZThlODsKICBib3JkZXI6IDFweCBzb2xpZCAjZThjNmM3Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmRlbGV0ZSBkaXYuaGVhZGluZyBoMyBzcGFuLmh0dHBfbWV0aG9kIGEgewogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgYmFja2dyb3VuZC1jb2xvcjogI2E0MWUyMjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5kZWxldGUgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSB7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZGRkZDsKICBib3JkZXItcmlnaHQtY29sb3I6ICNlOGM2Yzc7CiAgY29sb3I6ICNhNDFlMjI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZGVsZXRlIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgYSB7CiAgY29sb3I6ICNhNDFlMjI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZGVsZXRlIGRpdi5jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdlZGVkOwogIGJvcmRlcjogMXB4IHNvbGlkICNlOGM2Yzc7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZGVsZXRlIGRpdi5jb250ZW50IGg0IHsKICBjb2xvcjogI2E0MWUyMjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5kZWxldGUgZGl2LmNvbnRlbnQgZGl2LnNhbmRib3hfaGVhZGVyIGEgewogIGNvbG9yOiAjYzg3ODdhOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnBvc3QgZGl2LmhlYWRpbmcgewogIGJhY2tncm91bmQtY29sb3I6ICNlN2Y2ZWM7CiAgYm9yZGVyOiAxcHggc29saWQgI2MzZThkMTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wb3N0IGRpdi5oZWFkaW5nIGgzIHNwYW4uaHR0cF9tZXRob2QgYSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzEwYTU0YTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wb3N0IGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgewogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGRkZGQ7CiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjYzNlOGQxOwogIGNvbG9yOiAjMTBhNTRhOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnBvc3QgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSBhIHsKICBjb2xvcjogIzEwYTU0YTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wb3N0IGRpdi5jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJmN2YwOwogIGJvcmRlcjogMXB4IHNvbGlkICNjM2U4ZDE7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucG9zdCBkaXYuY29udGVudCBoNCB7CiAgY29sb3I6ICMxMGE1NGE7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucG9zdCBkaXYuY29udGVudCBkaXYuc2FuZGJveF9oZWFkZXIgYSB7CiAgY29sb3I6ICM2ZmM5OTI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucGF0Y2ggZGl2LmhlYWRpbmcgewogIGJhY2tncm91bmQtY29sb3I6ICNGQ0U5RTM7CiAgYm9yZGVyOiAxcHggc29saWQgI0Y1RDVDMzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wYXRjaCBkaXYuaGVhZGluZyBoMyBzcGFuLmh0dHBfbWV0aG9kIGEgewogIGJhY2tncm91bmQtY29sb3I6ICNEMzgwNDI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucGF0Y2ggZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSB7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZGRkZDsKICBib3JkZXItcmlnaHQtY29sb3I6ICNmMGNlY2I7CiAgY29sb3I6ICNEMzgwNDI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucGF0Y2ggZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSBhIHsKICBjb2xvcjogI0QzODA0MjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wYXRjaCBkaXYuY29udGVudCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZjBlZjsKICBib3JkZXI6IDFweCBzb2xpZCAjZjBjZWNiOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnBhdGNoIGRpdi5jb250ZW50IGg0IHsKICBjb2xvcjogI0QzODA0MjsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wYXRjaCBkaXYuY29udGVudCBkaXYuc2FuZGJveF9oZWFkZXIgYSB7CiAgY29sb3I6ICNkY2I2N2Y7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5oZWFkaW5nIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmMGY3OwogIGJvcmRlcjogMXB4IHNvbGlkICNjM2Q5ZWM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5oZWFkaW5nIGgzIHNwYW4uaHR0cF9tZXRob2QgYSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBmNmFiNDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5nZXQgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSB7CiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZGRkZDsKICBib3JkZXItcmlnaHQtY29sb3I6ICNjM2Q5ZWM7CiAgY29sb3I6ICMwZjZhYjQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgYSB7CiAgY29sb3I6ICMwZjZhYjQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJmM2Y5OwogIGJvcmRlcjogMXB4IHNvbGlkICNjM2Q5ZWM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5jb250ZW50IGg0IHsKICBjb2xvcjogIzBmNmFiNDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5nZXQgZGl2LmNvbnRlbnQgZGl2LnNhbmRib3hfaGVhZGVyIGEgewogIGNvbG9yOiAjNmZhNWQyOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLm9wdGlvbnMgZGl2LmhlYWRpbmcgewogIGJhY2tncm91bmQtY29sb3I6ICNlN2YwZjc7CiAgYm9yZGVyOiAxcHggc29saWQgI2MzZDllYzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5vcHRpb25zIGRpdi5oZWFkaW5nIGgzIHNwYW4uaHR0cF9tZXRob2QgYSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBmNmFiNDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5vcHRpb25zIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkgewogIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGRkZGQ7CiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAjYzNkOWVjOwogIGNvbG9yOiAjMGY2YWI0Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLm9wdGlvbnMgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaSBhIHsKICBjb2xvcjogIzBmNmFiNDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5vcHRpb25zIGRpdi5jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJmM2Y5OwogIGJvcmRlcjogMXB4IHNvbGlkICNjM2Q5ZWM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ub3B0aW9ucyBkaXYuY29udGVudCBoNCB7CiAgY29sb3I6ICMwZjZhYjQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ub3B0aW9ucyBkaXYuY29udGVudCBkaXYuc2FuZGJveF9oZWFkZXIgYSB7CiAgY29sb3I6ICM2ZmE1ZDI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5jb250ZW50LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wb3N0IGRpdi5jb250ZW50LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5oZWFkIGRpdi5jb250ZW50LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wdXQgZGl2LmNvbnRlbnQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnBhdGNoIGRpdi5jb250ZW50LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5kZWxldGUgZGl2LmNvbnRlbnQgewogIGJvcmRlci10b3A6IG5vbmU7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24uZ2V0IGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGk6bGFzdC1jaGlsZCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucG9zdCBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpOmxhc3QtY2hpbGQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmhlYWQgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaTpsYXN0LWNoaWxkLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wdXQgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaTpsYXN0LWNoaWxkLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5wYXRjaCBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpOmxhc3QtY2hpbGQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmRlbGV0ZSBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpOmxhc3QtY2hpbGQsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLmdldCBkaXYuaGVhZGluZyB1bC5vcHRpb25zIGxpLmxhc3QsCi5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgbGkub3BlcmF0aW9uLnBvc3QgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaS5sYXN0LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5oZWFkIGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkubGFzdCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucHV0IGRpdi5oZWFkaW5nIHVsLm9wdGlvbnMgbGkubGFzdCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyBsaS5vcGVyYXRpb24ucGF0Y2ggZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaS5sYXN0LAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIGxpLm9wZXJhdGlvbi5kZWxldGUgZGl2LmhlYWRpbmcgdWwub3B0aW9ucyBsaS5sYXN0IHsKICBwYWRkaW5nLXJpZ2h0OiAwOwogIGJvcmRlci1yaWdodDogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIHVsLm9wdGlvbnMgbGkgYTpob3ZlciwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyB1bC5vcHRpb25zIGxpIGE6YWN0aXZlLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgdWwjcmVzb3VyY2VzIGxpLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5lbmRwb2ludCB1bC5vcGVyYXRpb25zIHVsLm9wdGlvbnMgbGkgYS5hY3RpdmUgewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCB1bCNyZXNvdXJjZXMgbGkucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLmVuZHBvaW50IHVsLm9wZXJhdGlvbnMgdWwub3B0aW9ucyBsaTpmaXJzdC1jaGlsZCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucyB1bC5vcHRpb25zIGxpLmZpcnN0IHsKICBwYWRkaW5nLWxlZnQ6IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9uczpmaXJzdC1jaGlsZCwKLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHVsI3Jlc291cmNlcyBsaS5yZXNvdXJjZSB1bC5lbmRwb2ludHMgbGkuZW5kcG9pbnQgdWwub3BlcmF0aW9ucy5maXJzdCB7CiAgcGFkZGluZy1sZWZ0OiAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBwI2NvbG9waG9uIHsKICBtYXJnaW46IDAgMTVweCA0MHB4IDE1cHg7CiAgcGFkZGluZzogMTBweCAwOwogIGZvbnQtc2l6ZTogMC44ZW07CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkZGRkZGQ7CiAgZm9udC1mYW1pbHk6ICJEcm9pZCBTYW5zIiwgc2Fucy1zZXJpZjsKICBjb2xvcjogIzk5OTk5OTsKICBmb250LXN0eWxlOiBpdGFsaWM7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIHAjY29sb3Bob24gYSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiAjNTQ3ZjAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBoMyB7CiAgY29sb3I6IGJsYWNrOwogIGZvbnQtc2l6ZTogMS4xZW07CiAgcGFkZGluZzogMTBweCAwIDEwcHggMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1hcmtkb3duIG9sLAouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgLm1hcmtkb3duIHVsIHsKICBmb250LWZhbWlseTogIkRyb2lkIFNhbnMiLCBzYW5zLXNlcmlmOwogIG1hcmdpbjogNXB4IDAgMTBweDsKICBwYWRkaW5nOiAwIDAgMCAxOHB4OwogIGxpc3Qtc3R5bGUtdHlwZTogZGlzYzsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtX2JveCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ViZjNmOTsKICBib3JkZXI6IDFweCBzb2xpZCAjYzNkOWVjOwogIHBhZGRpbmc6IDEwcHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybV9ib3ggbGFiZWwgewogIGNvbG9yOiAjMGY2YWI0ICFpbXBvcnRhbnQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybV9ib3ggaW5wdXRbdHlwZT1zdWJtaXRdIHsKICBkaXNwbGF5OiBibG9jazsKICBwYWRkaW5nOiAxMHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm1fYm94IHAud2VhayB7CiAgZm9udC1zaXplOiAwLjhlbTsKfQouc3dhZ2dlci1zZWN0aW9uIC5zd2FnZ2VyLXVpLXdyYXAgZm9ybS5mb3JtX2JveCBwIHsKICBmb250LXNpemU6IDAuOWVtOwogIHBhZGRpbmc6IDAgMCAxNXB4OwogIGNvbG9yOiAjN2U3YjZkOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLnN3YWdnZXItdWktd3JhcCBmb3JtLmZvcm1fYm94IHAgYSB7CiAgY29sb3I6ICM2NDYyNTc7Cn0KLnN3YWdnZXItc2VjdGlvbiAuc3dhZ2dlci11aS13cmFwIGZvcm0uZm9ybV9ib3ggcCBzdHJvbmcgewogIGNvbG9yOiBibGFjazsKfQouc3dhZ2dlci1zZWN0aW9uIC50aXRsZSB7CiAgZm9udC1zdHlsZTogYm9sZDsKfQouc3dhZ2dlci1zZWN0aW9uIC5zZWNvbmRhcnlfZm9ybSB7CiAgZGlzcGxheTogbm9uZTsKfQouc3dhZ2dlci1zZWN0aW9uIC5tYWluX2ltYWdlIHsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KLnN3YWdnZXItc2VjdGlvbiAub2F1dGhfYm9keSB7CiAgbWFyZ2luLWxlZnQ6IDEwMHB4OwogIG1hcmdpbi1yaWdodDogMTAwcHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAub2F1dGhfc3VibWl0IHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuYXBpLXBvcHVwLWRpYWxvZyB7CiAgei1pbmRleDogMTAwMDA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHdpZHRoOiA1MDBweDsKICBiYWNrZ3JvdW5kOiAjRkZGOwogIHBhZGRpbmc6IDIwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgZGlzcGxheTogbm9uZTsKICBmb250LXNpemU6IDEzcHg7CiAgY29sb3I6ICM3Nzc7Cn0KLnN3YWdnZXItc2VjdGlvbiAuYXBpLXBvcHVwLWRpYWxvZyAuYXBpLXBvcHVwLXRpdGxlIHsKICBmb250LXNpemU6IDI0cHg7CiAgcGFkZGluZzogMTBweCAwOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmFwaS1wb3B1cC1kaWFsb2cgLmFwaS1wb3B1cC10aXRsZSB7CiAgZm9udC1zaXplOiAyNHB4OwogIHBhZGRpbmc6IDEwcHggMDsKfQouc3dhZ2dlci1zZWN0aW9uIC5hcGktcG9wdXAtZGlhbG9nIHAuZXJyb3ItbXNnIHsKICBwYWRkaW5nLWxlZnQ6IDVweDsKICBwYWRkaW5nLWJvdHRvbTogNXB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmFwaS1wb3B1cC1kaWFsb2cgYnV0dG9uLmFwaS1wb3B1cC1hdXRoYnRuIHsKICBoZWlnaHQ6IDMwcHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuYXBpLXBvcHVwLWRpYWxvZyBidXR0b24uYXBpLXBvcHVwLWNhbmNlbCB7CiAgaGVpZ2h0OiAzMHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmFwaS1wb3B1cC1zY29wZXMgewogIHBhZGRpbmc6IDEwcHggMjBweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5hcGktcG9wdXAtc2NvcGVzIGxpIHsKICBwYWRkaW5nOiA1cHggMDsKICBsaW5lLWhlaWdodDogMjBweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5hcGktcG9wdXAtc2NvcGVzIC5hcGktc2NvcGUtZGVzYyB7CiAgcGFkZGluZy1sZWZ0OiAyMHB4OwogIGZvbnQtc3R5bGU6IGl0YWxpYzsKfQouc3dhZ2dlci1zZWN0aW9uIC5hcGktcG9wdXAtc2NvcGVzIGxpIGlucHV0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAycHg7Cn0KLnN3YWdnZXItc2VjdGlvbiAuYXBpLXBvcHVwLWFjdGlvbnMgewogIHBhZGRpbmctdG9wOiAxMHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmFjY2VzcyB7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmF1dGggewogIGZsb2F0OiByaWdodDsKfQouc3dhZ2dlci1zZWN0aW9uICNhcGlfaW5mb3JtYXRpb25fcGFuZWwgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBiYWNrZ3JvdW5kOiAjRkZGOwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIGRpc3BsYXk6IG5vbmU7CiAgZm9udC1zaXplOiAxM3B4OwogIG1heC13aWR0aDogMzAwcHg7CiAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgY29sb3I6IGJsYWNrOwogIHBhZGRpbmc6IDVweDsKfQouc3dhZ2dlci1zZWN0aW9uICNhcGlfaW5mb3JtYXRpb25fcGFuZWwgcCAuYXBpLW1zZy1lbmFibGVkIHsKICBjb2xvcjogZ3JlZW47Cn0KLnN3YWdnZXItc2VjdGlvbiAjYXBpX2luZm9ybWF0aW9uX3BhbmVsIHAgLmFwaS1tc2ctZGlzYWJsZWQgewogIGNvbG9yOiByZWQ7Cn0KLnN3YWdnZXItc2VjdGlvbiAuYXBpLWljIHsKICBoZWlnaHQ6IDE4cHg7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgYmFja2dyb3VuZDogdXJsKC4uL2ltYWdlcy9leHBsb3Jlcl9pY29ucy5wbmcpIG5vLXJlcGVhdDsKfQouc3dhZ2dlci1zZWN0aW9uIC5pYy1pbmZvIHsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7CiAgd2lkdGg6IDE4cHg7CiAgbWFyZ2luLXRvcDogLTdweDsKICBtYXJnaW4tbGVmdDogNHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmljLXdhcm5pbmcgewogIGJhY2tncm91bmQtcG9zaXRpb246IC02MHB4IDA7CiAgd2lkdGg6IDE4cHg7CiAgbWFyZ2luLXRvcDogLTdweDsKICBtYXJnaW4tbGVmdDogNHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gLmljLWVycm9yIHsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzBweCAwOwogIHdpZHRoOiAxOHB4OwogIG1hcmdpbi10b3A6IC03cHg7CiAgbWFyZ2luLWxlZnQ6IDRweDsKfQouc3dhZ2dlci1zZWN0aW9uIC5pYy1vZmYgewogIGJhY2tncm91bmQtcG9zaXRpb246IC05MHB4IDA7CiAgd2lkdGg6IDU4cHg7CiAgbWFyZ2luLXRvcDogLTRweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnN3YWdnZXItc2VjdGlvbiAuaWMtb24gewogIGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAwOwogIHdpZHRoOiA1OHB4OwogIG1hcmdpbi10b3A6IC00cHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5zd2FnZ2VyLXNlY3Rpb24gI2hlYWRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzg5YmYwNDsKICBwYWRkaW5nOiAxNHB4Owp9Ci5zd2FnZ2VyLXNlY3Rpb24gI2hlYWRlciBhI2xvZ28gewogIGZvbnQtc2l6ZTogMS41ZW07CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCguLi9pbWFnZXMvbG9nb19zbWFsbC5wbmcpIG5vLXJlcGVhdCBsZWZ0IGNlbnRlcjsKICBwYWRkaW5nOiAyMHB4IDAgMjBweCA0MHB4OwogIGNvbG9yOiB3aGl0ZTsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgewogIGRpc3BsYXk6IGJsb2NrOwogIGNsZWFyOiBub25lOwogIGZsb2F0OiByaWdodDsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgLmlucHV0IHsKICBkaXNwbGF5OiBibG9jazsKICBjbGVhcjogbm9uZTsKICBmbG9hdDogbGVmdDsKICBtYXJnaW46IDAgMTBweCAwIDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAjaGVhZGVyIGZvcm0jYXBpX3NlbGVjdG9yIC5pbnB1dCBpbnB1dCNpbnB1dF9hcGlLZXkgewogIHdpZHRoOiAyMDBweDsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgLmlucHV0IGlucHV0I2lucHV0X2Jhc2VVcmwgewogIHdpZHRoOiA0MDBweDsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgLmlucHV0IGEjZXhwbG9yZSB7CiAgZGlzcGxheTogYmxvY2s7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIHBhZGRpbmc6IDZweCA4cHg7CiAgZm9udC1zaXplOiAwLjllbTsKICBjb2xvcjogd2hpdGU7CiAgYmFja2dyb3VuZC1jb2xvcjogIzU0N2YwMDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsKICAtby1ib3JkZXItcmFkaXVzOiA0cHg7CiAgLW1zLWJvcmRlci1yYWRpdXM6IDRweDsKICAta2h0bWwtYm9yZGVyLXJhZGl1czogNHB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgLmlucHV0IGEjZXhwbG9yZTpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzU0N2YwMDsKfQouc3dhZ2dlci1zZWN0aW9uICNoZWFkZXIgZm9ybSNhcGlfc2VsZWN0b3IgLmlucHV0IGlucHV0IHsKICBmb250LXNpemU6IDAuOWVtOwogIHBhZGRpbmc6IDNweDsKICBtYXJnaW46IDA7Cn0KLnN3YWdnZXItc2VjdGlvbiAjY29udGVudF9tZXNzYWdlIHsKICBtYXJnaW46IDEwcHggMTVweDsKICBmb250LXN0eWxlOiBpdGFsaWM7CiAgY29sb3I6ICM5OTk5OTk7Cn0KLnN3YWdnZXItc2VjdGlvbiAjbWVzc2FnZS1iYXIgewogIG1pbi1oZWlnaHQ6IDMwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmctdG9wOiAxMHB4Owp9Cg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887777" offset="0" length="5415" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="126" hostname="10.239.251.82" path="/swagger-static/lib/jquery.slideto.min.js" url="http://10.239.251.82:8080/swagger-static/lib/jquery.slideto.min.js" ip="10.239.251.82" port="8080" connectionId="11" origin="HTML" frame="1" startTime="2972887699" endTime="2972887777">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvanF1ZXJ5LnNsaWRldG8ubWluLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ImZlNDQ5YzZhOTI4MDZlMTYzNzc5ODU1YjkyMmU1NmE5LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjM1</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiZmU0NDljNmE5MjgwNmUxNjM3Nzk4NTViOTIyZTU2YTktLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMjM1DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>KGZ1bmN0aW9uKGIpe2IuZm4uc2xpZGV0bz1mdW5jdGlvbihhKXthPWIuZXh0ZW5kKHtzbGlkZV9kdXJhdGlvbjoic2xvdyIsaGlnaGxpZ2h0X2R1cmF0aW9uOjNFMyxoaWdobGlnaHQ6dHJ1ZSxoaWdobGlnaHRfY29sb3I6IiNGRkZGOTkifSxhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7b2JqPWIodGhpcyk7YigiYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDpvYmoub2Zmc2V0KCkudG9wfSxhLnNsaWRlX2R1cmF0aW9uLGZ1bmN0aW9uKCl7YS5oaWdobGlnaHQmJmIudWkudmVyc2lvbiYmb2JqLmVmZmVjdCgiaGlnaGxpZ2h0Iix7Y29sb3I6YS5oaWdobGlnaHRfY29sb3J9LGEuaGlnaGxpZ2h0X2R1cmF0aW9uKX0pfSl9fSkoalF1ZXJ5KTsK</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887777" offset="0" length="491" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="128" hostname="10.239.251.82" path="/swagger-static/lib/shred.bundle.js" url="http://10.239.251.82:8080/swagger-static/lib/shred.bundle.js" ip="10.239.251.82" port="8080" connectionId="9" origin="HTML" frame="1" startTime="2972887699" endTime="2972887793">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvc2hyZWQuYnVuZGxlLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjI1MTY4N2U5NDFkMGNkYmMwZjM3NDlhMjRlZGIzNWYwLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjUwODI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiMjUxNjg3ZTk0MWQwY2RiYzBmMzc0OWEyNGVkYjM1ZjAtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMjUwODINCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dmFyIHJlcXVpcmUgPSBmdW5jdGlvbiAoZmlsZSwgY3dkKSB7CiAgICB2YXIgcmVzb2x2ZWQgPSByZXF1aXJlLnJlc29sdmUoZmlsZSwgY3dkIHx8ICcvJyk7CiAgICB2YXIgbW9kID0gcmVxdWlyZS5tb2R1bGVzW3Jlc29sdmVkXTsKICAgIGlmICghbW9kKSB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgJ0ZhaWxlZCB0byByZXNvbHZlIG1vZHVsZSAnICsgZmlsZSArICcsIHRyaWVkICcgKyByZXNvbHZlZAogICAgKTsKICAgIHZhciByZXMgPSBtb2QuX2NhY2hlZCA/IG1vZC5fY2FjaGVkIDogbW9kKCk7CiAgICByZXR1cm4gcmVzOwp9CgpyZXF1aXJlLnBhdGhzID0gW107CnJlcXVpcmUubW9kdWxlcyA9IHt9OwpyZXF1aXJlLmV4dGVuc2lvbnMgPSBbIi5qcyIsIi5jb2ZmZWUiXTsKCnJlcXVpcmUuX2NvcmUgPSB7CiAgICAnYXNzZXJ0JzogdHJ1ZSwKICAgICdldmVudHMnOiB0cnVlLAogICAgJ2ZzJzogdHJ1ZSwKICAgICdwYXRoJzogdHJ1ZSwKICAgICd2bSc6IHRydWUKfTsKCnJlcXVpcmUucmVzb2x2ZSA9IChmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIGN3ZCkgewogICAgICAgIGlmICghY3dkKSBjd2QgPSAnLyc7CiAgICAgICAgCiAgICAgICAgaWYgKHJlcXVpcmUuX2NvcmVbeF0pIHJldHVybiB4OwogICAgICAgIHZhciBwYXRoID0gcmVxdWlyZS5tb2R1bGVzLnBhdGgoKTsKICAgICAgICB2YXIgeSA9IGN3ZCB8fCAnLic7CiAgICAgICAgCiAgICAgICAgaWYgKHgubWF0Y2goL14oPzpcLlwuP1wvfFwvKS8pKSB7CiAgICAgICAgICAgIHZhciBtID0gbG9hZEFzRmlsZVN5bmMocGF0aC5yZXNvbHZlKHksIHgpKQogICAgICAgICAgICAgICAgfHwgbG9hZEFzRGlyZWN0b3J5U3luYyhwYXRoLnJlc29sdmUoeSwgeCkpOwogICAgICAgICAgICBpZiAobSkgcmV0dXJuIG07CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHZhciBuID0gbG9hZE5vZGVNb2R1bGVzU3luYyh4LCB5KTsKICAgICAgICBpZiAobikgcmV0dXJuIG47CiAgICAgICAgCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyB4ICsgIiciKTsKICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsb2FkQXNGaWxlU3luYyAoeCkgewogICAgICAgICAgICBpZiAocmVxdWlyZS5tb2R1bGVzW3hdKSB7CiAgICAgICAgICAgICAgICByZXR1cm4geDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXF1aXJlLmV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBleHQgPSByZXF1aXJlLmV4dGVuc2lvbnNbaV07CiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZS5tb2R1bGVzW3ggKyBleHRdKSByZXR1cm4geCArIGV4dDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsb2FkQXNEaXJlY3RvcnlTeW5jICh4KSB7CiAgICAgICAgICAgIHggPSB4LnJlcGxhY2UoL1wvKyQvLCAnJyk7CiAgICAgICAgICAgIHZhciBwa2dmaWxlID0geCArICcvcGFja2FnZS5qc29uJzsKICAgICAgICAgICAgaWYgKHJlcXVpcmUubW9kdWxlc1twa2dmaWxlXSkgewogICAgICAgICAgICAgICAgdmFyIHBrZyA9IHJlcXVpcmUubW9kdWxlc1twa2dmaWxlXSgpOwogICAgICAgICAgICAgICAgdmFyIGIgPSBwa2cuYnJvd3NlcmlmeTsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcgJiYgYi5tYWluKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBsb2FkQXNGaWxlU3luYyhwYXRoLnJlc29sdmUoeCwgYi5tYWluKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG0pIHJldHVybiBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGIgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBsb2FkQXNGaWxlU3luYyhwYXRoLnJlc29sdmUoeCwgYikpOwogICAgICAgICAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBrZy5tYWluKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBsb2FkQXNGaWxlU3luYyhwYXRoLnJlc29sdmUoeCwgcGtnLm1haW4pKTsKICAgICAgICAgICAgICAgICAgICBpZiAobSkgcmV0dXJuIG07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBsb2FkQXNGaWxlU3luYyh4ICsgJy9pbmRleCcpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBmdW5jdGlvbiBsb2FkTm9kZU1vZHVsZXNTeW5jICh4LCBzdGFydCkgewogICAgICAgICAgICB2YXIgZGlycyA9IG5vZGVNb2R1bGVzUGF0aHNTeW5jKHN0YXJ0KTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgZGlyID0gZGlyc1tpXTsKICAgICAgICAgICAgICAgIHZhciBtID0gbG9hZEFzRmlsZVN5bmMoZGlyICsgJy8nICsgeCk7CiAgICAgICAgICAgICAgICBpZiAobSkgcmV0dXJuIG07CiAgICAgICAgICAgICAgICB2YXIgbiA9IGxvYWRBc0RpcmVjdG9yeVN5bmMoZGlyICsgJy8nICsgeCk7CiAgICAgICAgICAgICAgICBpZiAobikgcmV0dXJuIG47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciBtID0gbG9hZEFzRmlsZVN5bmMoeCk7CiAgICAgICAgICAgIGlmIChtKSByZXR1cm4gbTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZnVuY3Rpb24gbm9kZU1vZHVsZXNQYXRoc1N5bmMgKHN0YXJ0KSB7CiAgICAgICAgICAgIHZhciBwYXJ0czsKICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSAnLycpIHBhcnRzID0gWyAnJyBdOwogICAgICAgICAgICBlbHNlIHBhcnRzID0gcGF0aC5ub3JtYWxpemUoc3RhcnQpLnNwbGl0KCcvJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgZGlycyA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gJ25vZGVfbW9kdWxlcycpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgdmFyIGRpciA9IHBhcnRzLnNsaWNlKDAsIGkgKyAxKS5qb2luKCcvJykgKyAnL25vZGVfbW9kdWxlcyc7CiAgICAgICAgICAgICAgICBkaXJzLnB1c2goZGlyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIGRpcnM7CiAgICAgICAgfQogICAgfTsKfSkoKTsKCnJlcXVpcmUuYWxpYXMgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHsKICAgIHZhciBwYXRoID0gcmVxdWlyZS5tb2R1bGVzLnBhdGgoKTsKICAgIHZhciByZXMgPSBudWxsOwogICAgdHJ5IHsKICAgICAgICByZXMgPSByZXF1aXJlLnJlc29sdmUoZnJvbSArICcvcGFja2FnZS5qc29uJywgJy8nKTsKICAgIH0KICAgIGNhdGNoIChlcnIpIHsKICAgICAgICByZXMgPSByZXF1aXJlLnJlc29sdmUoZnJvbSwgJy8nKTsKICAgIH0KICAgIHZhciBiYXNlZGlyID0gcGF0aC5kaXJuYW1lKHJlcyk7CiAgICAKICAgIHZhciBrZXlzID0gKE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHsKICAgICAgICB2YXIgcmVzID0gW107CiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgcmVzLnB1c2goa2V5KQogICAgICAgIHJldHVybiByZXM7CiAgICB9KShyZXF1aXJlLm1vZHVsZXMpOwogICAgCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTsKICAgICAgICBpZiAoa2V5LnNsaWNlKDAsIGJhc2VkaXIubGVuZ3RoICsgMSkgPT09IGJhc2VkaXIgKyAnLycpIHsKICAgICAgICAgICAgdmFyIGYgPSBrZXkuc2xpY2UoYmFzZWRpci5sZW5ndGgpOwogICAgICAgICAgICByZXF1aXJlLm1vZHVsZXNbdG8gKyBmXSA9IHJlcXVpcmUubW9kdWxlc1tiYXNlZGlyICsgZl07CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGtleSA9PT0gYmFzZWRpcikgewogICAgICAgICAgICByZXF1aXJlLm1vZHVsZXNbdG9dID0gcmVxdWlyZS5tb2R1bGVzW2Jhc2VkaXJdOwogICAgICAgIH0KICAgIH0KfTsKCnJlcXVpcmUuZGVmaW5lID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBmbikgewogICAgdmFyIGRpcm5hbWUgPSByZXF1aXJlLl9jb3JlW2ZpbGVuYW1lXQogICAgICAgID8gJycKICAgICAgICA6IHJlcXVpcmUubW9kdWxlcy5wYXRoKCkuZGlybmFtZShmaWxlbmFtZSkKICAgIDsKICAgIAogICAgdmFyIHJlcXVpcmVfID0gZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZShmaWxlLCBkaXJuYW1lKQogICAgfTsKICAgIHJlcXVpcmVfLnJlc29sdmUgPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgIHJldHVybiByZXF1aXJlLnJlc29sdmUobmFtZSwgZGlybmFtZSk7CiAgICB9OwogICAgcmVxdWlyZV8ubW9kdWxlcyA9IHJlcXVpcmUubW9kdWxlczsKICAgIHJlcXVpcmVfLmRlZmluZSA9IHJlcXVpcmUuZGVmaW5lOwogICAgdmFyIG1vZHVsZV8gPSB7IGV4cG9ydHMgOiB7fSB9OwogICAgCiAgICByZXF1aXJlLm1vZHVsZXNbZmlsZW5hbWVdID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJlcXVpcmUubW9kdWxlc1tmaWxlbmFtZV0uX2NhY2hlZCA9IG1vZHVsZV8uZXhwb3J0czsKICAgICAgICBmbi5jYWxsKAogICAgICAgICAgICBtb2R1bGVfLmV4cG9ydHMsCiAgICAgICAgICAgIHJlcXVpcmVfLAogICAgICAgICAgICBtb2R1bGVfLAogICAgICAgICAgICBtb2R1bGVfLmV4cG9ydHMsCiAgICAgICAgICAgIGRpcm5hbWUsCiAgICAgICAgICAgIGZpbGVuYW1lCiAgICAgICAgKTsKICAgICAgICByZXF1aXJlLm1vZHVsZXNbZmlsZW5hbWVdLl9jYWNoZWQgPSBtb2R1bGVfLmV4cG9ydHM7CiAgICAgICAgcmV0dXJuIG1vZHVsZV8uZXhwb3J0czsKICAgIH07Cn07CgppZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSBwcm9jZXNzID0ge307CgppZiAoIXByb2Nlc3MubmV4dFRpY2spIHByb2Nlc3MubmV4dFRpY2sgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHF1ZXVlID0gW107CiAgICB2YXIgY2FuUG9zdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnCiAgICAgICAgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyCiAgICA7CiAgICAKICAgIGlmIChjYW5Qb3N0KSB7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXYpIHsKICAgICAgICAgICAgaWYgKGV2LnNvdXJjZSA9PT0gd2luZG93ICYmIGV2LmRhdGEgPT09ICdicm93c2VyaWZ5LXRpY2snKSB7CiAgICAgICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gcXVldWUuc2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICBmbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgdHJ1ZSk7CiAgICB9CiAgICAKICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHsKICAgICAgICBpZiAoY2FuUG9zdCkgewogICAgICAgICAgICBxdWV1ZS5wdXNoKGZuKTsKICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdicm93c2VyaWZ5LXRpY2snLCAnKicpOwogICAgICAgIH0KICAgICAgICBlbHNlIHNldFRpbWVvdXQoZm4sIDApOwogICAgfTsKfSkoKTsKCmlmICghcHJvY2Vzcy50aXRsZSkgcHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJzsKCmlmICghcHJvY2Vzcy5iaW5kaW5nKSBwcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKG5hbWUgPT09ICdldmFscycpIHJldHVybiByZXF1aXJlKCd2bScpCiAgICBlbHNlIHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBtb2R1bGUnKQp9OwoKaWYgKCFwcm9jZXNzLmN3ZCkgcHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLicgfTsKCnJlcXVpcmUuZGVmaW5lKCJwYXRoIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICBmdW5jdGlvbiBmaWx0ZXIgKHhzLCBmbikgewogICAgdmFyIHJlcyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChmbih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7CiAgICB9CiAgICByZXR1cm4gcmVzOwp9CgovLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmUKLy8gbXVzdCBiZSBubyBzbGFzaGVzLCBlbXB0eSBlbGVtZW50cywgb3IgZGV2aWNlIG5hbWVzIChjOlwpIGluIHRoZSBhcnJheQovLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2gKLy8gcmVsYXRpdmUgYW5kIGFic29sdXRlIHBhdGhzKQpmdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHsKICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMAogIHZhciB1cCA9IDA7CiAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHsKICAgIHZhciBsYXN0ID0gcGFydHNbaV07CiAgICBpZiAobGFzdCA9PSAnLicpIHsKICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7CiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKICAgICAgdXArKzsKICAgIH0gZWxzZSBpZiAodXApIHsKICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgICB1cC0tOwogICAgfQogIH0KCiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4ucwogIGlmIChhbGxvd0Fib3ZlUm9vdCkgewogICAgZm9yICg7IHVwLS07IHVwKSB7CiAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7CiAgICB9CiAgfQoKICByZXR1cm4gcGFydHM7Cn0KCi8vIFJlZ2V4IHRvIHNwbGl0IGEgZmlsZW5hbWUgaW50byBbKiwgZGlyLCBiYXNlbmFtZSwgZXh0XQovLyBwb3NpeCB2ZXJzaW9uCnZhciBzcGxpdFBhdGhSZSA9IC9eKC4rXC8oPyEkKXxcLyk/KCg/Oi4rPyk/KFwuW14uXSopPykkLzsKCi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bykKLy8gcG9zaXggdmVyc2lvbgpleHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbigpIHsKdmFyIHJlc29sdmVkUGF0aCA9ICcnLAogICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlOwoKZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkgewogIHZhciBwYXRoID0gKGkgPj0gMCkKICAgICAgPyBhcmd1bWVudHNbaV0KICAgICAgOiBwcm9jZXNzLmN3ZCgpOwoKICAvLyBTa2lwIGVtcHR5IGFuZCBpbnZhbGlkIGVudHJpZXMKICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnIHx8ICFwYXRoKSB7CiAgICBjb250aW51ZTsKICB9CgogIHJlc29sdmVkUGF0aCA9IHBhdGggKyAnLycgKyByZXNvbHZlZFBhdGg7CiAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7Cn0KCi8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXQKLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpCgovLyBOb3JtYWxpemUgdGhlIHBhdGgKcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7CiAgICByZXR1cm4gISFwOwogIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpOwoKICByZXR1cm4gKChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoKSB8fCAnLic7Cn07CgovLyBwYXRoLm5vcm1hbGl6ZShwYXRoKQovLyBwb3NpeCB2ZXJzaW9uCmV4cG9ydHMubm9ybWFsaXplID0gZnVuY3Rpb24ocGF0aCkgewp2YXIgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLycsCiAgICB0cmFpbGluZ1NsYXNoID0gcGF0aC5zbGljZSgtMSkgPT09ICcvJzsKCi8vIE5vcm1hbGl6ZSB0aGUgcGF0aApwYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkgewogICAgcmV0dXJuICEhcDsKICB9KSwgIWlzQWJzb2x1dGUpLmpvaW4oJy8nKTsKCiAgaWYgKCFwYXRoICYmICFpc0Fic29sdXRlKSB7CiAgICBwYXRoID0gJy4nOwogIH0KICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7CiAgICBwYXRoICs9ICcvJzsKICB9CiAgCiAgcmV0dXJuIChpc0Fic29sdXRlID8gJy8nIDogJycpICsgcGF0aDsKfTsKCgovLyBwb3NpeCB2ZXJzaW9uCmV4cG9ydHMuam9pbiA9IGZ1bmN0aW9uKCkgewogIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24ocCwgaW5kZXgpIHsKICAgIHJldHVybiBwICYmIHR5cGVvZiBwID09PSAnc3RyaW5nJzsKICB9KS5qb2luKCcvJykpOwp9OwoKCmV4cG9ydHMuZGlybmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHsKICB2YXIgZGlyID0gc3BsaXRQYXRoUmUuZXhlYyhwYXRoKVsxXSB8fCAnJzsKICB2YXIgaXNXaW5kb3dzID0gZmFsc2U7CiAgaWYgKCFkaXIpIHsKICAgIC8vIE5vIGRpcm5hbWUKICAgIHJldHVybiAnLic7CiAgfSBlbHNlIGlmIChkaXIubGVuZ3RoID09PSAxIHx8CiAgICAgIChpc1dpbmRvd3MgJiYgZGlyLmxlbmd0aCA8PSAzICYmIGRpci5jaGFyQXQoMSkgPT09ICc6JykpIHsKICAgIC8vIEl0IGlzIGp1c3QgYSBzbGFzaCBvciBhIGRyaXZlIGxldHRlciB3aXRoIGEgc2xhc2gKICAgIHJldHVybiBkaXI7CiAgfSBlbHNlIHsKICAgIC8vIEl0IGlzIGEgZnVsbCBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaAogICAgcmV0dXJuIGRpci5zdWJzdHJpbmcoMCwgZGlyLmxlbmd0aCAtIDEpOwogIH0KfTsKCgpleHBvcnRzLmJhc2VuYW1lID0gZnVuY3Rpb24ocGF0aCwgZXh0KSB7CiAgdmFyIGYgPSBzcGxpdFBhdGhSZS5leGVjKHBhdGgpWzJdIHx8ICcnOwogIC8vIFRPRE86IG1ha2UgdGhpcyBjb21wYXJpc29uIGNhc2UtaW5zZW5zaXRpdmUgb24gd2luZG93cz8KICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkgewogICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7CiAgfQogIHJldHVybiBmOwp9OwoKCmV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uKHBhdGgpIHsKICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhwYXRoKVszXSB8fCAnJzsKfTsKCn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9zaHJlZC5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgLy8gU2hyZWQgaXMgYW4gSFRUUCBjbGllbnQgbGlicmFyeSBpbnRlbmRlZCB0byBzaW1wbGlmeSB0aGUgdXNlIG9mIE5vZGUncwovLyBidWlsdC1pbiBIVFRQIGxpYnJhcnkuIEluIHBhcnRpY3VsYXIsIHdlIHdhbnRlZCB0byBtYWtlIGl0IGVhc2llciB0byBpbnRlcmFjdAovLyB3aXRoIEhUVFAtYmFzZWQgQVBJcy4KLy8gCi8vIFNlZSB0aGUgW2V4YW1wbGVzXSguL2V4YW1wbGVzLmh0bWwpIGZvciBtb3JlIGRldGFpbHMuCgovLyBBeCBpcyBhIG5pY2UgbG9nZ2luZyBsaWJyYXJ5IHdlIHdyb3RlLiBZb3UgY2FuIHVzZSBhbnkgbG9nZ2VyLCBwcm92aWRpbmcgaXQKLy8gaGFzIGBpbmZvYCwgYHdhcm5gLCBgZGVidWdgLCBhbmQgYGVycm9yYCBtZXRob2RzIHRoYXQgdGFrZSBhIHN0cmluZy4KdmFyIEF4ID0gcmVxdWlyZSgiYXgiKQogICwgQ29va2llSmFyTGliID0gcmVxdWlyZSggImNvb2tpZWphciIgKQogICwgQ29va2llSmFyID0gQ29va2llSmFyTGliLkNvb2tpZUphcgo7CgovLyBTaHJlZCB0YWtlcyBzb21lIG9wdGlvbnMsIGluY2x1ZGluZyBhIGxvZ2dlciBhbmQgcmVxdWVzdCBkZWZhdWx0cy4KCnZhciBTaHJlZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICBvcHRpb25zID0gKG9wdGlvbnN8fHt9KTsKICB0aGlzLmFnZW50ID0gb3B0aW9ucy5hZ2VudDsKICB0aGlzLmRlZmF1bHRzID0gb3B0aW9ucy5kZWZhdWx0c3x8e307CiAgdGhpcy5sb2cgPSBvcHRpb25zLmxvZ2dlcnx8KG5ldyBBeCh7IGxldmVsOiAiaW5mbyIgfSkpOwogIHRoaXMuX3NoYXJlZENvb2tpZUphciA9IG5ldyBDb29raWVKYXIoKTsKICB0aGlzLmxvZ0N1cmwgPSBvcHRpb25zLmxvZ0N1cmwgfHwgZmFsc2U7Cn07CgovLyBNb3N0IG9mIHRoZSByZWFsIHdvcmsgaXMgZG9uZSBpbiB0aGUgcmVxdWVzdCBhbmQgcmVwb25zZSBjbGFzc2VzLgogClNocmVkLlJlcXVlc3QgPSByZXF1aXJlKCIuL3NocmVkL3JlcXVlc3QiKTsKU2hyZWQuUmVzcG9uc2UgPSByZXF1aXJlKCIuL3NocmVkL3Jlc3BvbnNlIik7CgovLyBUaGUgYHJlcXVlc3RgIG1ldGhvZCBraWNrcyBvZmYgYSBuZXcgcmVxdWVzdCwgaW5zdGFudGlhdGluZyBhIG5ldyBgUmVxdWVzdGAKLy8gb2JqZWN0IGFuZCBwYXNzaW5nIGFsb25nIHdoYXRldmVyIGRlZmF1bHQgb3B0aW9ucyB3ZSB3ZXJlIGdpdmVuLgoKU2hyZWQucHJvdG90eXBlID0gewogIHJlcXVlc3Q6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgIG9wdGlvbnMubG9nZ2VyID0gdGhpcy5sb2c7CiAgICBvcHRpb25zLmxvZ0N1cmwgPSBvcHRpb25zLmxvZ0N1cmwgfHwgdGhpcy5sb2dDdXJsOwogICAgb3B0aW9ucy5jb29raWVKYXIgPSAoICdjb29raWVKYXInIGluIG9wdGlvbnMgKSA/IG9wdGlvbnMuY29va2llSmFyIDogdGhpcy5fc2hhcmVkQ29va2llSmFyOyAvLyBsZXQgdGhlbSBzZXQgY29va2llSmFyID0gbnVsbAogICAgb3B0aW9ucy5hZ2VudCA9IG9wdGlvbnMuYWdlbnQgfHwgdGhpcy5hZ2VudDsKICAgIC8vIGZpbGwgaW4gZGVmYXVsdCBvcHRpb25zCiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5kZWZhdWx0cykgewogICAgICBpZiAodGhpcy5kZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFvcHRpb25zW2tleV0pIHsKICAgICAgICBvcHRpb25zW2tleV0gPSB0aGlzLmRlZmF1bHRzW2tleV0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG5ldyBTaHJlZC5SZXF1ZXN0KG9wdGlvbnMpOwogIH0KfTsKCi8vIERlZmluZSBhIGJ1bmNoIG9mIGNvbnZlbmllbmNlIG1ldGhvZHMgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBpbmNsdWRlCi8vIGEgYG1ldGhvZGAgcHJvcGVydHkgaW4geW91ciByZXF1ZXN0IG9wdGlvbnMuCgoiZ2V0IHB1dCBwb3N0IGRlbGV0ZSIuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkgewogIFNocmVkLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24ob3B0aW9ucykgewogICAgb3B0aW9ucy5tZXRob2QgPSBtZXRob2Q7CiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG9wdGlvbnMpOwogIH07Cn0pOwoKCm1vZHVsZS5leHBvcnRzID0gU2hyZWQ7Cgp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvbm9kZV9tb2R1bGVzL2F4L3BhY2thZ2UuanNvbiIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgbW9kdWxlLmV4cG9ydHMgPSB7Im1haW4iOiIuL2xpYi9heC5qcyJ9Cn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9ub2RlX21vZHVsZXMvYXgvbGliL2F4LmpzIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICB2YXIgaW5zcGVjdCA9IHJlcXVpcmUoInV0aWwiKS5pbnNwZWN0CiAgLCBmcyA9IHJlcXVpcmUoImZzIikKOwoKCi8vIHRoaXMgaXMgYSBxdWljay1hbmQtZGlydHkgbG9nZ2VyLiB0aGVyZSBhcmUgb3RoZXIgbmljZXIgbG9nZ2VycyBvdXQgdGhlcmUKLy8gYnV0IHRoZSBvbmVzIGkgZm91bmQgd2VyZSBhbHNvIHNvbWV3aGF0IGludm9sdmVkLiB0aGlzIG9uZSBoYXMgYSBSdWJ5Ci8vIGxvZ2dlciB0eXBlIGludGVyZmFjZQovLwovLyB3ZSBjYW4gZWFzaWx5IHJlcGxhY2UgdGhpcywgcHJvdmlkZSB0aGUgaW5mbywgZGVidWcsIGV0Yy4gbWV0aG9kcyBhcmUgdGhlCi8vIHNhbWUuIG9yLCB3ZSBjYW4gY2hhbmdlIEhhaWt1IHRvIHVzZSBhIG1vcmUgc3RhbmRhcmQgbm9kZS5qcyBpbnRlcmZhY2UKCnZhciBmb3JtYXQgPSBmdW5jdGlvbihsZXZlbCxtZXNzYWdlKSB7CiAgdmFyIGRlYnVnID0gKGxldmVsPT0iZGVidWcifHxsZXZlbD09ImVycm9yIik7CiAgaWYgKCFtZXNzYWdlKSB7IHJldHVybiBtZXNzYWdlLnRvU3RyaW5nKCk7IH0KICBpZiAodHlwZW9mKG1lc3NhZ2UpID09ICJvYmplY3QiKSB7CiAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yICYmIGRlYnVnKSB7CiAgICAgIHJldHVybiBtZXNzYWdlLnN0YWNrOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGluc3BlY3QobWVzc2FnZSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIHJldHVybiBtZXNzYWdlLnRvU3RyaW5nKCk7CiAgfQp9OwoKdmFyIG5vT3AgPSBmdW5jdGlvbihtZXNzYWdlKSB7IHJldHVybiB0aGlzOyB9CnZhciBtYWtlTG9nZ2VyID0gZnVuY3Rpb24obGV2ZWwsZm4pIHsKICByZXR1cm4gZnVuY3Rpb24obWVzc2FnZSkgeyAKICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZm9ybWF0KGxldmVsLCBtZXNzYWdlKSsiXG4iKTsKICAgIHJldHVybiB0aGlzOwogIH0KfTsKCnZhciBMb2dnZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgdmFyIGxvZ2dlciA9IHRoaXM7CiAgdmFyIG9wdGlvbnMgPSBvcHRpb25zfHx7fTsKCiAgLy8gRGVmYXVsdCBvcHRpb25zCiAgb3B0aW9ucy5sZXZlbCA9IG9wdGlvbnMubGV2ZWwgfHwgImluZm8iOwogIG9wdGlvbnMudGltZXN0YW1wID0gb3B0aW9ucy50aW1lc3RhbXAgfHwgdHJ1ZTsKICBvcHRpb25zLnByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8ICIiOwogIGxvZ2dlci5vcHRpb25zID0gb3B0aW9uczsKCiAgLy8gQWxsb3dzIGEgcHJlZml4IHRvIGJlIGFkZGVkIHRvIHRoZSBtZXNzYWdlLgogIC8vCiAgLy8gICAgdmFyIGxvZ2dlciA9IG5ldyBBeCh7IG1vZHVsZTogJ0hhaWt1JyB9KQogIC8vICAgIGxvZ2dlci53YXJuKCd0aGlzIGlzIGdvaW5nIHRvIGJlIGF3ZXNvbWUhJyk7CiAgLy8gICAgLy89PiBIYWlrdTogdGhpcyBpcyBnb2luZyB0byBiZSBhd2Vzb21lIQogIC8vCiAgaWYgKGxvZ2dlci5vcHRpb25zLm1vZHVsZSl7CiAgICBsb2dnZXIub3B0aW9ucy5wcmVmaXggPSBsb2dnZXIub3B0aW9ucy5tb2R1bGU7CiAgfQoKICAvLyBXcml0ZSB0byBzdGRlcnIgb3IgYSBmaWxlCiAgaWYgKGxvZ2dlci5vcHRpb25zLmZpbGUpewogICAgbG9nZ2VyLnN0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGxvZ2dlci5vcHRpb25zLmZpbGUsIHsiZmxhZ3MiOiAiYSJ9KTsKICB9IGVsc2UgewogICAgICBpZihwcm9jZXNzLnRpdGxlID09PSAibm9kZSIpCiAgICBsb2dnZXIuc3RyZWFtID0gcHJvY2Vzcy5zdGRlcnI7CiAgICAgIGVsc2UgaWYocHJvY2Vzcy50aXRsZSA9PT0gImJyb3dzZXIiKQogICAgbG9nZ2VyLnN0cmVhbSA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gV29yayBhcm91bmQgd2VpcmQgY29uc29sZSBjb250ZXh0IGlzc3VlOiBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00ODY2MgogICAgICByZXR1cm4gY29uc29sZVtsb2dnZXIub3B0aW9ucy5sZXZlbF0uYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTsKICAgIH07CiAgfQoKICBzd2l0Y2gobG9nZ2VyLm9wdGlvbnMubGV2ZWwpewogICAgY2FzZSAnZGVidWcnOgogICAgICBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybiddLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7CiAgICAgICAgbG9nZ2VyW2xldmVsXSA9IExvZ2dlci53cml0ZXIobGV2ZWwpOwogICAgICB9KTsKICAgIGNhc2UgJ2luZm8nOgogICAgICBbJ2luZm8nLCAnd2FybiddLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7CiAgICAgICAgbG9nZ2VyW2xldmVsXSA9IExvZ2dlci53cml0ZXIobGV2ZWwpOwogICAgICB9KTsKICAgIGNhc2UgJ3dhcm4nOgogICAgICBsb2dnZXIud2FybiA9IExvZ2dlci53cml0ZXIoJ3dhcm4nKTsKICB9Cn0KCi8vIFVzZWQgdG8gZGVmaW5lIGxvZ2dlciBtZXRob2RzCkxvZ2dlci53cml0ZXIgPSBmdW5jdGlvbihsZXZlbCl7CiAgcmV0dXJuIGZ1bmN0aW9uKG1lc3NhZ2UpewogICAgdmFyIGxvZ2dlciA9IHRoaXM7CgogICAgaWYocHJvY2Vzcy50aXRsZSA9PT0gIm5vZGUiKQogIGxvZ2dlci5zdHJlYW0ud3JpdGUobG9nZ2VyLmZvcm1hdChsZXZlbCwgbWVzc2FnZSkgKyAnXG4nKTsKICAgIGVsc2UgaWYocHJvY2Vzcy50aXRsZSA9PT0gImJyb3dzZXIiKQogIGxvZ2dlci5zdHJlYW0obG9nZ2VyLmZvcm1hdChsZXZlbCwgbWVzc2FnZSkgKyAnXG4nKTsKCiAgfTsKfQoKCkxvZ2dlci5wcm90b3R5cGUgPSB7CiAgaW5mbzogZnVuY3Rpb24oKXt9LAogIGRlYnVnOiBmdW5jdGlvbigpe30sCiAgd2FybjogZnVuY3Rpb24oKXt9LAogIGVycm9yOiBMb2dnZXIud3JpdGVyKCdlcnJvcicpLAogIGZvcm1hdDogZnVuY3Rpb24obGV2ZWwsIG1lc3NhZ2UpewogICAgaWYgKCEgbWVzc2FnZSkgcmV0dXJuICcnOwoKICAgIHZhciBsb2dnZXIgPSB0aGlzCiAgICAgICwgcHJlZml4ID0gbG9nZ2VyLm9wdGlvbnMucHJlZml4CiAgICAgICwgdGltZXN0YW1wID0gbG9nZ2VyLm9wdGlvbnMudGltZXN0YW1wID8gIiAiICsgKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgOiAiIgogICAgOwoKICAgIHJldHVybiAocHJlZml4ICsgdGltZXN0YW1wICsgIjogIiArIG1lc3NhZ2UpOwogIH0KfTsKCm1vZHVsZS5leHBvcnRzID0gTG9nZ2VyOwoKfSk7CgpyZXF1aXJlLmRlZmluZSgidXRpbCIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgLy8gdG9kbwoKfSk7CgpyZXF1aXJlLmRlZmluZSgiZnMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIC8vIG5vdGhpbmcgdG8gc2VlIGhlcmUuLi4gbm8gZmlsZSBtZXRob2RzIGZvciB0aGUgYnJvd3NlcgoKfSk7CgpyZXF1aXJlLmRlZmluZSgiL25vZGVfbW9kdWxlcy9jb29raWVqYXIvcGFja2FnZS5qc29uIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IHsibWFpbiI6ImNvb2tpZWphci5qcyJ9Cn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9ub2RlX21vZHVsZXMvY29va2llamFyL2Nvb2tpZWphci5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgZXhwb3J0cy5Db29raWVBY2Nlc3NJbmZvPUNvb2tpZUFjY2Vzc0luZm89ZnVuY3Rpb24gQ29va2llQWNjZXNzSW5mbyhkb21haW4scGF0aCxzZWN1cmUsc2NyaXB0KSB7CiAgICBpZih0aGlzIGluc3RhbmNlb2YgQ29va2llQWNjZXNzSW5mbykgewogICAgICB0aGlzLmRvbWFpbj1kb21haW58fHVuZGVmaW5lZDsKICAgICAgdGhpcy5wYXRoPXBhdGh8fCIvIjsKICAgICAgdGhpcy5zZWN1cmU9ISFzZWN1cmU7CiAgICAgIHRoaXMuc2NyaXB0PSEhc2NyaXB0OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIGVsc2UgewogICAgICAgIHJldHVybiBuZXcgQ29va2llQWNjZXNzSW5mbyhkb21haW4scGF0aCxzZWN1cmUsc2NyaXB0KSAgICAKICAgIH0KfQoKZXhwb3J0cy5Db29raWU9Q29va2llPWZ1bmN0aW9uIENvb2tpZShjb29raWVzdHIpIHsKICBpZihjb29raWVzdHIgaW5zdGFuY2VvZiBDb29raWUpIHsKICAgIHJldHVybiBjb29raWVzdHI7CiAgfQogICAgZWxzZSB7CiAgICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIENvb2tpZSkgewogICAgICAgICAgdGhpcy5uYW1lID0gbnVsbDsKICAgICAgICAgIHRoaXMudmFsdWUgPSBudWxsOwogICAgICAgICAgdGhpcy5leHBpcmF0aW9uX2RhdGUgPSBJbmZpbml0eTsKICAgICAgICAgIHRoaXMucGF0aCA9ICIvIjsKICAgICAgICAgIHRoaXMuZG9tYWluID0gbnVsbDsKICAgICAgICAgIHRoaXMuc2VjdXJlID0gZmFsc2U7IC8vaG93IHRvIGRlZmluZT8KICAgICAgICAgIHRoaXMubm9zY3JpcHQgPSBmYWxzZTsgLy9odHRwb25seQogICAgICAgICAgaWYoY29va2llc3RyKSB7CiAgICAgICAgICAgIHRoaXMucGFyc2UoY29va2llc3RyKQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICAgIHJldHVybiBuZXcgQ29va2llKGNvb2tpZXN0cikKICAgIH0KfQoKQ29va2llLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkgewogIHZhciBzdHI9W3RoaXMubmFtZSsiPSIrdGhpcy52YWx1ZV07CiAgaWYodGhpcy5leHBpcmF0aW9uX2RhdGUgIT09IEluZmluaXR5KSB7CiAgICBzdHIucHVzaCgiZXhwaXJlcz0iKyhuZXcgRGF0ZSh0aGlzLmV4cGlyYXRpb25fZGF0ZSkpLnRvR01UU3RyaW5nKCkpOwogIH0KICBpZih0aGlzLmRvbWFpbikgewogICAgc3RyLnB1c2goImRvbWFpbj0iK3RoaXMuZG9tYWluKTsKICB9CiAgaWYodGhpcy5wYXRoKSB7CiAgICBzdHIucHVzaCgicGF0aD0iK3RoaXMucGF0aCk7CiAgfQogIGlmKHRoaXMuc2VjdXJlKSB7CiAgICBzdHIucHVzaCgic2VjdXJlIik7CiAgfQogIGlmKHRoaXMubm9zY3JpcHQpIHsKICAgIHN0ci5wdXNoKCJodHRwb25seSIpOwogIH0KICByZXR1cm4gc3RyLmpvaW4oIjsgIik7Cn0KCkNvb2tpZS5wcm90b3R5cGUudG9WYWx1ZVN0cmluZyA9IGZ1bmN0aW9uIHRvVmFsdWVTdHJpbmcoKSB7CiAgcmV0dXJuIHRoaXMubmFtZSsiPSIrdGhpcy52YWx1ZTsKfQoKdmFyIGNvb2tpZV9zdHJfc3BsaXR0ZXI9L1s6XSg/PVxzKlthLXpBLVowLTlfXC1dK1xzKls9XSkvZwpDb29raWUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gcGFyc2Uoc3RyKSB7CiAgaWYodGhpcyBpbnN0YW5jZW9mIENvb2tpZSkgewogICAgICB2YXIgcGFydHM9c3RyLnNwbGl0KCI7IikKICAgICAgLCBwYWlyPXBhcnRzWzBdLm1hdGNoKC8oW149XSspPSgoPzoufFxuKSopLykKICAgICAgLCBrZXk9cGFpclsxXQogICAgICAsIHZhbHVlPXBhaXJbMl07CiAgICAgIHRoaXMubmFtZSA9IGtleTsKICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgCiAgICAgIGZvcih2YXIgaT0xO2k8cGFydHMubGVuZ3RoO2krKykgewogICAgICAgIHBhaXI9cGFydHNbaV0ubWF0Y2goLyhbXj1dKykoPzo9KCg/Oi58XG4pKikpPy8pCiAgICAgICAgLCBrZXk9cGFpclsxXS50cmltKCkudG9Mb3dlckNhc2UoKQogICAgICAgICwgdmFsdWU9cGFpclsyXTsKICAgICAgICBzd2l0Y2goa2V5KSB7CiAgICAgICAgICBjYXNlICJodHRwb25seSI6CiAgICAgICAgICAgIHRoaXMubm9zY3JpcHQgPSB0cnVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICJleHBpcmVzIjoKICAgICAgICAgICAgdGhpcy5leHBpcmF0aW9uX2RhdGUgPSB2YWx1ZQogICAgICAgICAgICAgID8gTnVtYmVyKERhdGUucGFyc2UodmFsdWUpKQogICAgICAgICAgICAgIDogSW5maW5pdHk7CiAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgInBhdGgiOgogICAgICAgICAgICB0aGlzLnBhdGggPSB2YWx1ZQogICAgICAgICAgICAgID8gdmFsdWUudHJpbSgpCiAgICAgICAgICAgICAgOiAiIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAiZG9tYWluIjoKICAgICAgICAgICAgdGhpcy5kb21haW4gPSB2YWx1ZQogICAgICAgICAgICAgID8gdmFsdWUudHJpbSgpCiAgICAgICAgICAgICAgOiAiIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAic2VjdXJlIjoKICAgICAgICAgICAgdGhpcy5zZWN1cmUgPSB0cnVlOwogICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgIH0KICAgIAogICAgICByZXR1cm4gdGhpczsKICB9CiAgICByZXR1cm4gbmV3IENvb2tpZSgpLnBhcnNlKHN0cikKfQoKQ29va2llLnByb3RvdHlwZS5tYXRjaGVzID0gZnVuY3Rpb24gbWF0Y2hlcyhhY2Nlc3NfaW5mbykgewogIGlmKHRoaXMubm9zY3JpcHQgJiYgYWNjZXNzX2luZm8uc2NyaXB0CiAgfHwgdGhpcy5zZWN1cmUgJiYgIWFjY2Vzc19pbmZvLnNlY3VyZQogIHx8ICF0aGlzLmNvbGxpZGVzV2l0aChhY2Nlc3NfaW5mbykpIHsKICAgIHJldHVybiBmYWxzZQogIH0KICByZXR1cm4gdHJ1ZTsKfQoKQ29va2llLnByb3RvdHlwZS5jb2xsaWRlc1dpdGggPSBmdW5jdGlvbiBjb2xsaWRlc1dpdGgoYWNjZXNzX2luZm8pIHsKICBpZigodGhpcy5wYXRoICYmICFhY2Nlc3NfaW5mby5wYXRoKSB8fCAodGhpcy5kb21haW4gJiYgIWFjY2Vzc19pbmZvLmRvbWFpbikpIHsKICAgIHJldHVybiBmYWxzZQogIH0KICBpZih0aGlzLnBhdGggJiYgYWNjZXNzX2luZm8ucGF0aC5pbmRleE9mKHRoaXMucGF0aCkgIT09IDApIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgaWYgKHRoaXMuZG9tYWluPT09YWNjZXNzX2luZm8uZG9tYWluKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZWxzZSBpZih0aGlzLmRvbWFpbiAmJiB0aGlzLmRvbWFpbi5jaGFyQXQoMCk9PT0iLiIpCiAgewogICAgdmFyIHdpbGRjYXJkPWFjY2Vzc19pbmZvLmRvbWFpbi5pbmRleE9mKHRoaXMuZG9tYWluLnNsaWNlKDEpKQogICAgaWYod2lsZGNhcmQ9PT0tMSB8fCB3aWxkY2FyZCE9PWFjY2Vzc19pbmZvLmRvbWFpbi5sZW5ndGgtdGhpcy5kb21haW4ubGVuZ3RoKzEpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KICBlbHNlIGlmKHRoaXMuZG9tYWluKXsKICAgIHJldHVybiBmYWxzZQogIH0KICByZXR1cm4gdHJ1ZTsKfQoKZXhwb3J0cy5Db29raWVKYXI9Q29va2llSmFyPWZ1bmN0aW9uIENvb2tpZUphcigpIHsKICBpZih0aGlzIGluc3RhbmNlb2YgQ29va2llSmFyKSB7CiAgICAgIHZhciBjb29raWVzID0ge30gLy9uYW1lOiBbQ29va2llXQogICAgCiAgICAgIHRoaXMuc2V0Q29va2llID0gZnVuY3Rpb24gc2V0Q29va2llKGNvb2tpZSkgewogICAgICAgIGNvb2tpZSA9IENvb2tpZShjb29raWUpOwogICAgICAgIC8vRGVsZXRlIHRoZSBjb29raWUgaWYgdGhlIHNldCBpcyBwYXN0IHRoZSBjdXJyZW50IHRpbWUKICAgICAgICB2YXIgcmVtb3ZlID0gY29va2llLmV4cGlyYXRpb25fZGF0ZSA8PSBEYXRlLm5vdygpOwogICAgICAgIGlmKGNvb2tpZS5uYW1lIGluIGNvb2tpZXMpIHsKICAgICAgICAgIHZhciBjb29raWVzX2xpc3QgPSBjb29raWVzW2Nvb2tpZS5uYW1lXTsKICAgICAgICAgIGZvcih2YXIgaT0wO2k8Y29va2llc19saXN0Lmxlbmd0aDtpKyspIHsKICAgICAgICAgICAgdmFyIGNvbGxpZGFibGVfY29va2llID0gY29va2llc19saXN0W2ldOwogICAgICAgICAgICBpZihjb2xsaWRhYmxlX2Nvb2tpZS5jb2xsaWRlc1dpdGgoY29va2llKSkgewogICAgICAgICAgICAgIGlmKHJlbW92ZSkgewogICAgICAgICAgICAgICAgY29va2llc19saXN0LnNwbGljZShpLDEpOwogICAgICAgICAgICAgICAgaWYoY29va2llc19saXN0Lmxlbmd0aD09PTApIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvb2tpZXNbY29va2llLm5hbWVdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvb2tpZXNfbGlzdFtpXT1jb29raWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZihyZW1vdmUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgY29va2llc19saXN0LnB1c2goY29va2llKTsKICAgICAgICAgIHJldHVybiBjb29raWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYocmVtb3ZlKXsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICByZXR1cm4gY29va2llc1tjb29raWUubmFtZV09W2Nvb2tpZV07CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vcmV0dXJucyBhIGNvb2tpZQogICAgICB0aGlzLmdldENvb2tpZSA9IGZ1bmN0aW9uIGdldENvb2tpZShjb29raWVfbmFtZSxhY2Nlc3NfaW5mbykgewogICAgICAgIHZhciBjb29raWVzX2xpc3QgPSBjb29raWVzW2Nvb2tpZV9uYW1lXTsKICAgICAgICBmb3IodmFyIGk9MDtpPGNvb2tpZXNfbGlzdC5sZW5ndGg7aSsrKSB7CiAgICAgICAgICB2YXIgY29va2llID0gY29va2llc19saXN0W2ldOwogICAgICAgICAgaWYoY29va2llLmV4cGlyYXRpb25fZGF0ZSA8PSBEYXRlLm5vdygpKSB7CiAgICAgICAgICAgIGlmKGNvb2tpZXNfbGlzdC5sZW5ndGg9PT0wKSB7CiAgICAgICAgICAgICAgZGVsZXRlIGNvb2tpZXNbY29va2llLm5hbWVdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgICBpZihjb29raWUubWF0Y2hlcyhhY2Nlc3NfaW5mbykpIHsKICAgICAgICAgICAgcmV0dXJuIGNvb2tpZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy9yZXR1cm5zIGEgbGlzdCBvZiBjb29raWVzCiAgICAgIHRoaXMuZ2V0Q29va2llcyA9IGZ1bmN0aW9uIGdldENvb2tpZXMoYWNjZXNzX2luZm8pIHsKICAgICAgICB2YXIgbWF0Y2hlcz1bXTsKICAgICAgICBmb3IodmFyIGNvb2tpZV9uYW1lIGluIGNvb2tpZXMpIHsKICAgICAgICAgIHZhciBjb29raWU9dGhpcy5nZXRDb29raWUoY29va2llX25hbWUsYWNjZXNzX2luZm8pOwogICAgICAgICAgaWYgKGNvb2tpZSkgewogICAgICAgICAgICBtYXRjaGVzLnB1c2goY29va2llKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWF0Y2hlcy50b1N0cmluZz1mdW5jdGlvbiB0b1N0cmluZygpe3JldHVybiBtYXRjaGVzLmpvaW4oIjoiKTt9CiAgICAgICAgICAgIG1hdGNoZXMudG9WYWx1ZVN0cmluZz1mdW5jdGlvbigpIHtyZXR1cm4gbWF0Y2hlcy5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIGMudG9WYWx1ZVN0cmluZygpO30pLmpvaW4oJzsnKTt9CiAgICAgICAgcmV0dXJuIG1hdGNoZXM7CiAgICAgIH0KICAgIAogICAgICByZXR1cm4gdGhpczsKICB9CiAgICByZXR1cm4gbmV3IENvb2tpZUphcigpCn0KCgovL3JldHVybnMgbGlzdCBvZiBjb29raWVzIHRoYXQgd2VyZSBzZXQgY29ycmVjdGx5CkNvb2tpZUphci5wcm90b3R5cGUuc2V0Q29va2llcyA9IGZ1bmN0aW9uIHNldENvb2tpZXMoY29va2llcykgewogIGNvb2tpZXM9QXJyYXkuaXNBcnJheShjb29raWVzKQogICAgP2Nvb2tpZXMKICAgIDpjb29raWVzLnNwbGl0KGNvb2tpZV9zdHJfc3BsaXR0ZXIpOwogIHZhciBzdWNjZXNzZnVsPVtdCiAgZm9yKHZhciBpPTA7aTxjb29raWVzLmxlbmd0aDtpKyspIHsKICAgIHZhciBjb29raWUgPSBDb29raWUoY29va2llc1tpXSk7CiAgICBpZih0aGlzLnNldENvb2tpZShjb29raWUpKSB7CiAgICAgIHN1Y2Nlc3NmdWwucHVzaChjb29raWUpOwogICAgfQogIH0KICByZXR1cm4gc3VjY2Vzc2Z1bDsKfQoKfSk7CgpyZXF1aXJlLmRlZmluZSgiL3NocmVkL3JlcXVlc3QuanMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIC8vIFRoZSByZXF1ZXN0IG9iamVjdCBlbmNhcHN1bGF0ZXMgYSByZXF1ZXN0LCBjcmVhdGluZyBhIE5vZGUuanMgSFRUUCByZXF1ZXN0IGFuZAovLyB0aGVuIGhhbmRsaW5nIHRoZSByZXNwb25zZS4KCnZhciBIVFRQID0gcmVxdWlyZSgiaHR0cCIpCiAgLCBIVFRQUyA9IHJlcXVpcmUoImh0dHBzIikKICAsIHBhcnNlVXJpID0gcmVxdWlyZSgiLi9wYXJzZVVyaSIpCiAgLCBFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyCiAgLCBzcHJpbnRmID0gcmVxdWlyZSgic3ByaW50ZiIpLnNwcmludGYKICAsIFJlc3BvbnNlID0gcmVxdWlyZSgiLi9yZXNwb25zZSIpCiAgLCBIZWFkZXJNaXhpbnMgPSByZXF1aXJlKCIuL21peGlucy9oZWFkZXJzIikKICAsIENvbnRlbnQgPSByZXF1aXJlKCIuL2NvbnRlbnQiKQo7Cgp2YXIgU1RBVFVTX0NPREVTID0gSFRUUC5TVEFUVVNfQ09ERVMgfHwgewogICAgMTAwIDogJ0NvbnRpbnVlJywKICAgIDEwMSA6ICdTd2l0Y2hpbmcgUHJvdG9jb2xzJywKICAgIDEwMiA6ICdQcm9jZXNzaW5nJywgLy8gUkZDIDI1MTgsIG9ic29sZXRlZCBieSBSRkMgNDkxOAogICAgMjAwIDogJ09LJywKICAgIDIwMSA6ICdDcmVhdGVkJywKICAgIDIwMiA6ICdBY2NlcHRlZCcsCiAgICAyMDMgOiAnTm9uLUF1dGhvcml0YXRpdmUgSW5mb3JtYXRpb24nLAogICAgMjA0IDogJ05vIENvbnRlbnQnLAogICAgMjA1IDogJ1Jlc2V0IENvbnRlbnQnLAogICAgMjA2IDogJ1BhcnRpYWwgQ29udGVudCcsCiAgICAyMDcgOiAnTXVsdGktU3RhdHVzJywgLy8gUkZDIDQ5MTgKICAgIDMwMCA6ICdNdWx0aXBsZSBDaG9pY2VzJywKICAgIDMwMSA6ICdNb3ZlZCBQZXJtYW5lbnRseScsCiAgICAzMDIgOiAnTW92ZWQgVGVtcG9yYXJpbHknLAogICAgMzAzIDogJ1NlZSBPdGhlcicsCiAgICAzMDQgOiAnTm90IE1vZGlmaWVkJywKICAgIDMwNSA6ICdVc2UgUHJveHknLAogICAgMzA3IDogJ1RlbXBvcmFyeSBSZWRpcmVjdCcsCiAgICA0MDAgOiAnQmFkIFJlcXVlc3QnLAogICAgNDAxIDogJ1VuYXV0aG9yaXplZCcsCiAgICA0MDIgOiAnUGF5bWVudCBSZXF1aXJlZCcsCiAgICA0MDMgOiAnRm9yYmlkZGVuJywKICAgIDQwNCA6ICdOb3QgRm91bmQnLAogICAgNDA1IDogJ01ldGhvZCBOb3QgQWxsb3dlZCcsCiAgICA0MDYgOiAnTm90IEFjY2VwdGFibGUnLAogICAgNDA3IDogJ1Byb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJywKICAgIDQwOCA6ICdSZXF1ZXN0IFRpbWUtb3V0JywKICAgIDQwOSA6ICdDb25mbGljdCcsCiAgICA0MTAgOiAnR29uZScsCiAgICA0MTEgOiAnTGVuZ3RoIFJlcXVpcmVkJywKICAgIDQxMiA6ICdQcmVjb25kaXRpb24gRmFpbGVkJywKICAgIDQxMyA6ICdSZXF1ZXN0IEVudGl0eSBUb28gTGFyZ2UnLAogICAgNDE0IDogJ1JlcXVlc3QtVVJJIFRvbyBMYXJnZScsCiAgICA0MTUgOiAnVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZScsCiAgICA0MTYgOiAnUmVxdWVzdGVkIFJhbmdlIE5vdCBTYXRpc2ZpYWJsZScsCiAgICA0MTcgOiAnRXhwZWN0YXRpb24gRmFpbGVkJywKICAgIDQxOCA6ICdJXCdtIGEgdGVhcG90JywgLy8gUkZDIDIzMjQKICAgIDQyMiA6ICdVbnByb2Nlc3NhYmxlIEVudGl0eScsIC8vIFJGQyA0OTE4CiAgICA0MjMgOiAnTG9ja2VkJywgLy8gUkZDIDQ5MTgKICAgIDQyNCA6ICdGYWlsZWQgRGVwZW5kZW5jeScsIC8vIFJGQyA0OTE4CiAgICA0MjUgOiAnVW5vcmRlcmVkIENvbGxlY3Rpb24nLCAvLyBSRkMgNDkxOAogICAgNDI2IDogJ1VwZ3JhZGUgUmVxdWlyZWQnLCAvLyBSRkMgMjgxNwogICAgNTAwIDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsCiAgICA1MDEgOiAnTm90IEltcGxlbWVudGVkJywKICAgIDUwMiA6ICdCYWQgR2F0ZXdheScsCiAgICA1MDMgOiAnU2VydmljZSBVbmF2YWlsYWJsZScsCiAgICA1MDQgOiAnR2F0ZXdheSBUaW1lLW91dCcsCiAgICA1MDUgOiAnSFRUUCBWZXJzaW9uIG5vdCBzdXBwb3J0ZWQnLAogICAgNTA2IDogJ1ZhcmlhbnQgQWxzbyBOZWdvdGlhdGVzJywgLy8gUkZDIDIyOTUKICAgIDUwNyA6ICdJbnN1ZmZpY2llbnQgU3RvcmFnZScsIC8vIFJGQyA0OTE4CiAgICA1MDkgOiAnQmFuZHdpZHRoIExpbWl0IEV4Y2VlZGVkJywKICAgIDUxMCA6ICdOb3QgRXh0ZW5kZWQnIC8vIFJGQyAyNzc0Cn07CgovLyBUaGUgU2hyZWQgb2JqZWN0IGl0c2VsZiBjb25zdHJ1Y3RzIHRoZSBgUmVxdWVzdGAgb2JqZWN0LiBZb3Ugc2hvdWxkIHJhcmVseQovLyBuZWVkIHRvIGRvIHRoaXMgZGlyZWN0bHkuCgp2YXIgUmVxdWVzdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICB0aGlzLmxvZyA9IG9wdGlvbnMubG9nZ2VyOwogIHRoaXMuY29va2llSmFyID0gb3B0aW9ucy5jb29raWVKYXI7CiAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7CiAgdGhpcy5sb2dDdXJsID0gb3B0aW9ucy5sb2dDdXJsOwogIHByb2Nlc3NPcHRpb25zKHRoaXMsb3B0aW9uc3x8e30pOwogIGNyZWF0ZVJlcXVlc3QodGhpcyk7Cn07CgovLyBBIGBSZXF1ZXN0YCBoYXMgYSBudW1iZXIgb2YgcHJvcGVydGllcywgbWFueSBvZiB3aGljaCBoZWxwIHdpdGggZGV0YWlscyBsaWtlCi8vIFVSTCBwYXJzaW5nIG9yIGRlZmF1bHRpbmcgdGhlIHBvcnQgZm9yIHRoZSByZXF1ZXN0LgoKT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVxdWVzdC5wcm90b3R5cGUsIHsKCi8vIC0gKip1cmwqKi4gWW91IGNhbiBzZXQgdGhlIGB1cmxgIHByb3BlcnR5IHdpdGggYSB2YWxpZCBVUkwgc3RyaW5nIGFuZCBhbGwgdGhlCi8vICAgVVJMLXJlbGF0ZWQgcHJvcGVydGllcyAoaG9zdCwgcG9ydCwgZXRjLikgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHNldCBvbiB0aGUKLy8gICByZXF1ZXN0IG9iamVjdC4KCiAgdXJsOiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXRoaXMuc2NoZW1lKSB7IHJldHVybiBudWxsOyB9CiAgICAgIHJldHVybiBzcHJpbnRmKCIlczovLyVzOiVzJXMiLAogICAgICAgICAgdGhpcy5zY2hlbWUsIHRoaXMuaG9zdCwgdGhpcy5wb3J0LAogICAgICAgICAgKHRoaXMucHJveHkgPyAiLyIgOiB0aGlzLnBhdGgpICsKICAgICAgICAgICh0aGlzLnF1ZXJ5ID8gKCI/IiArIHRoaXMucXVlcnkpIDogIiIpKTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uKF91cmwpIHsKICAgICAgX3VybCA9IHBhcnNlVXJpKF91cmwpOwogICAgICB0aGlzLnNjaGVtZSA9IF91cmwucHJvdG9jb2w7CiAgICAgIHRoaXMuaG9zdCA9IF91cmwuaG9zdDsKICAgICAgdGhpcy5wb3J0ID0gX3VybC5wb3J0OwogICAgICB0aGlzLnBhdGggPSBfdXJsLnBhdGg7CiAgICAgIHRoaXMucXVlcnkgPSBfdXJsLnF1ZXJ5OwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlCiAgfSwKCi8vIC0gKipoZWFkZXJzKiouIFJldHVybnMgYSBoYXNoIHJlcHJlc2VudGluZyB0aGUgcmVxdWVzdCBoZWFkZXJzLiBZb3UgY2FuJ3Qgc2V0Ci8vICAgdGhpcyBkaXJlY3RseSwgb25seSBnZXQgaXQuIFlvdSBjYW4gYWRkIG9yIG1vZGlmeSBoZWFkZXJzIGJ5IHVzaW5nIHRoZQovLyAgIGBzZXRIZWFkZXJgIG9yIGBzZXRIZWFkZXJzYCBtZXRob2QuIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSBoZWFkZXJzIGFyZQovLyAgIG5vcm1hbGl6ZWQgLSB0aGF0IGlzLCB5b3UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlbmQgYENvbnRlbnQtVHlwZWAgYW5kCi8vICAgYGNvbnRlbnQtdHlwZWAgaGVhZGVycy4gS2VlcCBpbiBtaW5kIHRoYXQgaWYgeW91IG1vZGlmeSB0aGUgcmV0dXJuZWQgaGFzaCwKLy8gICBpdCB3aWxsICpub3QqIG1vZGlmeSB0aGUgcmVxdWVzdCBoZWFkZXJzLgoKICBoZWFkZXJzOiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5nZXRIZWFkZXJzKCk7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqcG9ydCoqLiBVbmxlc3MgeW91IHNldCB0aGUgYHBvcnRgIGV4cGxpY2l0bHkgb3IgaW5jbHVkZSBpdCBpbiB0aGUgVVJMLCBpdAovLyAgIHdpbGwgZGVmYXVsdCBiYXNlZCBvbiB0aGUgc2NoZW1lLgoKICBwb3J0OiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIXRoaXMuX3BvcnQpIHsKICAgICAgICBzd2l0Y2godGhpcy5zY2hlbWUpIHsKICAgICAgICAgIGNhc2UgImh0dHBzIjogcmV0dXJuIHRoaXMuX3BvcnQgPSA0NDM7CiAgICAgICAgICBjYXNlICJodHRwIjoKICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzLl9wb3J0ID0gODA7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLl9wb3J0OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5fcG9ydCA9IHZhbHVlOyByZXR1cm4gdGhpczsgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9LAoKLy8gLSAqKm1ldGhvZCoqLiBUaGUgcmVxdWVzdCBtZXRob2QgLSBgZ2V0YCwgYHB1dGAsIGBwb3N0YCwgZXRjLiB0aGF0IHdpbGwgYmUKLy8gICB1c2VkIHRvIG1ha2UgdGhlIHJlcXVlc3QuIERlZmF1bHRzIHRvIGBnZXRgLgoKICBtZXRob2Q6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLl9tZXRob2QgPSAodGhpcy5fbWV0aG9kfHwiR0VUIik7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgewogICAgICB0aGlzLl9tZXRob2QgPSB2YWx1ZTsgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqcXVlcnkqKi4gQ2FuIGJlIHNldCBlaXRoZXIgd2l0aCBhIHF1ZXJ5IHN0cmluZyBvciBhIGhhc2ggKG9iamVjdCkuIEdldAovLyAgIHdpbGwgYWx3YXlzIHJldHVybiBhIHByb3Blcmx5IGVzY2FwZWQgcXVlcnkgc3RyaW5nIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8KLy8gICBxdWVyeSBjb21wb25lbnQgZm9yIHRoZSByZXF1ZXN0LgoKICBxdWVyeTogewogICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5fcXVlcnk7fSwKICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsKICAgICAgdmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIChoYXNoKSB7CiAgICAgICAgdmFyIHF1ZXJ5ID0gIiI7CiAgICAgICAgZm9yICh2YXIga2V5IGluIGhhc2gpIHsKICAgICAgICAgIHF1ZXJ5ICs9IGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGhhc2hba2V5XSkgKyAnJic7CiAgICAgICAgfQogICAgICAgIC8vIFJlbW92ZSB0aGUgbGFzdCAnJicKICAgICAgICBxdWVyeSA9IHF1ZXJ5LnNsaWNlKDAsIC0xKTsKICAgICAgICByZXR1cm4gcXVlcnk7CiAgICAgIH0KCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICB2YWx1ZSA9IHN0cmluZ2lmeSh2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX3F1ZXJ5ID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fcXVlcnkgPSAiIjsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlCiAgfSwKCi8vIC0gKipwYXJhbWV0ZXJzKiouIFRoaXMgd2lsbCByZXR1cm4gdGhlIHF1ZXJ5IHBhcmFtZXRlcnMgaW4gdGhlIGZvcm0gb2YgYSBoYXNoCi8vICAgKG9iamVjdCkuCgogIHBhcmFtZXRlcnM6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBRdWVyeVN0cmluZy5wYXJzZSh0aGlzLl9xdWVyeXx8IiIpOyB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqY29udGVudCoqLiAoQWxpYXNlZCBhcyBgYm9keWAuKSBTZXQgdGhpcyB0byBhZGQgYSBjb250ZW50IGVudGl0eSB0byB0aGUKLy8gICByZXF1ZXN0LiBBdHRlbXB0cyB0byB1c2UgdGhlIGBjb250ZW50LXR5cGVgIGhlYWRlciB0byBkZXRlcm1pbmUgd2hhdCB0byBkbwovLyAgIHdpdGggdGhlIGNvbnRlbnQgdmFsdWUuIEdldCB0aGlzIHRvIGdldCBiYWNrIGEgW2BDb250ZW50YAovLyAgIG9iamVjdF0oLi9jb250ZW50Lmh0bWwpLgoKICBib2R5OiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fYm9keTsgfSwKICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsKICAgICAgdGhpcy5fYm9keSA9IG5ldyBDb250ZW50KHsKICAgICAgICBkYXRhOiB2YWx1ZSwKICAgICAgICB0eXBlOiB0aGlzLmdldEhlYWRlcigiQ29udGVudC1UeXBlIikKICAgICAgfSk7CiAgICAgIHRoaXMuc2V0SGVhZGVyKCJDb250ZW50LVR5cGUiLHRoaXMuY29udGVudC50eXBlKTsKICAgICAgdGhpcy5zZXRIZWFkZXIoIkNvbnRlbnQtTGVuZ3RoIix0aGlzLmNvbnRlbnQubGVuZ3RoKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqdGltZW91dCoqLiBVc2VkIHRvIGRldGVybWluZSBob3cgbG9uZyB0byB3YWl0IGZvciBhIHJlc3BvbnNlLiBEb2VzIG5vdAovLyAgIGRpc3Rpbmd1aXNoIGJldHdlZW4gY29ubmVjdCB0aW1lb3V0cyB2ZXJzdXMgcmVxdWVzdCB0aW1lb3V0cy4gU2V0IGVpdGhlciBpbgovLyAgIG1pbGxpc2Vjb25kcyBvciB3aXRoIGFuIG9iamVjdCB3aXRoIHRlbXBvcmFsIGF0dHJpYnV0ZXMgKGhvdXJzLCBtaW51dGVzLAovLyAgIHNlY29uZHMpIGFuZCBjb252ZXJ0IGl0IGludG8gbWlsbGlzZWNvbmRzLiBHZXQgd2lsbCBhbHdheXMgcmV0dXJuCi8vICAgbWlsbGlzZWNvbmRzLgoKICB0aW1lb3V0OiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fdGltZW91dDsgfSwgLy8gaW4gbWlsbGlzZWNvbmRzCiAgICBzZXQ6IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgdmFyIHJlcXVlc3QgPSB0aGlzCiAgICAgICAgLCBtaWxsaXNlY29uZHMgPSAwOwogICAgICA7CiAgICAgIGlmICghdGltZW91dCkgcmV0dXJuIHRoaXM7CiAgICAgIGlmICh0eXBlb2YgdGltZW91dD09PSJudW1iZXIiKSB7IG1pbGxpc2Vjb25kcyA9IHRpbWVvdXQ7IH0KICAgICAgZWxzZSB7CiAgICAgICAgbWlsbGlzZWNvbmRzID0gKHRpbWVvdXQubWlsbGlzZWNvbmRzfHwwKSArCiAgICAgICAgICAoMTAwMCAqICgodGltZW91dC5zZWNvbmRzfHwwKSArCiAgICAgICAgICAgICAgKDYwICogKCh0aW1lb3V0Lm1pbnV0ZXN8fDApICsKICAgICAgICAgICAgICAgICg2MCAqICh0aW1lb3V0LmhvdXJzfHwwKSkpKSkpOwogICAgICB9CiAgICAgIHRoaXMuX3RpbWVvdXQgPSBtaWxsaXNlY29uZHM7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9Cn0pOwoKLy8gQWxpYXMgYGJvZHlgIHByb3BlcnR5IHRvIGBjb250ZW50YC4gU2luY2UgdGhlIFtjb250ZW50IG9iamVjdF0oLi9jb250ZW50Lmh0bWwpCi8vIGhhcyBhIGBib2R5YCBhdHRyaWJ1dGUsIGl0J3MgcHJlZmVyYWJsZSB0byB1c2UgYGNvbnRlbnRgIHNpbmNlIHlvdSBjYW4gdGhlbgovLyBhY2Nlc3MgdGhlIHJhdyBjb250ZW50IGRhdGEgdXNpbmcgYGNvbnRlbnQuYm9keWAuCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdC5wcm90b3R5cGUsImNvbnRlbnQiLAogICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihSZXF1ZXN0LnByb3RvdHlwZSwgImJvZHkiKSk7CgovLyBUaGUgYFJlcXVlc3RgIG9iamVjdCBjYW4gYmUgcHJldHR5IG92ZXJ3aGVsbWluZyB0byB2aWV3IHVzaW5nIHRoZSBidWlsdC1pbgovLyBOb2RlLmpzIGluc3BlY3QgbWV0aG9kLiBXZSB3YW50IHRvIG1ha2UgaXQgYSBiaXQgbW9yZSBtYW5hZ2VhYmxlLiBUaGlzCi8vIHByb2JhYmx5IGdvZXMgW3RvbyBmYXIgaW4gdGhlIG90aGVyCi8vIGRpcmVjdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL3NwaXJlLWlvL3NocmVkL2lzc3Vlcy8yKS4KClJlcXVlc3QucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHJlcXVlc3QgPSB0aGlzOwogIHZhciBoZWFkZXJzID0gdGhpcy5mb3JtYXRfaGVhZGVycygpOwogIHZhciBzdW1tYXJ5ID0gWyI8U2hyZWQgUmVxdWVzdD4gIiwgcmVxdWVzdC5tZXRob2QudG9VcHBlckNhc2UoKSwKICAgICAgcmVxdWVzdC51cmxdLmpvaW4oIiAiKQogIHJldHVybiBbIHN1bW1hcnksICItIEhlYWRlcnM6IiwgaGVhZGVyc10uam9pbigiXG4iKTsKfTsKClJlcXVlc3QucHJvdG90eXBlLmZvcm1hdF9oZWFkZXJzID0gZnVuY3Rpb24gKCkgewogIHZhciBhcnJheSA9IFtdCiAgdmFyIGhlYWRlcnMgPSB0aGlzLl9oZWFkZXJzCiAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHsKICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc1trZXldCiAgICAgIGFycmF5LnB1c2goIlx0IiArIGtleSArICI6ICIgKyB2YWx1ZSk7CiAgICB9CiAgfQogIHJldHVybiBhcnJheS5qb2luKCJcbiIpOwp9OwoKLy8gQWxsb3cgY2hhaW5hYmxlICdvbidzOiAgc2hyZWQuZ2V0KHsgLi4uIH0pLm9uKCAuLi4gKS4gIFlvdSBjYW4gcGFzcyBpbiBhCi8vIHNpbmdsZSBmdW5jdGlvbiwgYSBwYWlyIChldmVudCwgZnVuY3Rpb24pLCBvciBhIGhhc2g6Ci8vIHsgZXZlbnQ6IGZ1bmN0aW9uLCBldmVudDogZnVuY3Rpb24gfQpSZXF1ZXN0LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudE9ySGFzaCwgbGlzdGVuZXIpIHsKICB2YXIgZW1pdHRlciA9IHRoaXMuZW1pdHRlcjsKICAvLyBQYXNzIGluIGEgc2luZ2xlIGFyZ3VtZW50IGFzIGEgZnVuY3Rpb24gdGhlbiBtYWtlIGl0IHRoZSBkZWZhdWx0IHJlc3BvbnNlIGhhbmRsZXIKICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YoZXZlbnRPckhhc2gpID09PSAnZnVuY3Rpb24nKSB7CiAgICBlbWl0dGVyLm9uKCdyZXNwb25zZScsIGV2ZW50T3JIYXNoKTsKICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mKGV2ZW50T3JIYXNoKSA9PT0gJ29iamVjdCcpIHsKICAgIGZvciAodmFyIGtleSBpbiBldmVudE9ySGFzaCkgewogICAgICBpZiAoZXZlbnRPckhhc2guaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIGVtaXR0ZXIub24oa2V5LCBldmVudE9ySGFzaFtrZXldKTsKICAgICAgfQogICAgfQogIH0gZWxzZSB7CiAgICBlbWl0dGVyLm9uKGV2ZW50T3JIYXNoLCBsaXN0ZW5lcik7CiAgfQogIHJldHVybiB0aGlzOwp9OwoKLy8gQWRkIGluIHRoZSBoZWFkZXIgbWV0aG9kcy4gQWdhaW4sIHRoZXNlIGVuc3VyZSB3ZSBkb24ndCBnZXQgdGhlIHNhbWUgaGVhZGVyCi8vIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IGNhc2UgY29udmVudGlvbnMuCkhlYWRlck1peGlucy5nZXR0ZXJzQW5kU2V0dGVycyhSZXF1ZXN0KTsKCi8vIGBwcm9jZXNzT3B0aW9uc2AgaXMgY2FsbGVkIGZyb20gdGhlIGNvbnN0cnVjdG9yIHRvIGhhbmRsZSBhbGwgdGhlIHdvcmsKLy8gYXNzb2NpYXRlZCB3aXRoIG1ha2luZyBzdXJlIHdlIGRvIG91ciBiZXN0IHRvIGVuc3VyZSB3ZSBoYXZlIGEgdmFsaWQgcmVxdWVzdC4KCnZhciBwcm9jZXNzT3B0aW9ucyA9IGZ1bmN0aW9uKHJlcXVlc3Qsb3B0aW9ucykgewoKICByZXF1ZXN0LmxvZy5kZWJ1ZygiUHJvY2Vzc2luZyByZXF1ZXN0IG9wdGlvbnMgLi4iKTsKCiAgLy8gV2UnbGwgdXNlIGByZXF1ZXN0LmVtaXR0ZXJgIHRvIG1hbmFnZSB0aGUgYG9uYCBldmVudCBoYW5kbGVycy4KICByZXF1ZXN0LmVtaXR0ZXIgPSAobmV3IEVtaXR0ZXIpOwoKICByZXF1ZXN0LmFnZW50ID0gb3B0aW9ucy5hZ2VudDsKCiAgLy8gU2V0IHVwIHRoZSBoYW5kbGVycyAuLi4KICBpZiAob3B0aW9ucy5vbikgewogICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMub24pIHsKICAgICAgaWYgKG9wdGlvbnMub24uaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIHJlcXVlc3QuZW1pdHRlci5vbihrZXksIG9wdGlvbnMub25ba2V5XSk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIE1ha2Ugc3VyZSB3ZSB3ZXJlIGdpdmUgYSBVUkwgb3IgYSBob3N0CiAgaWYgKCFvcHRpb25zLnVybCAmJiAhb3B0aW9ucy5ob3N0KSB7CiAgICByZXF1ZXN0LmVtaXR0ZXIuZW1pdCgicmVxdWVzdF9lcnJvciIsCiAgICAgICAgbmV3IEVycm9yKCJObyB1cmwgb3IgdXJsIG9wdGlvbnMgKGhvc3QsIHBvcnQsIGV0Yy4pIikpOwogICAgcmV0dXJuOwogIH0KCiAgLy8gQWxsb3cgZm9yIHRoZSBbdXNlIG9mIGEgcHJveHldKGh0dHA6Ly93d3cuam1hcnNoYWxsLmNvbS9lYXN5L2h0dHAvI3Byb3hpZXMpLgoKICBpZiAob3B0aW9ucy51cmwpIHsKICAgIGlmIChvcHRpb25zLnByb3h5KSB7CiAgICAgIHJlcXVlc3QudXJsID0gb3B0aW9ucy5wcm94eTsKICAgICAgcmVxdWVzdC5wYXRoID0gb3B0aW9ucy51cmw7CiAgICB9IGVsc2UgewogICAgICByZXF1ZXN0LnVybCA9IG9wdGlvbnMudXJsOwogICAgfQogIH0KCiAgLy8gU2V0IHRoZSByZW1haW5pbmcgb3B0aW9ucy4KICByZXF1ZXN0LnF1ZXJ5ID0gb3B0aW9ucy5xdWVyeXx8b3B0aW9ucy5wYXJhbWV0ZXJzfHxyZXF1ZXN0LnF1ZXJ5IDsKICByZXF1ZXN0Lm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kOwogIHJlcXVlc3Quc2V0SGVhZGVyKCJ1c2VyLWFnZW50IixvcHRpb25zLmFnZW50fHwiU2hyZWQiKTsKICByZXF1ZXN0LnNldEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTsKCiAgaWYgKHJlcXVlc3QuY29va2llSmFyKSB7CiAgICB2YXIgY29va2llcyA9IHJlcXVlc3QuY29va2llSmFyLmdldENvb2tpZXMoIENvb2tpZUFjY2Vzc0luZm8oIHJlcXVlc3QuaG9zdCwgcmVxdWVzdC5wYXRoICkgKTsKICAgIGlmIChjb29raWVzLmxlbmd0aCkgewogICAgICB2YXIgY29va2llU3RyaW5nID0gcmVxdWVzdC5nZXRIZWFkZXIoJ2Nvb2tpZScpfHwnJzsKICAgICAgZm9yICh2YXIgY29va2llSW5kZXggPSAwOyBjb29raWVJbmRleCA8IGNvb2tpZXMubGVuZ3RoOyArK2Nvb2tpZUluZGV4KSB7CiAgICAgICAgICBpZiAoIGNvb2tpZVN0cmluZy5sZW5ndGggJiYgY29va2llU3RyaW5nWyBjb29raWVTdHJpbmcubGVuZ3RoIC0gMSBdICE9ICc7JyApCiAgICAgICAgICB7CiAgICAgICAgICAgICAgY29va2llU3RyaW5nICs9ICc7JzsKICAgICAgICAgIH0KICAgICAgICAgIGNvb2tpZVN0cmluZyArPSBjb29raWVzWyBjb29raWVJbmRleCBdLm5hbWUgKyAnPScgKyBjb29raWVzWyBjb29raWVJbmRleCBdLnZhbHVlICsgJzsnOwogICAgICB9CiAgICAgIHJlcXVlc3Quc2V0SGVhZGVyKCJjb29raWUiLCBjb29raWVTdHJpbmcpOwogICAgfQogIH0KICAKICAvLyBUaGUgY29udGVudCBlbnRpdHkgY2FuIGJlIHNldCBlaXRoZXIgdXNpbmcgdGhlIGBib2R5YCBvciBgY29udGVudGAgYXR0cmlidXRlcy4KICBpZiAob3B0aW9ucy5ib2R5fHxvcHRpb25zLmNvbnRlbnQpIHsKICAgIHJlcXVlc3QuY29udGVudCA9IG9wdGlvbnMuYm9keXx8b3B0aW9ucy5jb250ZW50OwogIH0KICByZXF1ZXN0LnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7Cgp9OwoKLy8gYGNyZWF0ZVJlcXVlc3RgIGlzIGFsc28gY2FsbGVkIGJ5IHRoZSBjb25zdHJ1Y3RvciwgYWZ0ZXIgYHByb2Nlc3NPcHRpb25zYC4KLy8gVGhpcyBhY3R1YWxseSBtYWtlcyB0aGUgcmVxdWVzdCBhbmQgcHJvY2Vzc2VzIHRoZSByZXNwb25zZSwgc28gYGNyZWF0ZVJlcXVlc3RgCi8vIGlzIGEgYml0IG9mIGEgbWlzbm9tZXIuCgp2YXIgY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uKHJlcXVlc3QpIHsKICB2YXIgdGltZW91dCA7CgogIHJlcXVlc3QubG9nLmRlYnVnKCJDcmVhdGluZyByZXF1ZXN0IC4uIik7CiAgcmVxdWVzdC5sb2cuZGVidWcocmVxdWVzdCk7CgogIHZhciByZXFQYXJhbXMgPSB7CiAgICBob3N0OiByZXF1ZXN0Lmhvc3QsCiAgICBwb3J0OiByZXF1ZXN0LnBvcnQsCiAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLAogICAgcGF0aDogcmVxdWVzdC5wYXRoICsgKHJlcXVlc3QucXVlcnkgPyAnPycrcmVxdWVzdC5xdWVyeSA6ICIiKSwKICAgIGhlYWRlcnM6IHJlcXVlc3QuZ2V0SGVhZGVycygpLAogICAgLy8gTm9kZSdzIEhUVFAvUyBtb2R1bGVzIHdpbGwgaWdub3JlIHRoaXMsIGJ1dCB3ZSBhcmUgdXNpbmcgdGhlCiAgICAvLyBicm93c2VyaWZ5LWh0dHAgbW9kdWxlIGluIHRoZSBicm93c2VyIGZvciBib3RoIEhUVFAgYW5kIEhUVFBTLCBhbmQgdGhpcwogICAgLy8gaXMgaG93IHlvdSBkaWZmZXJlbnRpYXRlIHRoZSB0d28uCiAgICBzY2hlbWU6IHJlcXVlc3Quc2NoZW1lLAogICAgLy8gVXNlIGEgcHJvdmlkZWQgYWdlbnQuICAnVW5kZWZpbmVkJyBpcyB0aGUgZGVmYXVsdCwgd2hpY2ggdXNlcyBhIGdsb2JhbAogICAgLy8gYWdlbnQuCiAgICBhZ2VudDogcmVxdWVzdC5hZ2VudAogIH07CgogIGlmIChyZXF1ZXN0LmxvZ0N1cmwpIHsKICAgIGxvZ0N1cmwocmVxdWVzdCk7CiAgfQoKICB2YXIgaHR0cCA9IHJlcXVlc3Quc2NoZW1lID09ICJodHRwIiA/IEhUVFAgOiBIVFRQUzsKCiAgLy8gU2V0IHVwIHRoZSByZWFsIHJlcXVlc3QgdXNpbmcgdGhlIHNlbGVjdGVkIGxpYnJhcnkuIFRoZSByZXF1ZXN0IHdvbid0IGJlCiAgLy8gc2VudCB1bnRpbCB3ZSBjYWxsIGAuZW5kKClgLgogIHJlcXVlc3QuX3JhdyA9IGh0dHAucmVxdWVzdChyZXFQYXJhbXMsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICByZXF1ZXN0LmxvZy5kZWJ1ZygiUmVjZWl2ZWQgcmVzcG9uc2UgLi4iKTsKCiAgICAvLyBXZSBoYXZlbid0IHRpbWVkIG91dCBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlLCBzbyBtYWtlIHN1cmUgd2UgY2xlYXIgdGhlCiAgICAvLyB0aW1lb3V0IHNvIGl0IGRvZXNuJ3QgZmlyZSB3aGlsZSB3ZSdyZSBwcm9jZXNzaW5nIHRoZSByZXNwb25zZS4KICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKCiAgICAvLyBDb25zdHJ1Y3QgYSBTaHJlZCBgUmVzcG9uc2VgIG9iamVjdCBmcm9tIHRoZSByZXNwb25zZS4gVGhpcyB3aWxsIHN0cmVhbQogICAgLy8gdGhlIHJlc3BvbnNlLCB0aHVzIHRoZSBuZWVkIGZvciB0aGUgY2FsbGJhY2suIFdlIGNhbiBhY2Nlc3MgdGhlIHJlc3BvbnNlCiAgICAvLyBlbnRpdHkgc2FmZWx5IG9uY2Ugd2UncmUgaW4gdGhlIGNhbGxiYWNrLgogICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzcG9uc2UsIHJlcXVlc3QsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgogICAgICAvLyBTZXQgdXAgc29tZSBldmVudCBtYWdpYy4gVGhlIHByZWNlZGVuY2UgaXMgZ2l2ZW4gZmlyc3QgdG8KICAgICAgLy8gc3RhdHVzLXNwZWNpZmljIGhhbmRsZXJzLCB0aGVuIHRvIHJlc3BvbnNlcyBmb3IgYSBnaXZlbiBldmVudCwgYW5kIHRoZW4KICAgICAgLy8gZmluYWxseSB0byB0aGUgbW9yZSBnZW5lcmFsIGByZXNwb25zZWAgaGFuZGxlci4gSW4gdGhlIGxhc3QgY2FzZSwgd2UKICAgICAgLy8gbmVlZCB0byBmaXJzdCBtYWtlIHN1cmUgd2UncmUgbm90IGRlYWxpbmcgd2l0aCBhIGEgcmVkaXJlY3QuCiAgICAgIHZhciBlbWl0ID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICB2YXIgZW1pdHRlciA9IHJlcXVlc3QuZW1pdHRlcjsKICAgICAgICB2YXIgdGV4dFN0YXR1cyA9IFNUQVRVU19DT0RFU1tyZXNwb25zZS5zdGF0dXNdID8gU1RBVFVTX0NPREVTW3Jlc3BvbnNlLnN0YXR1c10udG9Mb3dlckNhc2UoKSA6IG51bGw7CiAgICAgICAgaWYgKGVtaXR0ZXIubGlzdGVuZXJzKHJlc3BvbnNlLnN0YXR1cykubGVuZ3RoID4gMCB8fCBlbWl0dGVyLmxpc3RlbmVycyh0ZXh0U3RhdHVzKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBlbWl0dGVyLmVtaXQocmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZSk7CiAgICAgICAgICBlbWl0dGVyLmVtaXQodGV4dFN0YXR1cywgcmVzcG9uc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZW1pdHRlci5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aD4wKSB7CiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdChldmVudCwgcmVzcG9uc2UpOwogICAgICAgICAgfSBlbHNlIGlmICghcmVzcG9uc2UuaXNSZWRpcmVjdCkgewogICAgICAgICAgICBlbWl0dGVyLmVtaXQoInJlc3BvbnNlIiwgcmVzcG9uc2UpOwogICAgICAgICAgICAvL2NvbnNvbGUud2FybigiUmVxdWVzdCBoYXMgbm8gZXZlbnQgbGlzdGVuZXIgZm9yIHN0YXR1cyBjb2RlICIgKyByZXNwb25zZS5zdGF0dXMpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIE5leHQsIGNoZWNrIGZvciBhIHJlZGlyZWN0LiBXZSBzaW1wbHkgcmVwZWF0IHRoZSByZXF1ZXN0IHdpdGggdGhlIFVSTAogICAgICAvLyBnaXZlbiBpbiB0aGUgYExvY2F0aW9uYCBoZWFkZXIuIFdlIGZpcmUgYSBgcmVkaXJlY3RgIGV2ZW50LgogICAgICBpZiAocmVzcG9uc2UuaXNSZWRpcmVjdCkgewogICAgICAgIHJlcXVlc3QubG9nLmRlYnVnKCJSZWRpcmVjdGluZyB0byAiCiAgICAgICAgICAgICsgcmVzcG9uc2UuZ2V0SGVhZGVyKCJMb2NhdGlvbiIpKTsKICAgICAgICByZXF1ZXN0LnVybCA9IHJlc3BvbnNlLmdldEhlYWRlcigiTG9jYXRpb24iKTsKICAgICAgICBlbWl0KCJyZWRpcmVjdCIpOwogICAgICAgIGNyZWF0ZVJlcXVlc3QocmVxdWVzdCk7CgogICAgICAvLyBPa2F5LCBpdCdzIG5vdCBhIHJlZGlyZWN0LiBJcyBpdCBhbiBlcnJvciBvZiBzb21lIGtpbmQ/CiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaXNFcnJvcikgewogICAgICAgIGVtaXQoImVycm9yIik7CiAgICAgIH0gZWxzZSB7CiAgICAgIC8vIEl0IGxvb2tzIGxpa2Ugd2UncmUgZ29vZCBzaGFwZS4gVHJpZ2dlciB0aGUgYHN1Y2Nlc3NgIGV2ZW50LgogICAgICAgIGVtaXQoInN1Y2Nlc3MiKTsKICAgICAgfQogICAgfSk7CiAgfSk7CgogIC8vIFdlJ3JlIHN0aWxsIHNldHRpbmcgdXAgdGhlIHJlcXVlc3QuIE5leHQsIHdlJ3JlIGdvaW5nIHRvIGhhbmRsZSBlcnJvciBjYXNlcwogIC8vIHdoZXJlIHdlIGhhdmUgbm8gcmVzcG9uc2UuIFdlIGRvbid0IGVtaXQgYW4gZXJyb3IgZXZlbnQgYmVjYXVzZSB0aGF0IGV2ZW50CiAgLy8gdGFrZXMgYSByZXNwb25zZS4gV2UgZG9uJ3QgcmVzcG9uc2UgaGFuZGxlcnMgdG8gaGF2ZSB0byBjaGVjayBmb3IgYSBudWxsCiAgLy8gdmFsdWUuIEhvd2V2ZXIsIHdlIFtzaG91bGQgaW50cm9kdWNlIGEgZGlmZmVyZW50IGV2ZW50CiAgLy8gdHlwZV0oaHR0cHM6Ly9naXRodWIuY29tL3NwaXJlLWlvL3NocmVkL2lzc3Vlcy8zKSBmb3IgdGhpcyB0eXBlIG9mIGVycm9yLgogIHJlcXVlc3QuX3Jhdy5vbigiZXJyb3IiLCBmdW5jdGlvbihlcnJvcikgewogICAgcmVxdWVzdC5lbWl0dGVyLmVtaXQoInJlcXVlc3RfZXJyb3IiLCBlcnJvcik7CiAgfSk7CgogIHJlcXVlc3QuX3Jhdy5vbigic29ja2V0IiwgZnVuY3Rpb24oc29ja2V0KSB7CiAgICByZXF1ZXN0LmVtaXR0ZXIuZW1pdCgic29ja2V0Iiwgc29ja2V0KTsKICB9KTsKCiAgLy8gVENQIHRpbWVvdXRzIHNob3VsZCBhbHNvIHRyaWdnZXIgdGhlICJyZXNwb25zZV9lcnJvciIgZXZlbnQuCiAgcmVxdWVzdC5fcmF3Lm9uKCdzb2NrZXQnLCBmdW5jdGlvbiAoKSB7CiAgICByZXF1ZXN0Ll9yYXcuc29ja2V0Lm9uKCd0aW1lb3V0JywgZnVuY3Rpb24gKCkgewogICAgICAvLyBUaGlzIHNob3VsZCB0cmlnZ2VyIHRoZSAiZXJyb3IiIGV2ZW50IG9uIHRoZSByYXcgcmVxdWVzdCwgd2hpY2ggd2lsbAogICAgICAvLyB0cmlnZ2VyIHRoZSAicmVzcG9uc2VfZXJyb3IiIG9uIHRoZSBzaHJlZCByZXF1ZXN0LgogICAgICByZXF1ZXN0Ll9yYXcuYWJvcnQoKTsKICAgIH0pOwogIH0pOwoKCiAgLy8gV2UncmUgYWxtb3N0IHRoZXJlLiBOZXh0LCB3ZSBuZWVkIHRvIHdyaXRlIHRoZSByZXF1ZXN0IGVudGl0eSB0byB0aGUKICAvLyB1bmRlcmx5aW5nIHJlcXVlc3Qgb2JqZWN0LgogIGlmIChyZXF1ZXN0LmNvbnRlbnQpIHsKICAgIHJlcXVlc3QubG9nLmRlYnVnKCJTdHJlYW1pbmcgYm9keTogJyIgKwogICAgICAgIHJlcXVlc3QuY29udGVudC5kYXRhLnNsaWNlKDAsNTkpICsgIicgLi4uICIpOwogICAgcmVxdWVzdC5fcmF3LndyaXRlKHJlcXVlc3QuY29udGVudC5kYXRhKTsKICB9CgogIC8vIEZpbmFsbHksIHdlIG5lZWQgdG8gc2V0IHVwIHRoZSB0aW1lb3V0LiBXZSBkbyB0aGlzIGxhc3Qgc28gdGhhdCB3ZSBkb24ndAogIC8vIHN0YXJ0IHRoZSBjbG9jayB0aWNraW5nIHVudGlsIHRoZSBsYXN0IHBvc3NpYmxlIG1vbWVudC4KICBpZiAocmVxdWVzdC50aW1lb3V0KSB7CiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgcmVxdWVzdC5sb2cuZGVidWcoIlRpbWVvdXQgZmlyZWQsIGFib3J0aW5nIHJlcXVlc3QgLi4uIik7CiAgICAgIHJlcXVlc3QuX3Jhdy5hYm9ydCgpOwogICAgICByZXF1ZXN0LmVtaXR0ZXIuZW1pdCgidGltZW91dCIsIHJlcXVlc3QpOwogICAgfSxyZXF1ZXN0LnRpbWVvdXQpOwogIH0KCiAgLy8gVGhlIGAuZW5kKClgIG1ldGhvZCB3aWxsIGNhdXNlIHRoZSByZXF1ZXN0IHRvIGZpcmUuIFRlY2huaWNhbGx5LCBpdCBtaWdodAogIC8vIGhhdmUgYWxyZWFkeSBzZW50IHRoZSBoZWFkZXJzIGFuZCBib2R5LgogIHJlcXVlc3QubG9nLmRlYnVnKCJTZW5kaW5nIHJlcXVlc3QgLi4uIik7CiAgcmVxdWVzdC5fcmF3LmVuZCgpOwp9OwoKLy8gTG9ncyB0aGUgY3VybCBjb21tYW5kIGZvciB0aGUgcmVxdWVzdC4KdmFyIGxvZ0N1cmwgPSBmdW5jdGlvbiAocmVxKSB7CiAgdmFyIGhlYWRlcnMgPSByZXEuZ2V0SGVhZGVycygpOwogIHZhciBoZWFkZXJTdHJpbmcgPSAiIjsKCiAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHsKICAgIGhlYWRlclN0cmluZyArPSAnLUggIicgKyBrZXkgKyAiOiAiICsgaGVhZGVyc1trZXldICsgJyIgJzsKICB9CgogIHZhciBib2R5U3RyaW5nID0gIiIKCiAgaWYgKHJlcS5jb250ZW50KSB7CiAgICBib2R5U3RyaW5nICs9ICItZCAnIiArIHJlcS5jb250ZW50LmJvZHkgKyAiJyAiOwogIH0KCiAgdmFyIHF1ZXJ5ID0gcmVxLnF1ZXJ5ID8gJz8nICsgcmVxLnF1ZXJ5IDogIiI7CgogIGNvbnNvbGUubG9nKCJjdXJsICIgKwogICAgIi1YICIgKyByZXEubWV0aG9kLnRvVXBwZXJDYXNlKCkgKyAiICIgKwogICAgcmVxLnNjaGVtZSArICI6Ly8iICsgcmVxLmhvc3QgKyAiOiIgKyByZXEucG9ydCArIHJlcS5wYXRoICsgcXVlcnkgKyAiICIgKwogICAgaGVhZGVyU3RyaW5nICsKICAgIGJvZHlTdHJpbmcKICApOwp9OwoKCm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdDsKCn0pOwoKcmVxdWlyZS5kZWZpbmUoImh0dHAiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIC8vIHRvZG8KCn0pOwoKcmVxdWlyZS5kZWZpbmUoImh0dHBzIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICAvLyB0b2RvCgp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvc2hyZWQvcGFyc2VVcmkuanMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIC8vIHBhcnNlVXJpIDEuMi4yCi8vIChjKSBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT4KLy8gTUlUIExpY2Vuc2UKCmZ1bmN0aW9uIHBhcnNlVXJpIChzdHIpIHsKICB2YXIgbyAgID0gcGFyc2VVcmkub3B0aW9ucywKICAgIG0gICA9IG8ucGFyc2VyW28uc3RyaWN0TW9kZSA/ICJzdHJpY3QiIDogImxvb3NlIl0uZXhlYyhzdHIpLAogICAgdXJpID0ge30sCiAgICBpICAgPSAxNDsKCiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgIiI7CgogIHVyaVtvLnEubmFtZV0gPSB7fTsKICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7CiAgICBpZiAoJDEpIHVyaVtvLnEubmFtZV1bJDFdID0gJDI7CiAgfSk7CgogIHJldHVybiB1cmk7Cn07CgpwYXJzZVVyaS5vcHRpb25zID0gewogIHN0cmljdE1vZGU6IGZhbHNlLAogIGtleTogWyJzb3VyY2UiLCJwcm90b2NvbCIsImF1dGhvcml0eSIsInVzZXJJbmZvIiwidXNlciIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJyZWxhdGl2ZSIsInBhdGgiLCJkaXJlY3RvcnkiLCJmaWxlIiwicXVlcnkiLCJhbmNob3IiXSwKICBxOiAgIHsKICAgIG5hbWU6ICAgInF1ZXJ5S2V5IiwKICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nCiAgfSwKICBwYXJzZXI6IHsKICAgIHN0cmljdDogL14oPzooW146XC8/I10rKTopPyg/OlwvXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKT8oKCgoPzpbXj8jXC9dKlwvKSopKFtePyNdKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8sCiAgICBsb29zZTogIC9eKD86KD8hW146QF0rOlteOkBcL10qQCkoW146XC8/Iy5dKyk6KT8oPzpcL1wvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvCiAgfQp9OwoKbW9kdWxlLmV4cG9ydHMgPSBwYXJzZVVyaTsKCn0pOwoKcmVxdWlyZS5kZWZpbmUoImV2ZW50cyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgaWYgKCFwcm9jZXNzLkV2ZW50RW1pdHRlcikgcHJvY2Vzcy5FdmVudEVtaXR0ZXIgPSBmdW5jdGlvbiAoKSB7fTsKCnZhciBFdmVudEVtaXR0ZXIgPSBleHBvcnRzLkV2ZW50RW1pdHRlciA9IHByb2Nlc3MuRXZlbnRFbWl0dGVyOwp2YXIgaXNBcnJheSA9IHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nCiAgICA/IEFycmF5LmlzQXJyYXkKICAgIDogZnVuY3Rpb24gKHhzKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdC50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJwogICAgfQo7CgovLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuCi8vIDEwIGxpc3RlbmVycyBhcmUgYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaAovLyBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy4KLy8KLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzCi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLgp2YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwOwpFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHsKICBpZiAoIXRoaXMuX2V2ZW50cykgdGhpcy5fZXZlbnRzID0ge307CiAgdGhpcy5fZXZlbnRzLm1heExpc3RlbmVycyA9IG47Cn07CgoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkgewogIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy4KICBpZiAodHlwZSA9PT0gJ2Vycm9yJykgewogICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50cy5lcnJvciB8fAogICAgICAgIChpc0FycmF5KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKQogICAgewogICAgICBpZiAoYXJndW1lbnRzWzFdIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgICB0aHJvdyBhcmd1bWVudHNbMV07IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmNhdWdodCwgdW5zcGVjaWZpZWQgJ2Vycm9yJyBldmVudC4iKTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICBpZiAoIXRoaXMuX2V2ZW50cykgcmV0dXJuIGZhbHNlOwogIHZhciBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdOwogIGlmICghaGFuZGxlcikgcmV0dXJuIGZhbHNlOwoKICBpZiAodHlwZW9mIGhhbmRsZXIgPT0gJ2Z1bmN0aW9uJykgewogICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgIC8vIGZhc3QgY2FzZXMKICAgICAgY2FzZSAxOgogICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAyOgogICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDM6CiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgLy8gc2xvd2VyCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKCiAgfSBlbHNlIGlmIChpc0FycmF5KGhhbmRsZXIpKSB7CiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CgogICAgdmFyIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKCiAgfSBlbHNlIHsKICAgIHJldHVybiBmYWxzZTsKICB9Cn07CgovLyBFdmVudEVtaXR0ZXIgaXMgZGVmaW5lZCBpbiBzcmMvbm9kZV9ldmVudHMuY2MKLy8gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0KCkgaXMgYWxzbyBkZWZpbmVkIHRoZXJlLgpFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHsKICBpZiAoJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIGxpc3RlbmVyKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZExpc3RlbmVyIG9ubHkgdGFrZXMgaW5zdGFuY2VzIG9mIEZ1bmN0aW9uJyk7CiAgfQoKICBpZiAoIXRoaXMuX2V2ZW50cykgdGhpcy5fZXZlbnRzID0ge307CgogIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT0gIm5ld0xpc3RlbmVycyIhIEJlZm9yZQogIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0ICJuZXdMaXN0ZW5lcnMiLgogIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7CgogIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7CiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC4KICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyOwogIH0gZWxzZSBpZiAoaXNBcnJheSh0aGlzLl9ldmVudHNbdHlwZV0pKSB7CgogICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWsKICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkgewogICAgICB2YXIgbTsKICAgICAgaWYgKHRoaXMuX2V2ZW50cy5tYXhMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkgewogICAgICAgIG0gPSB0aGlzLl9ldmVudHMubWF4TGlzdGVuZXJzOwogICAgICB9IGVsc2UgewogICAgICAgIG0gPSBkZWZhdWx0TWF4TGlzdGVuZXJzOwogICAgICB9CgogICAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkgewogICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgKwogICAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArCiAgICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJywKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpOwogICAgICAgIGNvbnNvbGUudHJhY2UoKTsKICAgICAgfQogICAgfQoKICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC4KICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICB9IGVsc2UgewogICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuCiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07CiAgfQoKICByZXR1cm4gdGhpczsKfTsKCkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyOwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHsKICB2YXIgc2VsZiA9IHRoaXM7CiAgc2VsZi5vbih0eXBlLCBmdW5jdGlvbiBnKCkgewogICAgc2VsZi5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTsKICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfSk7CgogIHJldHVybiB0aGlzOwp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7CiAgaWYgKCdmdW5jdGlvbicgIT09IHR5cGVvZiBsaXN0ZW5lcikgewogICAgdGhyb3cgbmV3IEVycm9yKCdyZW1vdmVMaXN0ZW5lciBvbmx5IHRha2VzIGluc3RhbmNlcyBvZiBGdW5jdGlvbicpOwogIH0KCiAgLy8gZG9lcyBub3QgdXNlIGxpc3RlbmVycygpLCBzbyBubyBzaWRlIGVmZmVjdCBvZiBjcmVhdGluZyBfZXZlbnRzW3R5cGVdCiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSkgcmV0dXJuIHRoaXM7CgogIHZhciBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdOwoKICBpZiAoaXNBcnJheShsaXN0KSkgewogICAgdmFyIGkgPSBsaXN0LmluZGV4T2YobGlzdGVuZXIpOwogICAgaWYgKGkgPCAwKSByZXR1cm4gdGhpczsKICAgIGxpc3Quc3BsaWNlKGksIDEpOwogICAgaWYgKGxpc3QubGVuZ3RoID09IDApCiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07CiAgfSBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0gPT09IGxpc3RlbmVyKSB7CiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdOwogIH0KCiAgcmV0dXJuIHRoaXM7Cn07CgpFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHsKICAvLyBkb2VzIG5vdCB1c2UgbGlzdGVuZXJzKCksIHNvIG5vIHNpZGUgZWZmZWN0IG9mIGNyZWF0aW5nIF9ldmVudHNbdHlwZV0KICBpZiAodHlwZSAmJiB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzW3R5cGVdKSB0aGlzLl9ldmVudHNbdHlwZV0gPSBudWxsOwogIHJldHVybiB0aGlzOwp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7CiAgaWYgKCF0aGlzLl9ldmVudHMpIHRoaXMuX2V2ZW50cyA9IHt9OwogIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB0aGlzLl9ldmVudHNbdHlwZV0gPSBbXTsKICBpZiAoIWlzQXJyYXkodGhpcy5fZXZlbnRzW3R5cGVdKSkgewogICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07CiAgfQogIHJldHVybiB0aGlzLl9ldmVudHNbdHlwZV07Cn07Cgp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvbm9kZV9tb2R1bGVzL3NwcmludGYvcGFja2FnZS5qc29uIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IHsibWFpbiI6Ii4vbGliL3NwcmludGYifQp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvbm9kZV9tb2R1bGVzL3NwcmludGYvbGliL3NwcmludGYuanMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIC8qKgpzcHJpbnRmKCkgZm9yIEphdmFTY3JpcHQgMC43LWJldGExCmh0dHA6Ly93d3cuZGl2ZWludG9qYXZhc2NyaXB0LmNvbS9wcm9qZWN0cy9qYXZhc2NyaXB0LXNwcmludGYKCkNvcHlyaWdodCAoYykgQWxleGFuZHJ1IE1hcmFzdGVhbnUgPGFsZXhhaG9saWMgW2F0KSBnbWFpbCAoZG90XSBjb20+CkFsbCByaWdodHMgcmVzZXJ2ZWQuCgpSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6CiAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0CiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4KICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQKICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZQogICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgogICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIHNwcmludGYoKSBmb3IgSmF2YVNjcmlwdCBub3IgdGhlCiAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzCiAgICAgIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLgoKVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyAiQVMgSVMiIEFORApBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRApXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFCkRJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFsZXhhbmRydSBNYXJhc3RlYW51IEJFIExJQUJMRSBGT1IgQU5ZCkRJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTCihJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsKTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5ECk9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUCihJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTClNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgoKCkNoYW5nZWxvZzoKMjAxMC4xMS4wNyAtIDAuNy1iZXRhMS1ub2RlCiAgLSBjb252ZXJ0ZWQgaXQgdG8gYSBub2RlLmpzIGNvbXBhdGlibGUgbW9kdWxlCgoyMDEwLjA5LjA2IC0gMC43LWJldGExCiAgLSBmZWF0dXJlczogdnNwcmludGYsIHN1cHBvcnQgZm9yIG5hbWVkIHBsYWNlaG9sZGVycwogIC0gZW5oYW5jZW1lbnRzOiBmb3JtYXQgY2FjaGUsIHJlZHVjZWQgZ2xvYmFsIG5hbWVzcGFjZSBwb2xsdXRpb24KCjIwMTAuMDUuMjIgLSAwLjY6CiAtIHJldmVydGVkIHRvIDAuNCBhbmQgZml4ZWQgdGhlIGJ1ZyByZWdhcmRpbmcgdGhlIHNpZ24gb2YgdGhlIG51bWJlciAwCiBOb3RlOgogVGhhbmtzIHRvIFJhcGhhZWwgUGlndWxsYSA8cmFwaCAoYXRdIG4zcmQgW2RvdCkgb3JnPiAoaHR0cDovL3d3dy5uM3JkLm9yZy8pCiB3aG8gd2FybmVkIG1lIGFib3V0IGEgYnVnIGluIDAuNSwgSSBkaXNjb3ZlcmVkIHRoYXQgdGhlIGxhc3QgdXBkYXRlIHdhcwogYSByZWdyZXNzLiBJIGFwcG9sb2dpemUgZm9yIHRoYXQuCgoyMDEwLjA1LjA5IC0gMC41OgogLSBidWcgZml4OiAwIGlzIG5vdyBwcmVjZWVkZWQgd2l0aCBhICsgc2lnbgogLSBidWcgZml4OiB0aGUgc2lnbiB3YXMgbm90IGF0IHRoZSByaWdodCBwb3NpdGlvbiBvbiBwYWRkZWQgcmVzdWx0cyAoS2FtYWwgQWJkYWxpKQogLSBzd2l0Y2hlZCBmcm9tIEdQTCB0byBCU0QgbGljZW5zZQoKMjAwNy4xMC4yMSAtIDAuNDoKIC0gdW5pdCB0ZXN0IGFuZCBwYXRjaCAoRGF2aWQgQmFpcmQpCgoyMDA3LjA5LjE3IC0gMC4zOgogLSBidWcgZml4OiBubyBsb25nZXIgdGhyb3dzIGV4Y2VwdGlvbiBvbiBlbXB0eSBwYXJhbWVudGVycyAoSGFucyBQdWZhbCkKCjIwMDcuMDkuMTEgLSAwLjI6CiAtIGZlYXR1cmU6IGFkZGVkIGFyZ3VtZW50IHN3YXBwaW5nCgoyMDA3LjA0LjAzIC0gMC4xOgogLSBpbml0aWFsIHJlbGVhc2UKKiovCgp2YXIgc3ByaW50ZiA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBnZXRfdHlwZSh2YXJpYWJsZSkgewogICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YXJpYWJsZSkuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7CiAgfQogIGZ1bmN0aW9uIHN0cl9yZXBlYXQoaW5wdXQsIG11bHRpcGxpZXIpIHsKICAgIGZvciAodmFyIG91dHB1dCA9IFtdOyBtdWx0aXBsaWVyID4gMDsgb3V0cHV0Wy0tbXVsdGlwbGllcl0gPSBpbnB1dCkgey8qIGRvIG5vdGhpbmcgKi99CiAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpOwogIH0KCiAgdmFyIHN0cl9mb3JtYXQgPSBmdW5jdGlvbigpIHsKICAgIGlmICghc3RyX2Zvcm1hdC5jYWNoZS5oYXNPd25Qcm9wZXJ0eShhcmd1bWVudHNbMF0pKSB7CiAgICAgIHN0cl9mb3JtYXQuY2FjaGVbYXJndW1lbnRzWzBdXSA9IHN0cl9mb3JtYXQucGFyc2UoYXJndW1lbnRzWzBdKTsKICAgIH0KICAgIHJldHVybiBzdHJfZm9ybWF0LmZvcm1hdC5jYWxsKG51bGwsIHN0cl9mb3JtYXQuY2FjaGVbYXJndW1lbnRzWzBdXSwgYXJndW1lbnRzKTsKICB9OwoKICBzdHJfZm9ybWF0LmZvcm1hdCA9IGZ1bmN0aW9uKHBhcnNlX3RyZWUsIGFyZ3YpIHsKICAgIHZhciBjdXJzb3IgPSAxLCB0cmVlX2xlbmd0aCA9IHBhcnNlX3RyZWUubGVuZ3RoLCBub2RlX3R5cGUgPSAnJywgYXJnLCBvdXRwdXQgPSBbXSwgaSwgaywgbWF0Y2gsIHBhZCwgcGFkX2NoYXJhY3RlciwgcGFkX2xlbmd0aDsKICAgIGZvciAoaSA9IDA7IGkgPCB0cmVlX2xlbmd0aDsgaSsrKSB7CiAgICAgIG5vZGVfdHlwZSA9IGdldF90eXBlKHBhcnNlX3RyZWVbaV0pOwogICAgICBpZiAobm9kZV90eXBlID09PSAnc3RyaW5nJykgewogICAgICAgIG91dHB1dC5wdXNoKHBhcnNlX3RyZWVbaV0pOwogICAgICB9CiAgICAgIGVsc2UgaWYgKG5vZGVfdHlwZSA9PT0gJ2FycmF5JykgewogICAgICAgIG1hdGNoID0gcGFyc2VfdHJlZVtpXTsgLy8gY29udmVuaWVuY2UgcHVycG9zZXMgb25seQogICAgICAgIGlmIChtYXRjaFsyXSkgeyAvLyBrZXl3b3JkIGFyZ3VtZW50CiAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcl07CiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbWF0Y2hbMl0ubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgaWYgKCFhcmcuaGFzT3duUHJvcGVydHkobWF0Y2hbMl1ba10pKSB7CiAgICAgICAgICAgICAgdGhyb3coc3ByaW50ZignW3NwcmludGZdIHByb3BlcnR5ICIlcyIgZG9lcyBub3QgZXhpc3QnLCBtYXRjaFsyXVtrXSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGFyZyA9IGFyZ1ttYXRjaFsyXVtrXV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKG1hdGNoWzFdKSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGV4cGxpY2l0KQogICAgICAgICAgYXJnID0gYXJndlttYXRjaFsxXV07CiAgICAgICAgfQogICAgICAgIGVsc2UgeyAvLyBwb3NpdGlvbmFsIGFyZ3VtZW50IChpbXBsaWNpdCkKICAgICAgICAgIGFyZyA9IGFyZ3ZbY3Vyc29yKytdOwogICAgICAgIH0KCiAgICAgICAgaWYgKC9bXnNdLy50ZXN0KG1hdGNoWzhdKSAmJiAoZ2V0X3R5cGUoYXJnKSAhPSAnbnVtYmVyJykpIHsKICAgICAgICAgIHRocm93KHNwcmludGYoJ1tzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlcycsIGdldF90eXBlKGFyZykpKTsKICAgICAgICB9CiAgICAgICAgc3dpdGNoIChtYXRjaFs4XSkgewogICAgICAgICAgY2FzZSAnYic6IGFyZyA9IGFyZy50b1N0cmluZygyKTsgYnJlYWs7CiAgICAgICAgICBjYXNlICdjJzogYXJnID0gU3RyaW5nLmZyb21DaGFyQ29kZShhcmcpOyBicmVhazsKICAgICAgICAgIGNhc2UgJ2QnOiBhcmcgPSBwYXJzZUludChhcmcsIDEwKTsgYnJlYWs7CiAgICAgICAgICBjYXNlICdlJzogYXJnID0gbWF0Y2hbN10gPyBhcmcudG9FeHBvbmVudGlhbChtYXRjaFs3XSkgOiBhcmcudG9FeHBvbmVudGlhbCgpOyBicmVhazsKICAgICAgICAgIGNhc2UgJ2YnOiBhcmcgPSBtYXRjaFs3XSA/IHBhcnNlRmxvYXQoYXJnKS50b0ZpeGVkKG1hdGNoWzddKSA6IHBhcnNlRmxvYXQoYXJnKTsgYnJlYWs7CiAgICAgICAgICBjYXNlICdvJzogYXJnID0gYXJnLnRvU3RyaW5nKDgpOyBicmVhazsKICAgICAgICAgIGNhc2UgJ3MnOiBhcmcgPSAoKGFyZyA9IFN0cmluZyhhcmcpKSAmJiBtYXRjaFs3XSA/IGFyZy5zdWJzdHJpbmcoMCwgbWF0Y2hbN10pIDogYXJnKTsgYnJlYWs7CiAgICAgICAgICBjYXNlICd1JzogYXJnID0gTWF0aC5hYnMoYXJnKTsgYnJlYWs7CiAgICAgICAgICBjYXNlICd4JzogYXJnID0gYXJnLnRvU3RyaW5nKDE2KTsgYnJlYWs7CiAgICAgICAgICBjYXNlICdYJzogYXJnID0gYXJnLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOyBicmVhazsKICAgICAgICB9CiAgICAgICAgYXJnID0gKC9bZGVmXS8udGVzdChtYXRjaFs4XSkgJiYgbWF0Y2hbM10gJiYgYXJnID49IDAgPyAnKycrIGFyZyA6IGFyZyk7CiAgICAgICAgcGFkX2NoYXJhY3RlciA9IG1hdGNoWzRdID8gbWF0Y2hbNF0gPT0gJzAnID8gJzAnIDogbWF0Y2hbNF0uY2hhckF0KDEpIDogJyAnOwogICAgICAgIHBhZF9sZW5ndGggPSBtYXRjaFs2XSAtIFN0cmluZyhhcmcpLmxlbmd0aDsKICAgICAgICBwYWQgPSBtYXRjaFs2XSA/IHN0cl9yZXBlYXQocGFkX2NoYXJhY3RlciwgcGFkX2xlbmd0aCkgOiAnJzsKICAgICAgICBvdXRwdXQucHVzaChtYXRjaFs1XSA/IGFyZyArIHBhZCA6IHBhZCArIGFyZyk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7CiAgfTsKCiAgc3RyX2Zvcm1hdC5jYWNoZSA9IHt9OwoKICBzdHJfZm9ybWF0LnBhcnNlID0gZnVuY3Rpb24oZm10KSB7CiAgICB2YXIgX2ZtdCA9IGZtdCwgbWF0Y2ggPSBbXSwgcGFyc2VfdHJlZSA9IFtdLCBhcmdfbmFtZXMgPSAwOwogICAgd2hpbGUgKF9mbXQpIHsKICAgICAgaWYgKChtYXRjaCA9IC9eW15ceDI1XSsvLmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7CiAgICAgICAgcGFyc2VfdHJlZS5wdXNoKG1hdGNoWzBdKTsKICAgICAgfQogICAgICBlbHNlIGlmICgobWF0Y2ggPSAvXlx4MjV7Mn0vLmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7CiAgICAgICAgcGFyc2VfdHJlZS5wdXNoKCclJyk7CiAgICAgIH0KICAgICAgZWxzZSBpZiAoKG1hdGNoID0gL15ceDI1KD86KFsxLTldXGQqKVwkfFwoKFteXCldKylcKSk/KFwrKT8oMHwnW14kXSk/KC0pPyhcZCspPyg/OlwuKFxkKykpPyhbYi1mb3N1eFhdKS8uZXhlYyhfZm10KSkgIT09IG51bGwpIHsKICAgICAgICBpZiAobWF0Y2hbMl0pIHsKICAgICAgICAgIGFyZ19uYW1lcyB8PSAxOwogICAgICAgICAgdmFyIGZpZWxkX2xpc3QgPSBbXSwgcmVwbGFjZW1lbnRfZmllbGQgPSBtYXRjaFsyXSwgZmllbGRfbWF0Y2ggPSBbXTsKICAgICAgICAgIGlmICgoZmllbGRfbWF0Y2ggPSAvXihbYS16X11bYS16X1xkXSopL2kuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7CiAgICAgICAgICAgIGZpZWxkX2xpc3QucHVzaChmaWVsZF9tYXRjaFsxXSk7CiAgICAgICAgICAgIHdoaWxlICgocmVwbGFjZW1lbnRfZmllbGQgPSByZXBsYWNlbWVudF9maWVsZC5zdWJzdHJpbmcoZmllbGRfbWF0Y2hbMF0ubGVuZ3RoKSkgIT09ICcnKSB7CiAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IC9eXC4oW2Etel9dW2Etel9cZF0qKS9pLmV4ZWMocmVwbGFjZW1lbnRfZmllbGQpKSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgZmllbGRfbGlzdC5wdXNoKGZpZWxkX21hdGNoWzFdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAoKGZpZWxkX21hdGNoID0gL15cWyhcZCspXF0vLmV4ZWMocmVwbGFjZW1lbnRfZmllbGQpKSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgZmllbGRfbGlzdC5wdXNoKGZpZWxkX21hdGNoWzFdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdygnW3NwcmludGZdIGh1aD8nKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICB0aHJvdygnW3NwcmludGZdIGh1aD8nKTsKICAgICAgICAgIH0KICAgICAgICAgIG1hdGNoWzJdID0gZmllbGRfbGlzdDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICBhcmdfbmFtZXMgfD0gMjsKICAgICAgICB9CiAgICAgICAgaWYgKGFyZ19uYW1lcyA9PT0gMykgewogICAgICAgICAgdGhyb3coJ1tzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWQnKTsKICAgICAgICB9CiAgICAgICAgcGFyc2VfdHJlZS5wdXNoKG1hdGNoKTsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICB0aHJvdygnW3NwcmludGZdIGh1aD8nKTsKICAgICAgfQogICAgICBfZm10ID0gX2ZtdC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTsKICAgIH0KICAgIHJldHVybiBwYXJzZV90cmVlOwogIH07CgogIHJldHVybiBzdHJfZm9ybWF0Owp9KSgpOwoKdmFyIHZzcHJpbnRmID0gZnVuY3Rpb24oZm10LCBhcmd2KSB7CiAgYXJndi51bnNoaWZ0KGZtdCk7CiAgcmV0dXJuIHNwcmludGYuYXBwbHkobnVsbCwgYXJndik7Cn07CgpleHBvcnRzLnNwcmludGYgPSBzcHJpbnRmOwpleHBvcnRzLnZzcHJpbnRmID0gdnNwcmludGY7Cn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9zaHJlZC9yZXNwb25zZS5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgLy8gVGhlIGBSZXNwb25zZSBvYmplY3RgIGVuY2Fwc3VsYXRlcyBhIE5vZGUuanMgSFRUUCByZXNwb25zZS4KCnZhciBDb250ZW50ID0gcmVxdWlyZSgiLi9jb250ZW50IikKICAsIEhlYWRlck1peGlucyA9IHJlcXVpcmUoIi4vbWl4aW5zL2hlYWRlcnMiKQogICwgQ29va2llSmFyTGliID0gcmVxdWlyZSggImNvb2tpZWphciIgKQogICwgQ29va2llID0gQ29va2llSmFyTGliLkNvb2tpZQo7CgovLyBCcm93c2VyIGRvZXNuJ3QgaGF2ZSB6bGliLgp2YXIgemxpYiA9IG51bGw7CnRyeSB7CiAgemxpYiA9IHJlcXVpcmUoJ3psaWInKTsKfSBjYXRjaCAoZSkgewogIC8vIGNvbnNvbGUud2Fybigibm8gemxpYiBsaWJyYXJ5Iik7Cn0KCi8vIEljb252IGRvZXNuJ3Qgd29yayBpbiBicm93c2VyCnZhciBJY29udiA9IG51bGw7CnRyeSB7CiAgSWNvbnYgPSByZXF1aXJlKCdpY29udi1saXRlJyk7Cn0gY2F0Y2ggKGUpIHsKICAvLyBjb25zb2xlLndhcm4oIm5vIGljb252IGxpYnJhcnkiKTsKfQoKLy8gQ29uc3RydWN0IGEgYFJlc3BvbnNlYCBvYmplY3QuIFlvdSBzaG91bGQgbmV2ZXIgaGF2ZSB0byBkbyB0aGlzIGRpcmVjdGx5LiBUaGUKLy8gYFJlcXVlc3RgIG9iamVjdCBoYW5kbGVzIHRoaXMsIGdldHRpbmcgdGhlIHJhdyByZXNwb25zZSBvYmplY3QgYW5kIHBhc3NpbmcgaXQKLy8gaW4gaGVyZSwgYWxvbmcgd2l0aCB0aGUgcmVxdWVzdC4gVGhlIGNhbGxiYWNrIGFsbG93cyB1cyB0byBzdHJlYW0gdGhlIHJlc3BvbnNlCi8vIGFuZCB0aGVuIHVzZSB0aGUgY2FsbGJhY2sgdG8gbGV0IHRoZSByZXF1ZXN0IGtub3cgd2hlbiBpdCdzIHJlYWR5Lgp2YXIgUmVzcG9uc2UgPSBmdW5jdGlvbihyYXcsIHJlcXVlc3QsIGNhbGxiYWNrKSB7IAogIHZhciByZXNwb25zZSA9IHRoaXM7CiAgdGhpcy5fcmF3ID0gcmF3OwoKICAvLyBUaGUgYC5fc2V0SGVhZGVyc2AgbWV0aG9kIGlzICJwcml2YXRlIjsgeW91IGNhbid0IG90aGVyd2lzZSBzZXQgaGVhZGVycyBvbgogIC8vIHRoZSByZXNwb25zZS4KICB0aGlzLl9zZXRIZWFkZXJzLmNhbGwodGhpcyxyYXcuaGVhZGVycyk7CiAgCiAgLy8gc3RvcmUgYW55IGNvb2tpZXMKICBpZiAocmVxdWVzdC5jb29raWVKYXIgJiYgdGhpcy5nZXRIZWFkZXIoJ3NldC1jb29raWUnKSkgewogICAgdmFyIGNvb2tpZVN0cmluZ3MgPSB0aGlzLmdldEhlYWRlcignc2V0LWNvb2tpZScpOwogICAgdmFyIGNvb2tpZU9ianMgPSBbXQogICAgICAsIGNvb2tpZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZVN0cmluZ3MubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGNvb2tpZVN0cmluZyA9IGNvb2tpZVN0cmluZ3NbaV07CiAgICAgIGlmICghY29va2llU3RyaW5nKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KCiAgICAgIGlmICghY29va2llU3RyaW5nLm1hdGNoKC9kb21haW5cPS9pKSkgewogICAgICAgIGNvb2tpZVN0cmluZyArPSAnOyBkb21haW49JyArIHJlcXVlc3QuaG9zdDsKICAgICAgfQoKICAgICAgaWYgKCFjb29raWVTdHJpbmcubWF0Y2goL3BhdGhcPS9pKSkgewogICAgICAgIGNvb2tpZVN0cmluZyArPSAnOyBwYXRoPScgKyByZXF1ZXN0LnBhdGg7CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgY29va2llID0gbmV3IENvb2tpZShjb29raWVTdHJpbmcpOwogICAgICAgIGlmIChjb29raWUpIHsKICAgICAgICAgIGNvb2tpZU9ianMucHVzaChjb29raWUpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUud2FybigiVHJpZWQgdG8gc2V0IGJhZCBjb29raWU6ICIgKyBjb29raWVTdHJpbmcpOwogICAgICB9CiAgICB9CgogICAgcmVxdWVzdC5jb29raWVKYXIuc2V0Q29va2llcyhjb29raWVPYmpzKTsKICB9CgogIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7CiAgdGhpcy5jbGllbnQgPSByZXF1ZXN0LmNsaWVudDsKICB0aGlzLmxvZyA9IHRoaXMucmVxdWVzdC5sb2c7CgogIC8vIFN0cmVhbSB0aGUgcmVzcG9uc2UgY29udGVudCBlbnRpdHkgYW5kIGZpcmUgdGhlIGNhbGxiYWNrIHdoZW4gd2UncmUgZG9uZS4KICAvLyBTdG9yZSB0aGUgaW5jb21pbmcgZGF0YSBpbiBhIGFycmF5IG9mIEJ1ZmZlcnMgd2hpY2ggd2UgY29uY2F0aW5hdGUgaW50byBvbmUKICAvLyBidWZmZXIgYXQgdGhlIGVuZC4gIFdlIG5lZWQgdG8gdXNlIGJ1ZmZlcnMgaW5zdGVhZCBvZiBzdHJpbmdzIGhlcmUgaW4gb3JkZXIKICAvLyB0byBwcmVzZXJ2ZSBiaW5hcnkgZGF0YS4KICB2YXIgY2h1bmtCdWZmZXJzID0gW107CiAgdmFyIGRhdGFMZW5ndGggPSAwOwogIHJhdy5vbigiZGF0YSIsIGZ1bmN0aW9uKGNodW5rKSB7CiAgICBjaHVua0J1ZmZlcnMucHVzaChjaHVuayk7CiAgICBkYXRhTGVuZ3RoICs9IGNodW5rLmxlbmd0aDsKICB9KTsKICByYXcub24oImVuZCIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGJvZHk7CiAgICBpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgLy8gSnVzdCBjb25jYXRpbmF0ZSBpbnRvIGEgc3RyaW5nCiAgICAgIGJvZHkgPSBjaHVua0J1ZmZlcnMuam9pbignJyk7CiAgICB9IGVsc2UgewogICAgICAvLyBJbml0aWFsaXplIG5ldyBidWZmZXIgYW5kIGFkZCB0aGUgY2h1bmtzIG9uZS1hdC1hLXRpbWUuCiAgICAgIGJvZHkgPSBuZXcgQnVmZmVyKGRhdGFMZW5ndGgpOwogICAgICBmb3IgKHZhciBpID0gMCwgcG9zID0gMDsgaSA8IGNodW5rQnVmZmVycy5sZW5ndGg7IGkrKykgewogICAgICAgIGNodW5rQnVmZmVyc1tpXS5jb3B5KGJvZHksIHBvcyk7CiAgICAgICAgcG9zICs9IGNodW5rQnVmZmVyc1tpXS5sZW5ndGg7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgc2V0Qm9keUFuZEZpbmlzaCA9IGZ1bmN0aW9uIChib2R5KSB7CiAgICAgIHJlc3BvbnNlLl9ib2R5ID0gbmV3IENvbnRlbnQoeyAKICAgICAgICBib2R5OiBib2R5LAogICAgICAgIHR5cGU6IHJlc3BvbnNlLmdldEhlYWRlcigiQ29udGVudC1UeXBlIikKICAgICAgfSk7CiAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTsKICAgIH0KCiAgICBpZiAoemxpYiAmJiByZXNwb25zZS5nZXRIZWFkZXIoIkNvbnRlbnQtRW5jb2RpbmciKSA9PT0gJ2d6aXAnKXsKICAgICAgemxpYi5ndW56aXAoYm9keSwgZnVuY3Rpb24gKGVyciwgZ3VuemlwcGVkQm9keSkgewogICAgICAgIGlmIChJY29udiAmJiByZXNwb25zZS5yZXF1ZXN0LmVuY29kaW5nKXsKICAgICAgICAgIGJvZHkgPSBJY29udi5mcm9tRW5jb2RpbmcoZ3VuemlwcGVkQm9keSxyZXNwb25zZS5yZXF1ZXN0LmVuY29kaW5nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYm9keSA9IGd1bnppcHBlZEJvZHkudG9TdHJpbmcoKTsKICAgICAgICB9CiAgICAgICAgc2V0Qm9keUFuZEZpbmlzaChib2R5KTsKICAgICAgfSkKICAgIH0KICAgIGVsc2V7CiAgICAgICBpZiAocmVzcG9uc2UucmVxdWVzdC5lbmNvZGluZyl7CiAgICAgICAgICAgIGJvZHkgPSBJY29udi5mcm9tRW5jb2RpbmcoYm9keSxyZXNwb25zZS5yZXF1ZXN0LmVuY29kaW5nKTsKICAgICAgICB9ICAgICAgICAKICAgICAgc2V0Qm9keUFuZEZpbmlzaChib2R5KTsKICAgIH0KICB9KTsKfTsKCi8vIFRoZSBgUmVzcG9uc2VgIG9iamVjdCBjYW4gYmUgcHJldHR5IG92ZXJ3aGVsbWluZyB0byB2aWV3IHVzaW5nIHRoZSBidWlsdC1pbgovLyBOb2RlLmpzIGluc3BlY3QgbWV0aG9kLiBXZSB3YW50IHRvIG1ha2UgaXQgYSBiaXQgbW9yZSBtYW5hZ2VhYmxlLiBUaGlzCi8vIHByb2JhYmx5IGdvZXMgW3RvbyBmYXIgaW4gdGhlIG90aGVyCi8vIGRpcmVjdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL3NwaXJlLWlvL3NocmVkL2lzc3Vlcy8yKS4KClJlc3BvbnNlLnByb3RvdHlwZSA9IHsKICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgIHZhciByZXNwb25zZSA9IHRoaXM7CiAgICB2YXIgaGVhZGVycyA9IHRoaXMuZm9ybWF0X2hlYWRlcnMoKTsKICAgIHZhciBzdW1tYXJ5ID0gWyI8U2hyZWQgUmVzcG9uc2U+ICIsIHJlc3BvbnNlLnN0YXR1c10uam9pbigiICIpCiAgICByZXR1cm4gWyBzdW1tYXJ5LCAiLSBIZWFkZXJzOiIsIGhlYWRlcnNdLmpvaW4oIlxuIik7CiAgfSwKICBmb3JtYXRfaGVhZGVyczogZnVuY3Rpb24gKCkgewogICAgdmFyIGFycmF5ID0gW10KICAgIHZhciBoZWFkZXJzID0gdGhpcy5faGVhZGVycwogICAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHsKICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNba2V5XQogICAgICAgIGFycmF5LnB1c2goIlx0IiArIGtleSArICI6ICIgKyB2YWx1ZSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBhcnJheS5qb2luKCJcbiIpOwogIH0KfTsKCi8vIGBSZXNwb25zZWAgb2JqZWN0IHByb3BlcnRpZXMsIGFsbCBvZiB3aGljaCBhcmUgcmVhZC1vbmx5OgpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZXNwb25zZS5wcm90b3R5cGUsIHsKICAKLy8gLSAqKnN0YXR1cyoqLiBUaGUgSFRUUCBzdGF0dXMgY29kZSBmb3IgdGhlIHJlc3BvbnNlLiAKICBzdGF0dXM6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9yYXcuc3RhdHVzQ29kZTsgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9LAoKLy8gLSAqKmNvbnRlbnQqKi4gVGhlIEhUVFAgY29udGVudCBlbnRpdHksIGlmIGFueS4gUHJvdmlkZWQgYXMgYSBbY29udGVudAovLyAgIG9iamVjdF0oLi9jb250ZW50Lmh0bWwpLCB3aGljaCB3aWxsIGF0dGVtcHQgdG8gY29udmVydCB0aGUgZW50aXR5IGJhc2VkIHVwb24KLy8gICB0aGUgYGNvbnRlbnQtdHlwZWAgaGVhZGVyLiBUaGUgY29udmVydGVkIHZhbHVlIGlzIGF2YWlsYWJsZSBhcwovLyAgIGBjb250ZW50LmRhdGFgLiBUaGUgb3JpZ2luYWwgcmF3IGNvbnRlbnQgZW50aXR5IGlzIGF2YWlsYWJsZSBhcwovLyAgIGBjb250ZW50LmJvZHlgLgogIGJvZHk6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9ib2R5OyB9CiAgfSwKICBjb250ZW50OiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5ib2R5OyB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqaXNSZWRpcmVjdCoqLiBJcyB0aGUgcmVzcG9uc2UgYSByZWRpcmVjdD8gVGhlc2UgYXJlIHJlc3BvbnNlcyB3aXRoIDN4eAovLyAgIHN0YXR1cyBhbmQgYSBgTG9jYXRpb25gIGhlYWRlci4KICBpc1JlZGlyZWN0OiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gKHRoaXMuc3RhdHVzPjI5OQogICAgICAgICAgJiZ0aGlzLnN0YXR1czw0MDAKICAgICAgICAgICYmdGhpcy5nZXRIZWFkZXIoIkxvY2F0aW9uIikpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9LAoKLy8gLSAqKmlzRXJyb3IqKi4gSXMgdGhlIHJlc3BvbnNlIGFuIGVycm9yPyBUaGVzZSBhcmUgcmVzcG9uc2VzIHdpdGggc3RhdHVzIG9mCi8vICAgNDAwIG9yIGdyZWF0ZXIuCiAgaXNFcnJvcjogewogICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICh0aGlzLnN0YXR1cyA9PT0gMCB8fCB0aGlzLnN0YXR1cyA+IDM5OSkKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlCiAgfQp9KTsKCi8vIEFkZCBpbiB0aGUgW2dldHRlcnMgZm9yIGFjY2Vzc2luZyB0aGUgbm9ybWFsaXplZCBoZWFkZXJzXSguL2hlYWRlcnMuanMpLgpIZWFkZXJNaXhpbnMuZ2V0dGVycyhSZXNwb25zZSk7CkhlYWRlck1peGlucy5wcml2YXRlU2V0dGVycyhSZXNwb25zZSk7CgovLyBXb3JrIGFyb3VuZCBNb3ppbGxhIGJ1ZyAjNjA4NzM1IFtodHRwczovL2J1Z3ppbC5sYS82MDg3MzVdLCB3aGljaCBjYXVzZXMKLy8gZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgdG8gcmV0dXJuIHt9IGlmIHRoZSByZXNwb25zZSBpcyBhIENPUlMgcmVxdWVzdC4KLy8geGhyLmdldEhlYWRlciBzdGlsbCB3b3JrcyBjb3JyZWN0bHkuCnZhciBnZXRIZWFkZXIgPSBSZXNwb25zZS5wcm90b3R5cGUuZ2V0SGVhZGVyOwpSZXNwb25zZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUpIHsKICByZXR1cm4gKGdldEhlYWRlci5jYWxsKHRoaXMsbmFtZSkgfHwKICAgICh0eXBlb2YgdGhpcy5fcmF3LmdldEhlYWRlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLl9yYXcuZ2V0SGVhZGVyKG5hbWUpKSk7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IFJlc3BvbnNlOwoKfSk7CgpyZXF1aXJlLmRlZmluZSgiL3NocmVkL2NvbnRlbnQuanMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIAovLyBUaGUgcHVycG9zZSBvZiB0aGUgYENvbnRlbnRgIG9iamVjdCBpcyB0byBhYnN0cmFjdCBhd2F5IHRoZSBkYXRhIGNvbnZlcnNpb25zCi8vIHRvIGFuZCBmcm9tIHJhdyBjb250ZW50IGVudGl0aWVzIGFzIHN0cmluZ3MuIEZvciBleGFtcGxlLCB5b3Ugd2FudCB0byBiZSBhYmxlCi8vIHRvIHBhc3MgaW4gYSBKYXZhc2NyaXB0IG9iamVjdCBhbmQgaGF2ZSBpdCBiZSBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCBpbnRvIGEKLy8gSlNPTiBzdHJpbmcgaWYgdGhlIGBjb250ZW50LXR5cGVgIGlzIHNldCB0byBhIEpTT04tYmFzZWQgbWVkaWEgdHlwZS4KLy8gQ29udmVyc2VseSwgeW91IHdhbnQgdG8gYmUgYWJsZSB0byB0cmFuc3BhcmVudGx5IGdldCBiYWNrIGEgSmF2YXNjcmlwdCBvYmplY3QKLy8gaW4gdGhlIHJlc3BvbnNlIGlmIHRoZSBgY29udGVudC10eXBlYCBpcyBhIEpTT04tYmFzZWQgbWVkaWEtdHlwZS4KCi8vIE9uZSBsaW1pdGF0aW9uIG9mIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIGlzIHRoYXQgaXQgW2Fzc3VtZXMgdGhlIGBjaGFyc2V0YCBpcyBVVEYtOF0oaHR0cHM6Ly9naXRodWIuY29tL3NwaXJlLWlvL3NocmVkL2lzc3Vlcy81KS4KCi8vIFRoZSBgQ29udGVudGAgY29uc3RydWN0b3IgdGFrZXMgYW4gb3B0aW9ucyBvYmplY3QsIHdoaWNoICptdXN0KiBoYXZlIGVpdGhlciBhCi8vIGBib2R5YCBvciBgZGF0YWAgcHJvcGVydHkgYW5kICptYXkqIGhhdmUgYSBgdHlwZWAgcHJvcGVydHkgaW5kaWNhdGluZyB0aGUKLy8gbWVkaWEgdHlwZS4gSWYgdGhlcmUgaXMgbm8gYHR5cGVgIGF0dHJpYnV0ZSwgYSBkZWZhdWx0IHdpbGwgYmUgaW5mZXJyZWQuCnZhciBDb250ZW50ID0gZnVuY3Rpb24ob3B0aW9ucykgewogIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTsKICB0aGlzLmRhdGEgPSBvcHRpb25zLmRhdGE7CiAgdGhpcy50eXBlID0gb3B0aW9ucy50eXBlOwp9OwoKQ29udGVudC5wcm90b3R5cGUgPSB7CiAgLy8gVHJlYXQgYHRvU3RyaW5nKClgIGFzIGFza2luZyBmb3IgdGhlIGBjb250ZW50LmJvZHlgLiBUaGF0IGlzLCB0aGUgcmF3IGNvbnRlbnQgZW50aXR5LgogIC8vCiAgLy8gICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuYm9keTsgfQogIC8vCiAgLy8gQ29tbWVudGVkIG91dCwgYnV0IEkndmUgZm9yZ290dGVuIHdoeS4gOi8KfTsKCgovLyBgQ29udGVudGAgb2JqZWN0cyBoYXZlIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczoKT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ29udGVudC5wcm90b3R5cGUsewogIAovLyAtICoqdHlwZSoqLiBUeXBpY2FsbHkgYWNjZXNzZWQgYXMgYGNvbnRlbnQudHlwZWAsIHJlZmxlY3RzIHRoZSBgY29udGVudC10eXBlYAovLyAgIGhlYWRlciBhc3NvY2lhdGVkIHdpdGggdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2UuIElmIG5vdCBwYXNzZWQgYXMgYW4gb3B0aW9ucwovLyAgIHRvIHRoZSBjb25zdHJ1Y3RvciBvciBzZXQgZXhwbGljaXRseSwgaXQgd2lsbCBpbmZlciB0aGUgdHlwZSB0aGUgYGRhdGFgCi8vICAgYXR0cmlidXRlLCBpZiBwb3NzaWJsZSwgYW5kLCBmYWlsaW5nIHRoYXQsIHdpbGwgZGVmYXVsdCB0byBgdGV4dC9wbGFpbmAuCiAgdHlwZTogewogICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuX3R5cGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5fZGF0YSkgewogICAgICAgICAgc3dpdGNoKHR5cGVvZiB0aGlzLl9kYXRhKSB7CiAgICAgICAgICAgIGNhc2UgInN0cmluZyI6IHJldHVybiAidGV4dC9wbGFpbiI7CiAgICAgICAgICAgIGNhc2UgIm9iamVjdCI6IHJldHVybiAiYXBwbGljYXRpb24vanNvbiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAidGV4dC9wbGFpbiI7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgewogICAgICB0aGlzLl90eXBlID0gdmFsdWU7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9LAoKLy8gLSAqKmRhdGEqKi4gVHlwaWNhbGx5IGFjY2Vzc2VkIGFzIGBjb250ZW50LmRhdGFgLCByZWZsZWN0cyB0aGUgY29udGVudCBlbnRpdHkKLy8gICBjb252ZXJ0ZWQgaW50byBKYXZhc2NyaXB0IGRhdGEuIFRoaXMgY2FuIGJlIGEgc3RyaW5nLCBpZiB0aGUgYHR5cGVgIGlzLCBzYXksCi8vICAgYHRleHQvcGxhaW5gLCBidXQgY2FuIGFsc28gYmUgYSBKYXZhc2NyaXB0IG9iamVjdC4gVGhlIGNvbnZlcnNpb24gYXBwbGllZCBpcwovLyAgIGJhc2VkIG9uIHRoZSBgcHJvY2Vzc29yYCBhdHRyaWJ1dGUuIFRoZSBgZGF0YWAgYXR0cmlidXRlIGNhbiBhbHNvIGJlIHNldAovLyAgIGRpcmVjdGx5LCBpbiB3aGljaCBjYXNlIHRoZSBjb252ZXJzaW9uIHdpbGwgYmUgZG9uZSB0aGUgb3RoZXIgd2F5LCB0byBpbmZlcgovLyAgIHRoZSBgYm9keWAgYXR0cmlidXRlLgogIGRhdGE6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLl9ib2R5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLnBhcnNlcih0aGlzLl9ib2R5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTsKICAgICAgfQogICAgfSwKICAgIHNldDogZnVuY3Rpb24oZGF0YSkgewogICAgICBpZiAodGhpcy5fYm9keSYmZGF0YSkgRXJyb3JzLnNldERhdGFXaXRoQm9keSh0aGlzKTsKICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUKICB9LAoKLy8gLSAqKmJvZHkqKi4gVHlwaWNhbGx5IGFjY2Vzc2VkIGFzIGBjb250ZW50LmJvZHlgLCByZWZsZWN0cyB0aGUgY29udGVudCBlbnRpdHkKLy8gICBhcyBhIFVURi04IHN0cmluZy4gSXQgaXMgdGhlIG1pcnJvciBvZiB0aGUgYGRhdGFgIGF0dHJpYnV0ZS4gSWYgeW91IHNldCB0aGUKLy8gICBgZGF0YWAgYXR0cmlidXRlLCB0aGUgYGJvZHlgIGF0dHJpYnV0ZSB3aWxsIGJlIGluZmVycmVkIGFuZCB2aWNlLXZlcnNhLiBJZgovLyAgIHlvdSBhdHRlbXB0IHRvIHNldCBib3RoLCBhbiBleGNlcHRpb24gaXMgcmFpc2VkLgogIGJvZHk6IHsKICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLl9kYXRhKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLnN0cmluZ2lmeSh0aGlzLl9kYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3Iuc3RyaW5naWZ5KHRoaXMuX2JvZHkpOwogICAgICB9CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbihib2R5KSB7CiAgICAgIGlmICh0aGlzLl9kYXRhJiZib2R5KSBFcnJvcnMuc2V0Qm9keVdpdGhEYXRhKHRoaXMpOwogICAgICB0aGlzLl9ib2R5ID0gYm9keTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZQogIH0sCgovLyAtICoqcHJvY2Vzc29yKiouIFRoZSBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29udmVydCB0by9mcm9tIGBkYXRhYCBhbmQKLy8gICBgYm9keWAgYXR0cmlidXRlcy4gWW91IGNhbiBhZGQgcHJvY2Vzc29ycy4gVGhlIHR3byB0aGF0IGFyZSBidWlsdC1pbiBhcmUgZm9yCi8vICAgYHRleHQvcGxhaW5gLCB3aGljaCBpcyBiYXNpY2FsbHkgYW4gaWRlbnRpdHkgdHJhbnNmb3JtYXRpb24gYW5kCi8vICAgYGFwcGxpY2F0aW9uL2pzb25gIGFuZCBvdGhlciBKU09OLWJhc2VkIG1lZGlhIHR5cGVzIChpbmNsdWRpbmcgY3VzdG9tIG1lZGlhCi8vICAgdHlwZXMgd2l0aCBgK2pzb25gKS4gWW91IGNhbiBhZGQgeW91ciBvd24gcHJvY2Vzc29ycy4gU2VlIGJlbG93LgogIHByb2Nlc3NvcjogewogICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIHByb2Nlc3NvciA9IENvbnRlbnQucHJvY2Vzc29yc1t0aGlzLnR5cGVdOwogICAgICBpZiAocHJvY2Vzc29yKSB7CiAgICAgICAgcmV0dXJuIHByb2Nlc3NvcjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBSZXR1cm4gdGhlIGZpcnN0IHByb2Nlc3NvciB0aGF0IG1hdGNoZXMgYW55IHBhcnQgb2YgdGhlCiAgICAgICAgLy8gY29udGVudCB0eXBlLiBleDogYXBwbGljYXRpb24vdm5kLmZvb2Jhci5iYXoranNvbiB3aWxsIG1hdGNoIGpzb24uCiAgICAgICAgdmFyIG1haW4gPSB0aGlzLnR5cGUuc3BsaXQoIjsiKVswXTsKICAgICAgICB2YXIgcGFydHMgPSBtYWluLnNwbGl0KC9cK3xcLy8pOwogICAgICAgIGZvciAodmFyIGk9MCwgbD1wYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHByb2Nlc3NvciA9IENvbnRlbnQucHJvY2Vzc29yc1twYXJ0c1tpXV0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHByb2Nlc3NvciB8fCB7cGFyc2VyOmlkZW50aXR5LHN0cmluZ2lmeTp0b1N0cmluZ307CiAgICAgIH0KICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlCiAgfSwKCi8vIC0gKipsZW5ndGgqKi4gVHlwaWNhbGx5IGFjY2Vzc2VkIGFzIGBjb250ZW50Lmxlbmd0aGAsIHJldHVybnMgdGhlIGxlbmd0aCBpbgovLyAgIGJ5dGVzIG9mIHRoZSByYXcgY29udGVudCBlbnRpdHkuCiAgbGVuZ3RoOiB7CiAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgodGhpcy5ib2R5KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5ib2R5Lmxlbmd0aDsKICAgIH0KICB9Cn0pOwoKQ29udGVudC5wcm9jZXNzb3JzID0ge307CgovLyBUaGUgYHJlZ2lzdGVyUHJvY2Vzc29yYCBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIGFkZCB5b3VyIG93biBwcm9jZXNzb3JzIHRvCi8vIGNvbnZlcnQgY29udGVudCBlbnRpdGllcy4gRWFjaCBwcm9jZXNzb3IgY29uc2lzdHMgb2YgYSBKYXZhc2NyaXB0IG9iamVjdCB3aXRoCi8vIHR3byBwcm9wZXJ0aWVzOgovLyAtICoqcGFyc2VyKiouIFRoZSBmdW5jdGlvbiB1c2VkIHRvIHBhcnNlIGEgcmF3IGNvbnRlbnQgZW50aXR5IGFuZCBjb252ZXJ0IGl0Ci8vICAgaW50byBhIEphdmFzY3JpcHQgZGF0YSB0eXBlLgovLyAtICoqc3RyaW5naWZ5KiouIFRoZSBmdW5jdGlvbiB1c2VkIHRvIGNvbnZlcnQgYSBKYXZhc2NyaXB0IGRhdGEgdHlwZSBpbnRvIGEKLy8gICByYXcgY29udGVudCBlbnRpdHkuCkNvbnRlbnQucmVnaXN0ZXJQcm9jZXNzb3IgPSBmdW5jdGlvbih0eXBlcyxwcm9jZXNzb3IpIHsKICAKLy8gWW91IGNhbiBwYXNzIGFuIGFycmF5IG9mIHR5cGVzIHRoYXQgd2lsbCB0cmlnZ2VyIHRoaXMgcHJvY2Vzc29yLCBvciBqdXN0IG9uZS4KLy8gV2UgZGV0ZXJtaW5lIHRoZSBhcnJheSB2aWEgZHVjay10eXBpbmcgaGVyZS4KICBpZiAodHlwZXMuZm9yRWFjaCkgewogICAgdHlwZXMuZm9yRWFjaChmdW5jdGlvbih0eXBlKSB7CiAgICAgIENvbnRlbnQucHJvY2Vzc29yc1t0eXBlXSA9IHByb2Nlc3NvcjsKICAgIH0pOwogIH0gZWxzZSB7CiAgICAvLyBJZiB5b3UgZGlkbid0IHBhc3MgYW4gYXJyYXksIHdlIGp1c3QgdXNlIHdoYXQgeW91IHBhc3MgaW4uCiAgICBDb250ZW50LnByb2Nlc3NvcnNbdHlwZXNdID0gcHJvY2Vzc29yOwogIH0KfTsKCi8vIFJlZ2lzdGVyIHRoZSBpZGVudGl0eSBwcm9jZXNzb3IsIHdoaWNoIGlzIHVzZWQgZm9yIHRleHQtYmFzZWQgbWVkaWEgdHlwZXMuCnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHg7IH0KICAsIHRvU3RyaW5nID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC50b1N0cmluZygpOyB9CkNvbnRlbnQucmVnaXN0ZXJQcm9jZXNzb3IoCiAgWyJ0ZXh0L2h0bWwiLCJ0ZXh0L3BsYWluIiwidGV4dCJdLAogIHsgcGFyc2VyOiBpZGVudGl0eSwgc3RyaW5naWZ5OiB0b1N0cmluZyB9KTsKCi8vIFJlZ2lzdGVyIHRoZSBKU09OIHByb2Nlc3Nvciwgd2hpY2ggaXMgdXNlZCBmb3IgSlNPTi1iYXNlZCBtZWRpYSB0eXBlcy4KQ29udGVudC5yZWdpc3RlclByb2Nlc3NvcigKICBbImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLCJhcHBsaWNhdGlvbi9qc29uIiwianNvbiJdLAogIHsKICAgIHBhcnNlcjogZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZyk7CiAgICB9LAogICAgc3RyaW5naWZ5OiBmdW5jdGlvbihkYXRhKSB7CiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTsgfX0pOwoKLy8gRXJyb3IgZnVuY3Rpb25zIGFyZSBkZWZpbmVkIHNlcGFyYXRlbHkgaGVyZSBpbiBhbiBhdHRlbXB0IHRvIG1ha2UgdGhlIGNvZGUKLy8gZWFzaWVyIHRvIHJlYWQuCnZhciBFcnJvcnMgPSB7CiAgc2V0RGF0YVdpdGhCb2R5OiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHRocm93IG5ldyBFcnJvcigiQXR0ZW1wdCB0byBzZXQgZGF0YSBhdHRyaWJ1dGUgb2YgYSBjb250ZW50IG9iamVjdCAiICsKICAgICAgICAid2hlbiB0aGUgYm9keSBhdHRyaWJ1dGVzIHdhcyBhbHJlYWR5IHNldC4iKTsKICB9LAogIHNldEJvZHlXaXRoRGF0YTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHQgdG8gc2V0IGJvZHkgYXR0cmlidXRlIG9mIGEgY29udGVudCBvYmplY3QgIiArCiAgICAgICAgIndoZW4gdGhlIGRhdGEgYXR0cmlidXRlcyB3YXMgYWxyZWFkeSBzZXQuIik7CiAgfQp9Cm1vZHVsZS5leHBvcnRzID0gQ29udGVudDsKCn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9zaHJlZC9taXhpbnMvaGVhZGVycy5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgLy8gVGhlIGhlYWRlciBtaXhpbnMgYWxsb3cgeW91IHRvIGFkZCBIVFRQIGhlYWRlciBzdXBwb3J0IHRvIGFueSBvYmplY3QuIFRoaXMKLy8gbWlnaHQgc2VlbSBwb2ludGxlc3M6IHdoeSBub3Qgc2ltcGx5IHVzZSBhIGhhc2g/IFRoZSBtYWluIHJlYXNvbiBpcyB0aGF0LCBwZXIKLy8gdGhlIFtIVFRQIHNwZWNdKGh0dHA6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2L3JmYzI2MTYtc2VjNC5odG1sI3NlYzQuMiksCi8vIGhlYWRlcnMgYXJlIGNhc2UtaW5zZW5zaXRpdmUuIFNvLCBmb3IgZXhhbXBsZSwgYGNvbnRlbnQtdHlwZWAgaXMgdGhlIHNhbWUgYXMKLy8gYENPTlRFTlQtVFlQRWAgd2hpY2ggaXMgdGhlIHNhbWUgYXMgYENvbnRlbnQtVHlwZWAuIFNpbmNlIHRoZXJlIGlzIG5vIHdheSB0bwovLyBvdmVybG9hZCB0aGUgaW5kZXggb3BlcmF0b3IgaW4gSmF2YXNjcmlwdCwgdXNpbmcgYSBoYXNoIHRvIHJlcHJlc2VudCB0aGUKLy8gaGVhZGVycyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIGhhdmUgdHdvIGNvbmZsaWN0aW5nIHZhbHVlcyBmb3IgYSBzaW5nbGUKLy8gaGVhZGVyLgovLyAKLy8gVGhlIHNvbHV0aW9uIHRvIHRoaXMgaXMgdG8gcHJvdmlkZSBleHBsaWNpdCBtZXRob2RzIHRvIHNldCBvciBnZXQgaGVhZGVycy4KLy8gVGhpcyBhbHNvIGhhcyB0aGUgYmVuZWZpdCBvZiBhbGxvd2luZyB1cyB0byBpbnRyb2R1Y2UgYWRkaXRpb25hbCB2YXJpYXRpb25zLAovLyBpbmNsdWRpbmcgc25ha2UgY2FzZSwgd2hpY2ggd2UgYXV0b21hdGljYWxseSBjb252ZXJ0IHRvIHdoYXQgTWF0dGhldyBLaW5nIGhhcwovLyBkdWJiZWQgImNvcnNldCBjYXNlIiAtIHRoZSBoeXBoZW4tc2VwYXJhdGVkIG5hbWVzIHdpdGggaW5pdGlhbCBjYXBzOgovLyBgQ29udGVudC1UeXBlYC4gV2UgdXNlIGNvcnNldC1jYXNlIGp1c3QgaW4gY2FzZSB3ZSdyZSBkZWFsaW5nIHdpdGggc2VydmVycwovLyB0aGF0IGhhdmVuJ3QgcHJvcGVybHkgaW1wbGVtZW50ZWQgdGhlIHNwZWMuCgovLyBDb252ZXJ0IGhlYWRlcnMgdG8gY29yc2V0LWNhc2UuICoqRXhhbXBsZToqKiBgQ09OVEVOVC1UWVBFYCB3aWxsIGJlIGNvbnZlcnRlZAovLyB0byBgQ29udGVudC1UeXBlYC4KCnZhciBjb3JzZXRDYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgcmV0dXJuIHN0cmluZzsvLy50b0xvd2VyQ2FzZSgpCiAgICAgIC8vLnJlcGxhY2UoIl8iLCItIikKICAgICAgLy8gLnJlcGxhY2UoLyhefC0pKFx3KS9nLCAKICAgICAgICAgIC8vIGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfSk7Cn07CgovLyBXZSBzdXNwZWN0IHRoYXQgYGluaXRpYWxpemVIZWFkZXJzYCB3YXMgb25jZSBtb3JlIGNvbXBsaWNhdGVkIC4uLgp2YXIgaW5pdGlhbGl6ZUhlYWRlcnMgPSBmdW5jdGlvbihvYmplY3QpIHsKICByZXR1cm4ge307Cn07CgovLyBBY2Nlc3MgdGhlIGBfaGVhZGVyc2AgcHJvcGVydHkgdXNpbmcgbGF6eSBpbml0aWFsaXphdGlvbi4gKipXYXJuaW5nOioqIElmIHlvdQovLyBtaXggdGhpcyBpbnRvIGFuIG9iamVjdCB0aGF0IGlzIHVzaW5nIHRoZSBgX2hlYWRlcnNgIHByb3BlcnR5IGFscmVhZHksIHlvdSdyZQovLyBnb2luZyB0byBoYXZlIHRyb3VibGUuCnZhciAkSCA9IGZ1bmN0aW9uKG9iamVjdCkgewogIHJldHVybiBvYmplY3QuX2hlYWRlcnN8fChvYmplY3QuX2hlYWRlcnM9aW5pdGlhbGl6ZUhlYWRlcnMob2JqZWN0KSk7Cn07CgovLyBIaWRlIHRoZSBpbXBsZW1lbnRhdGlvbnMgYXMgcHJpdmF0ZSBmdW5jdGlvbnMsIHNlcGFyYXRlIGZyb20gaG93IHdlIGV4cG9zZSB0aGVtLgoKLy8gVGhlICJyZWFsIiBgZ2V0SGVhZGVyYCBmdW5jdGlvbjogZ2V0IHRoZSBoZWFkZXIgYWZ0ZXIgbm9ybWFsaXppbmcgdGhlIG5hbWUuCnZhciBnZXRIZWFkZXIgPSBmdW5jdGlvbihvYmplY3QsbmFtZSkgewogIHJldHVybiAkSChvYmplY3QpW2NvcnNldENhc2UobmFtZSldOwp9OwoKLy8gVGhlICJyZWFsIiBgZ2V0SGVhZGVyYCBmdW5jdGlvbjogZ2V0IG9uZSBvciBtb3JlIGhlYWRlcnMsIG9yIGFsbCBvZiB0aGVtCi8vIGlmIHlvdSBkb24ndCBhc2sgZm9yIGFueSBzcGVjaWZpY3MuIAp2YXIgZ2V0SGVhZGVycyA9IGZ1bmN0aW9uKG9iamVjdCxuYW1lcykgewogIHZhciBrZXlzID0gKG5hbWVzICYmIG5hbWVzLmxlbmd0aD4wKSA/IG5hbWVzIDogT2JqZWN0LmtleXMoJEgob2JqZWN0KSk7CiAgdmFyIGhhc2ggPSBrZXlzLnJlZHVjZShmdW5jdGlvbihoYXNoLGtleSkgewogICAgaGFzaFtrZXldID0gZ2V0SGVhZGVyKG9iamVjdCxrZXkpOwogICAgcmV0dXJuIGhhc2g7CiAgfSx7fSk7CiAgLy8gRnJlZXplIHRoZSByZXN1bHRpbmcgaGFzaCBzbyB5b3UgZG9uJ3QgbWlzdGFrZW5seSB0aGluayB5b3UncmUgbW9kaWZ5aW5nCiAgLy8gdGhlIHJlYWwgaGVhZGVycy4KICBPYmplY3QuZnJlZXplKGhhc2gpOwogIHJldHVybiBoYXNoOwp9OwoKLy8gVGhlICJyZWFsIiBgc2V0SGVhZGVyYCBmdW5jdGlvbjogc2V0IGEgaGVhZGVyLCBhZnRlciBub3JtYWxpemluZyB0aGUgbmFtZS4KdmFyIHNldEhlYWRlciA9IGZ1bmN0aW9uKG9iamVjdCxuYW1lLHZhbHVlKSB7CiAgJEgob2JqZWN0KVtjb3JzZXRDYXNlKG5hbWUpXSA9IHZhbHVlOwogIHJldHVybiBvYmplY3Q7Cn07CgovLyBUaGUgInJlYWwiIGBzZXRIZWFkZXJzYCBmdW5jdGlvbjogc2V0IG11bHRpcGxlIGhlYWRlcnMgYmFzZWQgb24gYSBoYXNoLgp2YXIgc2V0SGVhZGVycyA9IGZ1bmN0aW9uKG9iamVjdCxoYXNoKSB7CiAgZm9yKCB2YXIga2V5IGluIGhhc2ggKSB7IHNldEhlYWRlcihvYmplY3Qsa2V5LGhhc2hba2V5XSk7IH07CiAgcmV0dXJuIHRoaXM7Cn07CgovLyBIZXJlJ3Mgd2hlcmUgd2UgYWN0dWFsbHkgYmluZCB0aGUgZnVuY3Rpb25hbGl0eSB0byBhbiBvYmplY3QuIFRoZXNlIG1peGlucyB3b3JrIGJ5Ci8vIGV4cG9zaW5nIG1peGluIGZ1bmN0aW9ucy4gRWFjaCBmdW5jdGlvbiBtaXhlcyBpbiBhIHNwZWNpZmljIGJhdGNoIG9mIGZlYXR1cmVzLgptb2R1bGUuZXhwb3J0cyA9IHsKICAKICAvLyBBZGQgZ2V0dGVycy4KICBnZXR0ZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvcikgewogICAgY29uc3RydWN0b3IucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIGdldEhlYWRlcih0aGlzLG5hbWUpOyB9OwogICAgY29uc3RydWN0b3IucHJvdG90eXBlLmdldEhlYWRlcnMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGdldEhlYWRlcnModGhpcyxhcmd1bWVudHMpOyB9OwogIH0sCiAgLy8gQWRkIHNldHRlcnMgYnV0IGFzICJwcml2YXRlIiBtZXRob2RzLgogIHByaXZhdGVTZXR0ZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvcikgewogICAgY29uc3RydWN0b3IucHJvdG90eXBlLl9zZXRIZWFkZXIgPSBmdW5jdGlvbihrZXksdmFsdWUpIHsgcmV0dXJuIHNldEhlYWRlcih0aGlzLGtleSx2YWx1ZSk7IH07CiAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuX3NldEhlYWRlcnMgPSBmdW5jdGlvbihoYXNoKSB7IHJldHVybiBzZXRIZWFkZXJzKHRoaXMsaGFzaCk7IH07CiAgfSwKICAvLyBBZGQgc2V0dGVycy4KICBzZXR0ZXJzOiBmdW5jdGlvbihjb25zdHJ1Y3RvcikgewogICAgY29uc3RydWN0b3IucHJvdG90eXBlLnNldEhlYWRlciA9IGZ1bmN0aW9uKGtleSx2YWx1ZSkgeyByZXR1cm4gc2V0SGVhZGVyKHRoaXMsa2V5LHZhbHVlKTsgfTsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5zZXRIZWFkZXJzID0gZnVuY3Rpb24oaGFzaCkgeyByZXR1cm4gc2V0SGVhZGVycyh0aGlzLGhhc2gpOyB9OwogIH0sCiAgLy8gQWRkIGJvdGggZ2V0dGVycyBhbmQgc2V0dGVycy4KICBnZXR0ZXJzQW5kU2V0dGVyczogZnVuY3Rpb24oY29uc3RydWN0b3IpIHsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbihuYW1lKSB7IHJldHVybiBnZXRIZWFkZXIodGhpcyxuYW1lKTsgfTsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRIZWFkZXJzID0gZnVuY3Rpb24oKSB7IHJldHVybiBnZXRIZWFkZXJzKHRoaXMsYXJndW1lbnRzKTsgfTsKICAgIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbihrZXksdmFsdWUpIHsgcmV0dXJuIHNldEhlYWRlcih0aGlzLGtleSx2YWx1ZSk7IH07CiAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuc2V0SGVhZGVycyA9IGZ1bmN0aW9uKGhhc2gpIHsgcmV0dXJuIHNldEhlYWRlcnModGhpcyxoYXNoKTsgfTsKICB9Cn07Cgp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvbm9kZV9tb2R1bGVzL2ljb252LWxpdGUvcGFja2FnZS5qc29uIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IHt9Cn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9ub2RlX21vZHVsZXMvaWNvbnYtbGl0ZS9pbmRleC5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgLy8gTW9kdWxlIGV4cG9ydHMKdmFyIGljb252ID0gbW9kdWxlLmV4cG9ydHMgPSB7CiAgICB0b0VuY29kaW5nOiBmdW5jdGlvbihzdHIsIGVuY29kaW5nKSB7CiAgICAgICAgcmV0dXJuIGljb252LmdldENvZGVjKGVuY29kaW5nKS50b0VuY29kaW5nKHN0cik7CiAgICB9LAogICAgZnJvbUVuY29kaW5nOiBmdW5jdGlvbihidWYsIGVuY29kaW5nKSB7CiAgICAgICAgcmV0dXJuIGljb252LmdldENvZGVjKGVuY29kaW5nKS5mcm9tRW5jb2RpbmcoYnVmKTsKICAgIH0sCiAgICAKICAgIGRlZmF1bHRDaGFyVW5pY29kZTogJ++/vScsCiAgICBkZWZhdWx0Q2hhclNpbmdsZUJ5dGU6ICc/JywKICAgIAogICAgLy8gR2V0IGNvcnJlY3QgY29kZWMgZm9yIGdpdmVuIGVuY29kaW5nLgogICAgZ2V0Q29kZWM6IGZ1bmN0aW9uKGVuY29kaW5nKSB7CiAgICAgICAgdmFyIGVuYyA9IGVuY29kaW5nIHx8ICJ1dGY4IjsKICAgICAgICB2YXIgY29kZWNPcHRpb25zID0gdW5kZWZpbmVkOwogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIGlmIChnZXRUeXBlKGVuYykgPT09ICJTdHJpbmciKQogICAgICAgICAgICAgICAgZW5jID0gZW5jLnJlcGxhY2UoL1stIF0vZywgIiIpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIHZhciBjb2RlYyA9IGljb252LmVuY29kaW5nc1tlbmNdOwogICAgICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGUoY29kZWMpOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gIlN0cmluZyIpIHsKICAgICAgICAgICAgICAgIC8vIExpbmsgdG8gb3RoZXIgZW5jb2RpbmcuCiAgICAgICAgICAgICAgICBjb2RlY09wdGlvbnMgPSB7b3JpZ2luYWxFbmNvZGluZzogZW5jfTsKICAgICAgICAgICAgICAgIGVuYyA9IGNvZGVjOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICJPYmplY3QiICYmIGNvZGVjLnR5cGUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAvLyBPcHRpb25zIGZvciBvdGhlciBlbmNvZGluZy4KICAgICAgICAgICAgICAgIGNvZGVjT3B0aW9ucyA9IGNvZGVjOwogICAgICAgICAgICAgICAgZW5jID0gY29kZWMudHlwZTsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gIkZ1bmN0aW9uIikKICAgICAgICAgICAgICAgIC8vIENvZGVjIGl0c2VsZi4KICAgICAgICAgICAgICAgIHJldHVybiBjb2RlYyhjb2RlY09wdGlvbnMpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkVuY29kaW5nIG5vdCByZWNvZ25pemVkOiAnIiArIGVuY29kaW5nICsgIicgKHNlYXJjaGVkIGFzOiAnIitlbmMrIicpIik7CiAgICAgICAgfQogICAgfSwKICAgIAogICAgLy8gRGVmaW5lIGJhc2ljIGVuY29kaW5ncwogICAgZW5jb2RpbmdzOiB7CiAgICAgICAgaW50ZXJuYWw6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRvRW5jb2Rpbmc6IGZ1bmN0aW9uKHN0cikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGVuc3VyZVN0cmluZyhzdHIpLCBvcHRpb25zLm9yaWdpbmFsRW5jb2RpbmcpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZyb21FbmNvZGluZzogZnVuY3Rpb24oYnVmKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuc3VyZUJ1ZmZlcihidWYpLnRvU3RyaW5nKG9wdGlvbnMub3JpZ2luYWxFbmNvZGluZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB1dGY4OiAiaW50ZXJuYWwiLAogICAgICAgIHVjczI6ICJpbnRlcm5hbCIsCiAgICAgICAgYmluYXJ5OiAiaW50ZXJuYWwiLAogICAgICAgIGFzY2lpOiAiaW50ZXJuYWwiLAogICAgICAgIGJhc2U2NDogImludGVybmFsIiwKICAgICAgICAKICAgICAgICAvLyBDb2RlcGFnZSBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MuCiAgICAgICAgc2luZ2xlYnl0ZTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgICAvLyBQcmVwYXJlIGNoYXJzIGlmIG5lZWRlZAogICAgICAgICAgICBpZiAoIW9wdGlvbnMuY2hhcnMgfHwgKG9wdGlvbnMuY2hhcnMubGVuZ3RoICE9PSAxMjggJiYgb3B0aW9ucy5jaGFycy5sZW5ndGggIT09IDI1NikpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkVuY29kaW5nICciK29wdGlvbnMudHlwZSsiJyBoYXMgaW5jb3JyZWN0ICdjaGFycycgKG11c3QgYmUgb2YgbGVuIDEyOCBvciAyNTYpIik7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAob3B0aW9ucy5jaGFycy5sZW5ndGggPT09IDEyOCkKICAgICAgICAgICAgICAgIG9wdGlvbnMuY2hhcnMgPSBhc2NpaVN0cmluZyArIG9wdGlvbnMuY2hhcnM7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIW9wdGlvbnMuY2hhcnNCdWYpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMuY2hhcnNCdWYgPSBuZXcgQnVmZmVyKG9wdGlvbnMuY2hhcnMsICd1Y3MyJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXZDaGFyc0J1ZikgewogICAgICAgICAgICAgICAgb3B0aW9ucy5yZXZDaGFyc0J1ZiA9IG5ldyBCdWZmZXIoNjU1MzYpOwogICAgICAgICAgICAgICAgdmFyIGRlZkNoYXIgPSBpY29udi5kZWZhdWx0Q2hhclNpbmdsZUJ5dGUuY2hhckNvZGVBdCgwKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5yZXZDaGFyc0J1Zi5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJldkNoYXJzQnVmW2ldID0gZGVmQ2hhcjsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5jaGFycy5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJldkNoYXJzQnVmW29wdGlvbnMuY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdG9FbmNvZGluZzogZnVuY3Rpb24oc3RyKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyID0gZW5zdXJlU3RyaW5nKHN0cik7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoc3RyLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJldkNoYXJzQnVmID0gb3B0aW9ucy5yZXZDaGFyc0J1ZjsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgYnVmW2ldID0gcmV2Q2hhcnNCdWZbc3RyLmNoYXJDb2RlQXQoaSldOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiBidWY7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnJvbUVuY29kaW5nOiBmdW5jdGlvbihidWYpIHsKICAgICAgICAgICAgICAgICAgICBidWYgPSBlbnN1cmVCdWZmZXIoYnVmKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBTdHJpbmdzIGFyZSBpbW11dGFibGUgaW4gSlMgLT4gd2UgdXNlIHVjczIgYnVmZmVyIHRvIHNwZWVkIHVwIGNvbXB1dGF0aW9ucy4KICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcnNCdWYgPSBvcHRpb25zLmNoYXJzQnVmOwogICAgICAgICAgICAgICAgICAgIHZhciBuZXdCdWYgPSBuZXcgQnVmZmVyKGJ1Zi5sZW5ndGgqMik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeDEgPSAwLCBpZHgyID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgX2xlbiA9IGJ1Zi5sZW5ndGg7IGkgPCBfbGVuOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWR4MSA9IGJ1ZltpXSoyOyBpZHgyID0gaSoyOwogICAgICAgICAgICAgICAgICAgICAgICBuZXdCdWZbaWR4Ml0gPSBjaGFyc0J1ZltpZHgxXTsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVmW2lkeDIrMV0gPSBjaGFyc0J1ZltpZHgxKzFdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3QnVmLnRvU3RyaW5nKCd1Y3MyJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgLy8gQ29kZXBhZ2UgZG91YmxlLWJ5dGUgZW5jb2RpbmdzLgogICAgICAgIHRhYmxlOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICAgIHZhciB0YWJsZSA9IG9wdGlvbnMudGFibGUsIGtleSwgcmV2Q2hhcnNUYWJsZSA9IG9wdGlvbnMucmV2Q2hhcnNUYWJsZTsKICAgICAgICAgICAgaWYgKCF0YWJsZSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJFbmNvZGluZyAnIiArIG9wdGlvbnMudHlwZSArIicgaGFzIGluY29yZWN0ICd0YWJsZScgb3B0aW9uIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoIXJldkNoYXJzVGFibGUpIHsKICAgICAgICAgICAgICAgIHJldkNoYXJzVGFibGUgPSBvcHRpb25zLnJldkNoYXJzVGFibGUgPSB7fTsKICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHRhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV2Q2hhcnNUYWJsZVt0YWJsZVtrZXldXSA9IHBhcnNlSW50KGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0b0VuY29kaW5nOiBmdW5jdGlvbihzdHIpIHsKICAgICAgICAgICAgICAgICAgICBzdHIgPSBlbnN1cmVTdHJpbmcoc3RyKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyTGVuID0gc3RyLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICB2YXIgYnVmTGVuID0gc3RyTGVuOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyTGVuOyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHIuY2hhckNvZGVBdChpKSA+PiA3KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmTGVuKys7CgogICAgICAgICAgICAgICAgICAgIHZhciBuZXdCdWYgPSBuZXcgQnVmZmVyKGJ1ZkxlbiksIGdia2NvZGUsIHVuaWNvZGUsIAogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hhciA9IHJldkNoYXJzVGFibGVbaWNvbnYuZGVmYXVsdENoYXJVbmljb2RlLmNoYXJDb2RlQXQoMCldOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCBzdHJMZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICB1bmljb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmljb2RlID4+IDcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdia2NvZGUgPSByZXZDaGFyc1RhYmxlW3VuaWNvZGVdIHx8IGRlZmF1bHRDaGFyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVmW2orK10gPSBnYmtjb2RlID4+IDg7IC8vaGlnaCBieXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVmW2orK10gPSBnYmtjb2RlICYgMHhGRjsgLy9sb3cgYnl0ZQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugey8vYXNjaWkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0J1ZltqKytdID0gdW5pY29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3QnVmOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZyb21FbmNvZGluZzogZnVuY3Rpb24oYnVmKSB7CiAgICAgICAgICAgICAgICAgICAgYnVmID0gZW5zdXJlQnVmZmVyKGJ1Zik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZkxlbiA9IGJ1Zi5sZW5ndGgsIHN0ckxlbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZMZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJMZW4rKzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZltpXSAmIDB4ODApIC8vdGhlIGhpZ2ggYml0IGlzIDEsIHNvIHRoaXMgYnl0ZSBpcyBnYmtjb2RlJ3MgaGlnaCBieXRlLnNraXAgbmV4dCBieXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciBuZXdCdWYgPSBuZXcgQnVmZmVyKHN0ckxlbioyKSwgdW5pY29kZSwgZ2JrY29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoYXIgPSBpY29udi5kZWZhdWx0Q2hhclVuaWNvZGUuY2hhckNvZGVBdCgwKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPCBidWZMZW47IGkrKywgais9MikgewogICAgICAgICAgICAgICAgICAgICAgICBnYmtjb2RlID0gYnVmW2ldOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2JrY29kZSAmIDB4ODApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdia2NvZGUgPSAoZ2JrY29kZSA8PCA4KSArIGJ1ZlsrK2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pY29kZSA9IHRhYmxlW2dia2NvZGVdIHx8IGRlZmF1bHRDaGFyOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pY29kZSA9IGdia2NvZGU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVmW2pdID0gdW5pY29kZSAmIDB4RkY7IC8vbG93IGJ5dGUKICAgICAgICAgICAgICAgICAgICAgICAgbmV3QnVmW2orMV0gPSB1bmljb2RlID4+IDg7IC8vaGlnaCBieXRlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdCdWYudG9TdHJpbmcoJ3VjczInKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfTsKCi8vIEFkZCBhbGlhc2VzIHRvIGNvbnZlcnQgZnVuY3Rpb25zCmljb252LmVuY29kZSA9IGljb252LnRvRW5jb2Rpbmc7Cmljb252LmRlY29kZSA9IGljb252LmZyb21FbmNvZGluZzsKCi8vIExvYWQgb3RoZXIgZW5jb2RpbmdzIGZyb20gZmlsZXMgaW4gL2VuY29kaW5ncyBkaXIuCnZhciBlbmNvZGluZ3NEaXIgPSBfX2Rpcm5hbWUrIi9lbmNvZGluZ3MvIiwKICAgIGZzID0gcmVxdWlyZSgnZnMnKTsKZnMucmVhZGRpclN5bmMoZW5jb2RpbmdzRGlyKS5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHsKICAgIGlmKGZzLnN0YXRTeW5jKGVuY29kaW5nc0RpciArIGZpbGUpLmlzRGlyZWN0b3J5KCkpIHJldHVybjsKICAgIHZhciBlbmNvZGluZ3MgPSByZXF1aXJlKGVuY29kaW5nc0RpciArIGZpbGUpCiAgICBmb3IgKHZhciBrZXkgaW4gZW5jb2RpbmdzKQogICAgICAgIGljb252LmVuY29kaW5nc1trZXldID0gZW5jb2RpbmdzW2tleV0KfSk7CgovLyBVdGlsaXRpZXMKdmFyIGFzY2lpU3RyaW5nID0gJ1x4MDBceDAxXHgwMlx4MDNceDA0XHgwNVx4MDZceDA3XHgwOFx0XG5ceDBiXHgwY1xyXHgwZVx4MGZceDEwXHgxMVx4MTJceDEzXHgxNFx4MTVceDE2XHgxN1x4MThceDE5XHgxYVx4MWJceDFjXHgxZFx4MWVceDFmJysKICAgICAgICAgICAgICAnICEiIyQlJlwnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9flx4N2YnOwoKdmFyIGVuc3VyZUJ1ZmZlciA9IGZ1bmN0aW9uKGJ1ZikgewogICAgYnVmID0gYnVmIHx8IG5ldyBCdWZmZXIoMCk7CiAgICByZXR1cm4gKGJ1ZiBpbnN0YW5jZW9mIEJ1ZmZlcikgPyBidWYgOiBuZXcgQnVmZmVyKGJ1Zi50b1N0cmluZygpLCAidXRmOCIpOwp9Cgp2YXIgZW5zdXJlU3RyaW5nID0gZnVuY3Rpb24oc3RyKSB7CiAgICBzdHIgPSBzdHIgfHwgIiI7CiAgICByZXR1cm4gKHN0ciBpbnN0YW5jZW9mIFN0cmluZykgPyBzdHIgOiBzdHIudG9TdHJpbmcoKHN0ciBpbnN0YW5jZW9mIEJ1ZmZlcikgPyAndXRmOCcgOiB1bmRlZmluZWQpOwp9Cgp2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopLnNsaWNlKDgsIC0xKTsKfQoKCn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9ub2RlX21vZHVsZXMvaHR0cC1icm93c2VyaWZ5L3BhY2thZ2UuanNvbiIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgbW9kdWxlLmV4cG9ydHMgPSB7Im1haW4iOiJpbmRleC5qcyIsImJyb3dzZXJpZnkiOiJicm93c2VyLmpzIn0KfSk7CgpyZXF1aXJlLmRlZmluZSgiL25vZGVfbW9kdWxlcy9odHRwLWJyb3dzZXJpZnkvYnJvd3Nlci5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgdmFyIGh0dHAgPSBtb2R1bGUuZXhwb3J0czsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjsKdmFyIFJlcXVlc3QgPSByZXF1aXJlKCcuL2xpYi9yZXF1ZXN0Jyk7CgpodHRwLnJlcXVlc3QgPSBmdW5jdGlvbiAocGFyYW1zLCBjYikgewogICAgaWYgKCFwYXJhbXMpIHBhcmFtcyA9IHt9OwogICAgaWYgKCFwYXJhbXMuaG9zdCkgcGFyYW1zLmhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdC5zcGxpdCgnOicpWzBdOwogICAgaWYgKCFwYXJhbXMucG9ydCkgcGFyYW1zLnBvcnQgPSB3aW5kb3cubG9jYXRpb24ucG9ydDsKICAgIAogICAgdmFyIHJlcSA9IG5ldyBSZXF1ZXN0KG5ldyB4aHJIdHRwLCBwYXJhbXMpOwogICAgaWYgKGNiKSByZXEub24oJ3Jlc3BvbnNlJywgY2IpOwogICAgcmV0dXJuIHJlcTsKfTsKCmh0dHAuZ2V0ID0gZnVuY3Rpb24gKHBhcmFtcywgY2IpIHsKICAgIHBhcmFtcy5tZXRob2QgPSAnR0VUJzsKICAgIHZhciByZXEgPSBodHRwLnJlcXVlc3QocGFyYW1zLCBjYik7CiAgICByZXEuZW5kKCk7CiAgICByZXR1cm4gcmVxOwp9OwoKdmFyIHhockh0dHAgPSAoZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyB3aW5kb3cgb2JqZWN0IHByZXNlbnQnKTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkgewogICAgICAgIHJldHVybiB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7CiAgICB9CiAgICBlbHNlIGlmICh3aW5kb3cuQWN0aXZlWE9iamVjdCkgewogICAgICAgIHZhciBheHMgPSBbCiAgICAgICAgICAgICdNc3htbDIuWE1MSFRUUC42LjAnLAogICAgICAgICAgICAnTXN4bWwyLlhNTEhUVFAuMy4wJywKICAgICAgICAgICAgJ01pY3Jvc29mdC5YTUxIVFRQJwogICAgICAgIF07CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBheCA9IG5ldyh3aW5kb3cuQWN0aXZlWE9iamVjdCkoYXhzW2ldKTsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGF4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBheF8gPSBheDsKICAgICAgICAgICAgICAgICAgICAgICAgYXggPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhfOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyh3aW5kb3cuQWN0aXZlWE9iamVjdCkoYXhzW2ldKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIChlKSB7fQogICAgICAgIH0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FqYXggbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKQogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhamF4IG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyJyk7CiAgICB9Cn0pKCk7CgpodHRwLlNUQVRVU19DT0RFUyA9IHsKICAgIDEwMCA6ICdDb250aW51ZScsCiAgICAxMDEgOiAnU3dpdGNoaW5nIFByb3RvY29scycsCiAgICAxMDIgOiAnUHJvY2Vzc2luZycsIC8vIFJGQyAyNTE4LCBvYnNvbGV0ZWQgYnkgUkZDIDQ5MTgKICAgIDIwMCA6ICdPSycsCiAgICAyMDEgOiAnQ3JlYXRlZCcsCiAgICAyMDIgOiAnQWNjZXB0ZWQnLAogICAgMjAzIDogJ05vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uJywKICAgIDIwNCA6ICdObyBDb250ZW50JywKICAgIDIwNSA6ICdSZXNldCBDb250ZW50JywKICAgIDIwNiA6ICdQYXJ0aWFsIENvbnRlbnQnLAogICAgMjA3IDogJ011bHRpLVN0YXR1cycsIC8vIFJGQyA0OTE4CiAgICAzMDAgOiAnTXVsdGlwbGUgQ2hvaWNlcycsCiAgICAzMDEgOiAnTW92ZWQgUGVybWFuZW50bHknLAogICAgMzAyIDogJ01vdmVkIFRlbXBvcmFyaWx5JywKICAgIDMwMyA6ICdTZWUgT3RoZXInLAogICAgMzA0IDogJ05vdCBNb2RpZmllZCcsCiAgICAzMDUgOiAnVXNlIFByb3h5JywKICAgIDMwNyA6ICdUZW1wb3JhcnkgUmVkaXJlY3QnLAogICAgNDAwIDogJ0JhZCBSZXF1ZXN0JywKICAgIDQwMSA6ICdVbmF1dGhvcml6ZWQnLAogICAgNDAyIDogJ1BheW1lbnQgUmVxdWlyZWQnLAogICAgNDAzIDogJ0ZvcmJpZGRlbicsCiAgICA0MDQgOiAnTm90IEZvdW5kJywKICAgIDQwNSA6ICdNZXRob2QgTm90IEFsbG93ZWQnLAogICAgNDA2IDogJ05vdCBBY2NlcHRhYmxlJywKICAgIDQwNyA6ICdQcm94eSBBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCcsCiAgICA0MDggOiAnUmVxdWVzdCBUaW1lLW91dCcsCiAgICA0MDkgOiAnQ29uZmxpY3QnLAogICAgNDEwIDogJ0dvbmUnLAogICAgNDExIDogJ0xlbmd0aCBSZXF1aXJlZCcsCiAgICA0MTIgOiAnUHJlY29uZGl0aW9uIEZhaWxlZCcsCiAgICA0MTMgOiAnUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlJywKICAgIDQxNCA6ICdSZXF1ZXN0LVVSSSBUb28gTGFyZ2UnLAogICAgNDE1IDogJ1Vuc3VwcG9ydGVkIE1lZGlhIFR5cGUnLAogICAgNDE2IDogJ1JlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGUnLAogICAgNDE3IDogJ0V4cGVjdGF0aW9uIEZhaWxlZCcsCiAgICA0MTggOiAnSVwnbSBhIHRlYXBvdCcsIC8vIFJGQyAyMzI0CiAgICA0MjIgOiAnVW5wcm9jZXNzYWJsZSBFbnRpdHknLCAvLyBSRkMgNDkxOAogICAgNDIzIDogJ0xvY2tlZCcsIC8vIFJGQyA0OTE4CiAgICA0MjQgOiAnRmFpbGVkIERlcGVuZGVuY3knLCAvLyBSRkMgNDkxOAogICAgNDI1IDogJ1Vub3JkZXJlZCBDb2xsZWN0aW9uJywgLy8gUkZDIDQ5MTgKICAgIDQyNiA6ICdVcGdyYWRlIFJlcXVpcmVkJywgLy8gUkZDIDI4MTcKICAgIDUwMCA6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InLAogICAgNTAxIDogJ05vdCBJbXBsZW1lbnRlZCcsCiAgICA1MDIgOiAnQmFkIEdhdGV3YXknLAogICAgNTAzIDogJ1NlcnZpY2UgVW5hdmFpbGFibGUnLAogICAgNTA0IDogJ0dhdGV3YXkgVGltZS1vdXQnLAogICAgNTA1IDogJ0hUVFAgVmVyc2lvbiBub3Qgc3VwcG9ydGVkJywKICAgIDUwNiA6ICdWYXJpYW50IEFsc28gTmVnb3RpYXRlcycsIC8vIFJGQyAyMjk1CiAgICA1MDcgOiAnSW5zdWZmaWNpZW50IFN0b3JhZ2UnLCAvLyBSRkMgNDkxOAogICAgNTA5IDogJ0JhbmR3aWR0aCBMaW1pdCBFeGNlZWRlZCcsCiAgICA1MTAgOiAnTm90IEV4dGVuZGVkJyAvLyBSRkMgMjc3NAp9OwoKfSk7CgpyZXF1aXJlLmRlZmluZSgiL25vZGVfbW9kdWxlcy9odHRwLWJyb3dzZXJpZnkvbGliL3JlcXVlc3QuanMiLCBmdW5jdGlvbiAocmVxdWlyZSwgbW9kdWxlLCBleHBvcnRzLCBfX2Rpcm5hbWUsIF9fZmlsZW5hbWUpIHsKICAgIHZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7CnZhciBSZXNwb25zZSA9IHJlcXVpcmUoJy4vcmVzcG9uc2UnKTsKdmFyIGlzU2FmZUhlYWRlciA9IHJlcXVpcmUoJy4vaXNTYWZlSGVhZGVyJyk7Cgp2YXIgUmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHhociwgcGFyYW1zKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLnhociA9IHhocjsKICAgIHNlbGYuYm9keSA9ICcnOwogICAgCiAgICB2YXIgdXJpID0gcGFyYW1zLmhvc3QgKyAnOicgKyBwYXJhbXMucG9ydCArIChwYXJhbXMucGF0aCB8fCAnLycpOwogICAgCiAgICB4aHIub3BlbigKICAgICAgICBwYXJhbXMubWV0aG9kIHx8ICdHRVQnLAogICAgICAgIChwYXJhbXMuc2NoZW1lIHx8ICdodHRwJykgKyAnOi8vJyArIHVyaSwKICAgICAgICB0cnVlCiAgICApOwogICAgCiAgICBpZiAocGFyYW1zLmhlYWRlcnMpIHsKICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIGlmICghaXNTYWZlSGVhZGVyKGtleSkpIHJldHVybjsKICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zLmhlYWRlcnNba2V5XTsKICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSkKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgdmFyIHJlcyA9IG5ldyBSZXNwb25zZSh4aHIpOwogICAgcmVzLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmVtaXQoJ3Jlc3BvbnNlJywgcmVzKTsKICAgIH0pOwogICAgCiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJlcy5oYW5kbGUoeGhyKTsKICAgIH07Cn07CgpSZXF1ZXN0LnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXI7CgpSZXF1ZXN0LnByb3RvdHlwZS5zZXRIZWFkZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgaWYgKChBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKQogICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy54aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlW2ldKTsKICAgICAgICB9CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLnhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpOwogICAgfQp9OwoKUmVxdWVzdC5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAocykgewogICAgdGhpcy5ib2R5ICs9IHM7Cn07CgpSZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocykgewogICAgaWYgKHMgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShzKTsKICAgIHRoaXMueGhyLnNlbmQodGhpcy5ib2R5KTsKfTsKCn0pOwoKcmVxdWlyZS5kZWZpbmUoIi9ub2RlX21vZHVsZXMvaHR0cC1icm93c2VyaWZ5L2xpYi9yZXNwb25zZS5qcyIsIGZ1bmN0aW9uIChyZXF1aXJlLCBtb2R1bGUsIGV4cG9ydHMsIF9fZGlybmFtZSwgX19maWxlbmFtZSkgewogICAgdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjsKdmFyIGlzU2FmZUhlYWRlciA9IHJlcXVpcmUoJy4vaXNTYWZlSGVhZGVyJyk7Cgp2YXIgUmVzcG9uc2UgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4aHIpIHsKICAgIHRoaXMueGhyID0geGhyOwogICAgdGhpcy5vZmZzZXQgPSAwOwp9OwoKUmVzcG9uc2UucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcjsKCnZhciBjYXBhYmxlID0gewogICAgc3RyZWFtaW5nIDogdHJ1ZSwKICAgIHN0YXR1czIgOiB0cnVlCn07CgpmdW5jdGlvbiBwYXJzZUhlYWRlcnMgKHhocikgewogICAgdmFyIGxpbmVzID0geGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KC9ccj9cbi8pOwogICAgdmFyIGhlYWRlcnMgPSB7fTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldOwogICAgICAgIGlmIChsaW5lID09PSAnJykgY29udGludWU7CiAgICAgICAgCiAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKC9eKFteOl0rKTpccyooLiopLyk7CiAgICAgICAgaWYgKG0pIHsKICAgICAgICAgICAgdmFyIGtleSA9IG1bMV0udG9Mb3dlckNhc2UoKSwgdmFsdWUgPSBtWzJdOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGhlYWRlcnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBpZiAoKEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShoZWFkZXJzW2tleV0pKQogICAgICAgICAgICAgICAgfHwgaGVhZGVyc1trZXldIGluc3RhbmNlb2YgQXJyYXkpIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW2tleV0ucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW2tleV0gPSBbIGhlYWRlcnNba2V5XSwgdmFsdWUgXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGhlYWRlcnNba2V5XSA9IHZhbHVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBoZWFkZXJzW2xpbmVdID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gaGVhZGVyczsKfQoKUmVzcG9uc2UucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIChrZXkpIHsKICAgIHZhciBoZWFkZXIgPSB0aGlzLmhlYWRlcnMgPyB0aGlzLmhlYWRlcnNba2V5LnRvTG93ZXJDYXNlKCldIDogbnVsbDsKICAgIGlmIChoZWFkZXIpIHJldHVybiBoZWFkZXI7CgogICAgLy8gV29yayBhcm91bmQgTW96aWxsYSBidWcgIzYwODczNSBbaHR0cHM6Ly9idWd6aWwubGEvNjA4NzM1XSwgd2hpY2ggY2F1c2VzCiAgICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB0byByZXR1cm4ge30gaWYgdGhlIHJlc3BvbnNlIGlzIGEgQ09SUyByZXF1ZXN0LgogICAgLy8geGhyLmdldEhlYWRlciBzdGlsbCB3b3JrcyBjb3JyZWN0bHkuCiAgICBpZiAoaXNTYWZlSGVhZGVyKGtleSkpIHsKICAgICAgcmV0dXJuIHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKGtleSk7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKfTsKClJlc3BvbnNlLnByb3RvdHlwZS5oYW5kbGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgeGhyID0gdGhpcy54aHI7CiAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDIgJiYgY2FwYWJsZS5zdGF0dXMyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0geGhyLnN0YXR1czsKICAgICAgICAgICAgdGhpcy5oZWFkZXJzID0gcGFyc2VIZWFkZXJzKHhocik7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgY2FwYWJsZS5zdGF0dXMyID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGlmIChjYXBhYmxlLnN0YXR1czIpIHsKICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWFkeScpOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UgaWYgKGNhcGFibGUuc3RyZWFtaW5nICYmIHhoci5yZWFkeVN0YXRlID09PSAzKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXR1c0NvZGUpIHsKICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHhoci5zdGF0dXM7CiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBwYXJzZUhlYWRlcnMoeGhyKTsKICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgncmVhZHknKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCAoZXJyKSB7fQogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHRoaXMud3JpdGUoKTsKICAgICAgICB9CiAgICAgICAgY2F0Y2ggKGVycikgewogICAgICAgICAgICBjYXBhYmxlLnN0cmVhbWluZyA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c0NvZGUpIHsKICAgICAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0geGhyLnN0YXR1czsKICAgICAgICAgICAgdGhpcy5lbWl0KCdyZWFkeScpOwogICAgICAgIH0KICAgICAgICB0aGlzLndyaXRlKCk7CiAgICAgICAgCiAgICAgICAgaWYgKHhoci5lcnJvcikgewogICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeGhyLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgdGhpcy5lbWl0KCdlbmQnKTsKICAgIH0KfTsKClJlc3BvbnNlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB4aHIgPSB0aGlzLnhocjsKICAgIGlmICh4aHIucmVzcG9uc2VUZXh0Lmxlbmd0aCA+IHRoaXMub2Zmc2V0KSB7CiAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgeGhyLnJlc3BvbnNlVGV4dC5zbGljZSh0aGlzLm9mZnNldCkpOwogICAgICAgIHRoaXMub2Zmc2V0ID0geGhyLnJlc3BvbnNlVGV4dC5sZW5ndGg7CiAgICB9Cn07Cgp9KTsKCnJlcXVpcmUuZGVmaW5lKCIvbm9kZV9tb2R1bGVzL2h0dHAtYnJvd3NlcmlmeS9saWIvaXNTYWZlSGVhZGVyLmpzIiwgZnVuY3Rpb24gKHJlcXVpcmUsIG1vZHVsZSwgZXhwb3J0cywgX19kaXJuYW1lLCBfX2ZpbGVuYW1lKSB7CiAgICAvLyBUYWtlbiBmcm9tIGh0dHA6Ly9keHIubW96aWxsYS5vcmcvbW96aWxsYS9tb3ppbGxhLWNlbnRyYWwvY29udGVudC9iYXNlL3NyYy9uc1hNTEh0dHBSZXF1ZXN0LmNwcC5odG1sCnZhciB1bnNhZmVIZWFkZXJzID0gWwogICAgImFjY2VwdC1jaGFyc2V0IiwKICAgICJhY2NlcHQtZW5jb2RpbmciLAogICAgImFjY2Vzcy1jb250cm9sLXJlcXVlc3QtaGVhZGVycyIsCiAgICAiYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QiLAogICAgImNvbm5lY3Rpb24iLAogICAgImNvbnRlbnQtbGVuZ3RoIiwKICAgICJjb29raWUiLAogICAgImNvb2tpZTIiLAogICAgImNvbnRlbnQtdHJhbnNmZXItZW5jb2RpbmciLAogICAgImRhdGUiLAogICAgImV4cGVjdCIsCiAgICAiaG9zdCIsCiAgICAia2VlcC1hbGl2ZSIsCiAgICAib3JpZ2luIiwKICAgICJyZWZlcmVyIiwKICAgICJzZXQtY29va2llIiwKICAgICJ0ZSIsCiAgICAidHJhaWxlciIsCiAgICAidHJhbnNmZXItZW5jb2RpbmciLAogICAgInVwZ3JhZGUiLAogICAgInVzZXItYWdlbnQiLAogICAgInZpYSIKXTsKCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGhlYWRlck5hbWUpIHsKICAgIGlmICghaGVhZGVyTmFtZSkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuICh1bnNhZmVIZWFkZXJzLmluZGV4T2YoaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpCn07Cgp9KTsKCnJlcXVpcmUuYWxpYXMoImh0dHAtYnJvd3NlcmlmeSIsICIvbm9kZV9tb2R1bGVzL2h0dHAiKTsKCnJlcXVpcmUuYWxpYXMoImh0dHAtYnJvd3NlcmlmeSIsICIvbm9kZV9tb2R1bGVzL2h0dHBzIik7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887793" offset="0" length="13800" />
          <PacketInfo time="2972887824" offset="13800" length="5520" />
          <PacketInfo time="2972887824" offset="19320" length="6020" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="130" hostname="10.239.251.82" path="/swagger-static/lib/jquery-1.8.0.min.js" url="http://10.239.251.82:8080/swagger-static/lib/jquery-1.8.0.min.js" ip="10.239.251.82" port="8080" connectionId="10" origin="HTML" frame="1" startTime="2972887699" endTime="2972887793">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvanF1ZXJ5LTEuOC4wLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogMTAuMjM5LjI1MS44Mjo4MDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpBY2NlcHQ6ICovKg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2DQpSZWZlcmVyOiBodHRwOi8vMTAuMjM5LjI1MS44Mjo4MDgwL3N3YWdnZXINCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgc2RjaA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ImY4YjliYzFiMTQ0OTUzMTE4ODAwNDM2NTBiMTk5NTg3LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Transfer-Encoding" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2h1bmtlZA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiZjhiOWJjMWIxNDQ5NTMxMTg4MDA0MzY1MGIxOTk1ODctLWd6aXAiDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyohIGpRdWVyeSB2QDEuOC4wIGpxdWVyeS5jb20gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8NCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIEcoYSl7dmFyIGI9RlthXT17fTtyZXR1cm4gcC5lYWNoKGEuc3BsaXQocyksZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1mdW5jdGlvbiBKKGEsYyxkKXtpZihkPT09YiYmYS5ub2RlVHlwZT09PTEpe3ZhciBlPSJkYXRhLSIrYy5yZXBsYWNlKEksIi0kMSIpLnRvTG93ZXJDYXNlKCk7ZD1hLmdldEF0dHJpYnV0ZShlKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOitkKyIiPT09ZD8rZDpILnRlc3QoZCk/cC5wYXJzZUpTT04oZCk6ZH1jYXRjaChmKXt9cC5kYXRhKGEsYyxkKX1lbHNlIGQ9Yn1yZXR1cm4gZH1mdW5jdGlvbiBLKGEpe3ZhciBiO2ZvcihiIGluIGEpe2lmKGI9PT0iZGF0YSImJnAuaXNFbXB0eU9iamVjdChhW2JdKSljb250aW51ZTtpZihiIT09InRvSlNPTiIpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gYmEoKXtyZXR1cm4hMX1mdW5jdGlvbiBiYigpe3JldHVybiEwfWZ1bmN0aW9uIGJoKGEpe3JldHVybiFhfHwhYS5wYXJlbnROb2RlfHxhLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMX1mdW5jdGlvbiBiaShhLGIpe2RvIGE9YVtiXTt3aGlsZShhJiZhLm5vZGVUeXBlIT09MSk7cmV0dXJuIGF9ZnVuY3Rpb24gYmooYSxiLGMpe2I9Ynx8MDtpZihwLmlzRnVuY3Rpb24oYikpcmV0dXJuIHAuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7dmFyIGU9ISFiLmNhbGwoYSxkLGEpO3JldHVybiBlPT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIHAuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGE9PT1iPT09Y30pO2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7dmFyIGQ9cC5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT0xfSk7aWYoYmUudGVzdChiKSlyZXR1cm4gcC5maWx0ZXIoYixkLCFjKTtiPXAuZmlsdGVyKGIsZCl9cmV0dXJuIHAuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIHAuaW5BcnJheShhLGIpPj0wPT09Y30pfWZ1bmN0aW9uIGJrKGEpe3ZhciBiPWJsLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfWZ1bmN0aW9uIGJDKGEsYil7cmV0dXJuIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYikpfWZ1bmN0aW9uIGJEKGEsYil7aWYoYi5ub2RlVHlwZSE9PTF8fCFwLmhhc0RhdGEoYSkpcmV0dXJuO3ZhciBjLGQsZSxmPXAuX2RhdGEoYSksZz1wLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZDxlO2QrKylwLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPXAuZXh0ZW5kKHt9LGcuZGF0YSkpfWZ1bmN0aW9uIGJFKGEsYil7dmFyIGM7aWYoYi5ub2RlVHlwZSE9PTEpcmV0dXJuO2IuY2xlYXJBdHRyaWJ1dGVzJiZiLmNsZWFyQXR0cmlidXRlcygpLGIubWVyZ2VBdHRyaWJ1dGVzJiZiLm1lcmdlQXR0cmlidXRlcyhhKSxjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxjPT09Im9iamVjdCI/KGIucGFyZW50Tm9kZSYmKGIub3V0ZXJIVE1MPWEub3V0ZXJIVE1MKSxwLnN1cHBvcnQuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFwLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKTpjPT09ImlucHV0IiYmYnYudGVzdChhLnR5cGUpPyhiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQsYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpKTpjPT09Im9wdGlvbiI/Yi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDpjPT09ImlucHV0Inx8Yz09PSJ0ZXh0YXJlYSI/Yi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWU6Yz09PSJzY3JpcHQiJiZiLnRleHQhPT1hLnRleHQmJihiLnRleHQ9YS50ZXh0KSxiLnJlbW92ZUF0dHJpYnV0ZShwLmV4cGFuZG8pfWZ1bmN0aW9uIGJGKGEpe3JldHVybiB0eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCI/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOnR5cGVvZiBhLnF1ZXJ5U2VsZWN0b3JBbGwhPSJ1bmRlZmluZWQiP2EucXVlcnlTZWxlY3RvckFsbCgiKiIpOltdfWZ1bmN0aW9uIGJHKGEpe2J2LnRlc3QoYS50eXBlKSYmKGEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkKX1mdW5jdGlvbiBiWChhLGIpe2lmKGIgaW4gYSlyZXR1cm4gYjt2YXIgYz1iLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD1iLGU9YlYubGVuZ3RoO3doaWxlKGUtLSl7Yj1iVltlXStjO2lmKGIgaW4gYSlyZXR1cm4gYn1yZXR1cm4gZH1mdW5jdGlvbiBiWShhLGIpe3JldHVybiBhPWJ8fGEscC5jc3MoYSwiZGlzcGxheSIpPT09Im5vbmUifHwhcC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9ZnVuY3Rpb24gYlooYSxiKXt2YXIgYyxkLGU9W10sZj0wLGc9YS5sZW5ndGg7Zm9yKDtmPGc7ZisrKXtjPWFbZl07aWYoIWMuc3R5bGUpY29udGludWU7ZVtmXT1wLl9kYXRhKGMsIm9sZGRpc3BsYXkiKSxiPyghZVtmXSYmYy5zdHlsZS5kaXNwbGF5PT09Im5vbmUiJiYoYy5zdHlsZS5kaXNwbGF5PSIiKSxjLnN0eWxlLmRpc3BsYXk9PT0iIiYmYlkoYykmJihlW2ZdPXAuX2RhdGEoYywib2xkZGlzcGxheSIsY2IoYy5ub2RlTmFtZSkpKSk6KGQ9YkgoYywiZGlzcGxheSIpLCFlW2ZdJiZkIT09Im5vbmUiJiZwLl9kYXRhKGMsIm9sZGRpc3BsYXkiLGQpKX1mb3IoZj0wO2Y8ZztmKyspe2M9YVtmXTtpZighYy5zdHlsZSljb250aW51ZTtpZighYnx8Yy5zdHlsZS5kaXNwbGF5PT09Im5vbmUifHxjLnN0eWxlLmRpc3BsYXk9PT0iIiljLnN0eWxlLmRpc3BsYXk9Yj9lW2ZdfHwiIjoibm9uZSJ9cmV0dXJuIGF9ZnVuY3Rpb24gYiQoYSxiLGMpe3ZhciBkPWJPLmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzFdLShjfHwwKSkrKGRbMl18fCJweCIpOmJ9ZnVuY3Rpb24gYl8oYSxiLGMsZCl7dmFyIGU9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDpiPT09IndpZHRoIj8xOjAsZj0wO2Zvcig7ZTw0O2UrPTIpYz09PSJtYXJnaW4iJiYoZis9cC5jc3MoYSxjK2JVW2VdLCEwKSksZD8oYz09PSJjb250ZW50IiYmKGYtPXBhcnNlRmxvYXQoYkgoYSwicGFkZGluZyIrYlVbZV0pKXx8MCksYyE9PSJtYXJnaW4iJiYoZi09cGFyc2VGbG9hdChiSChhLCJib3JkZXIiK2JVW2VdKyJXaWR0aCIpKXx8MCkpOihmKz1wYXJzZUZsb2F0KGJIKGEsInBhZGRpbmciK2JVW2VdKSl8fDAsYyE9PSJwYWRkaW5nIiYmKGYrPXBhcnNlRmxvYXQoYkgoYSwiYm9yZGVyIitiVVtlXSsiV2lkdGgiKSl8fDApKTtyZXR1cm4gZn1mdW5jdGlvbiBjYShhLGIsYyl7dmFyIGQ9Yj09PSJ3aWR0aCI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxlPSEwLGY9cC5zdXBwb3J0LmJveFNpemluZyYmcC5jc3MoYSwiYm94U2l6aW5nIik9PT0iYm9yZGVyLWJveCI7aWYoZDw9MCl7ZD1iSChhLGIpO2lmKGQ8MHx8ZD09bnVsbClkPWEuc3R5bGVbYl07aWYoYlAudGVzdChkKSlyZXR1cm4gZDtlPWYmJihwLnN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGV8fGQ9PT1hLnN0eWxlW2JdKSxkPXBhcnNlRmxvYXQoZCl8fDB9cmV0dXJuIGQrYl8oYSxiLGN8fChmPyJib3JkZXIiOiJjb250ZW50IiksZSkrInB4In1mdW5jdGlvbiBjYihhKXtpZihiUlthXSlyZXR1cm4gYlJbYV07dmFyIGI9cCgiPCIrYSsiPiIpLmFwcGVuZFRvKGUuYm9keSksYz1iLmNzcygiZGlzcGxheSIpO2IucmVtb3ZlKCk7aWYoYz09PSJub25lInx8Yz09PSIiKXtiST1lLmJvZHkuYXBwZW5kQ2hpbGQoYkl8fHAuZXh0ZW5kKGUuY3JlYXRlRWxlbWVudCgiaWZyYW1lIikse2ZyYW1lQm9yZGVyOjAsd2lkdGg6MCxoZWlnaHQ6MH0pKTtpZighYkp8fCFiSS5jcmVhdGVFbGVtZW50KWJKPShiSS5jb250ZW50V2luZG93fHxiSS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGJKLndyaXRlKCI8IWRvY3R5cGUgaHRtbD48aHRtbD48Ym9keT4iKSxiSi5jbG9zZSgpO2I9YkouYm9keS5hcHBlbmRDaGlsZChiSi5jcmVhdGVFbGVtZW50KGEpKSxjPWJIKGIsImRpc3BsYXkiKSxlLmJvZHkucmVtb3ZlQ2hpbGQoYkkpfXJldHVybiBiUlthXT1jLGN9ZnVuY3Rpb24gY2goYSxiLGMsZCl7dmFyIGU7aWYocC5pc0FycmF5KGIpKXAuZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8Y2QudGVzdChhKT9kKGEsZSk6Y2goYSsiWyIrKHR5cGVvZiBlPT0ib2JqZWN0Ij9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZighYyYmcC50eXBlKGIpPT09Im9iamVjdCIpZm9yKGUgaW4gYiljaChhKyJbIitlKyJdIixiW2VdLGMsZCk7ZWxzZSBkKGEsYil9ZnVuY3Rpb24gY3koYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dHlwZW9mIGIhPSJzdHJpbmciJiYoYz1iLGI9IioiKTt2YXIgZCxlLGYsZz1iLnRvTG93ZXJDYXNlKCkuc3BsaXQocyksaD0wLGk9Zy5sZW5ndGg7aWYocC5pc0Z1bmN0aW9uKGMpKWZvcig7aDxpO2grKylkPWdbaF0sZj0vXlwrLy50ZXN0KGQpLGYmJihkPWQuc3Vic3RyKDEpfHwiKiIpLGU9YVtkXT1hW2RdfHxbXSxlW2Y/InVuc2hpZnQiOiJwdXNoIl0oYyl9fWZ1bmN0aW9uIGN6KGEsYyxkLGUsZixnKXtmPWZ8fGMuZGF0YVR5cGVzWzBdLGc9Z3x8e30sZ1tmXT0hMDt2YXIgaCxpPWFbZl0saj0wLGs9aT9pLmxlbmd0aDowLGw9YT09PWN1O2Zvcig7ajxrJiYobHx8IWgpO2orKyloPWlbal0oYyxkLGUpLHR5cGVvZiBoPT0ic3RyaW5nIiYmKCFsfHxnW2hdP2g9YjooYy5kYXRhVHlwZXMudW5zaGlmdChoKSxoPWN6KGEsYyxkLGUsaCxnKSkpO3JldHVybihsfHwhaCkmJiFnWyIqIl0mJihoPWN6KGEsYyxkLGUsIioiLGcpKSxofWZ1bmN0aW9uIGNBKGEsYyl7dmFyIGQsZSxmPXAuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoZCBpbiBjKWNbZF0hPT1iJiYoKGZbZF0/YTplfHwoZT17fSkpW2RdPWNbZF0pO2UmJnAuZXh0ZW5kKCEwLGEsZSl9ZnVuY3Rpb24gY0IoYSxjLGQpe3ZhciBlLGYsZyxoLGk9YS5jb250ZW50cyxqPWEuZGF0YVR5cGVzLGs9YS5yZXNwb25zZUZpZWxkcztmb3IoZiBpbiBrKWYgaW4gZCYmKGNba1tmXV09ZFtmXSk7d2hpbGUoalswXT09PSIqIilqLnNoaWZ0KCksZT09PWImJihlPWEubWltZVR5cGV8fGMuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKTtpZihlKWZvcihmIGluIGkpaWYoaVtmXSYmaVtmXS50ZXN0KGUpKXtqLnVuc2hpZnQoZik7YnJlYWt9aWYoalswXWluIGQpZz1qWzBdO2Vsc2V7Zm9yKGYgaW4gZCl7aWYoIWpbMF18fGEuY29udmVydGVyc1tmKyIgIitqWzBdXSl7Zz1mO2JyZWFrfWh8fChoPWYpfWc9Z3x8aH1pZihnKXJldHVybiBnIT09alswXSYmai51bnNoaWZ0KGcpLGRbZ119ZnVuY3Rpb24gY0MoYSxiKXt2YXIgYyxkLGUsZixnPWEuZGF0YVR5cGVzLnNsaWNlKCksaD1nWzBdLGk9e30saj0wO2EuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpO2lmKGdbMV0pZm9yKGMgaW4gYS5jb252ZXJ0ZXJzKWlbYy50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbY107Zm9yKDtlPWdbKytqXTspaWYoZSE9PSIqIil7aWYoaCE9PSIqIiYmaCE9PWUpe2M9aVtoKyIgIitlXXx8aVsiKiAiK2VdO2lmKCFjKWZvcihkIGluIGkpe2Y9ZC5zcGxpdCgiICIpO2lmKGZbMV09PT1lKXtjPWlbaCsiICIrZlswXV18fGlbIiogIitmWzBdXTtpZihjKXtjPT09ITA/Yz1pW2RdOmlbZF0hPT0hMCYmKGU9ZlswXSxnLnNwbGljZShqLS0sMCxlKSk7YnJlYWt9fX1pZihjIT09ITApaWYoYyYmYVsidGhyb3dzIl0pYj1jKGIpO2Vsc2UgdHJ5e2I9YyhiKX1jYXRjaChrKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpjP2s6Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2grIiB0byAiK2V9fX1oPWV9cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOmJ9fWZ1bmN0aW9uIGNLKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fWZ1bmN0aW9uIGNMKCl7dHJ5e3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfWNhdGNoKGIpe319ZnVuY3Rpb24gY1QoKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2NNPWJ9LDApLGNNPXAubm93KCl9ZnVuY3Rpb24gY1UoYSxiKXtwLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPShjU1tiXXx8W10pLmNvbmNhdChjU1siKiJdKSxlPTAsZj1kLmxlbmd0aDtmb3IoO2U8ZjtlKyspaWYoZFtlXS5jYWxsKGEsYixjKSlyZXR1cm59KX1mdW5jdGlvbiBjVihhLGIsYyl7dmFyIGQsZT0wLGY9MCxnPWNSLmxlbmd0aCxoPXAuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe3ZhciBiPWNNfHxjVCgpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9MS0oYy9qLmR1cmF0aW9ufHwwKSxlPTAsZj1qLnR3ZWVucy5sZW5ndGg7Zm9yKDtlPGY7ZSsrKWoudHdlZW5zW2VdLnJ1bihkKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZCxjXSksZDwxJiZmP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpwLmV4dGVuZCh7fSxiKSxvcHRzOnAuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6Y018fGNUKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXAuVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChlKSxlfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2Zvcig7YzxkO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Y1coayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zm9yKDtlPGc7ZSsrKXtkPWNSW2VdLmNhbGwoaixhLGssai5vcHRzKTtpZihkKXJldHVybiBkfXJldHVybiBjVShqLGspLHAuaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLHAuZngudGltZXIocC5leHRlbmQoaSx7YW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZSxlbGVtOmF9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gY1coYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpe2Q9cC5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxwLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPXAuY3NzSG9va3NbZF07aWYoZyYmImV4cGFuZCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9fWZ1bmN0aW9uIGNYKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGw9dGhpcyxtPWEuc3R5bGUsbj17fSxvPVtdLHE9YS5ub2RlVHlwZSYmYlkoYSk7Yy5xdWV1ZXx8KGo9cC5fcXVldWVIb29rcyhhLCJmeCIpLGoudW5xdWV1ZWQ9PW51bGwmJihqLnVucXVldWVkPTAsaz1qLmVtcHR5LmZpcmUsai5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7ai51bnF1ZXVlZHx8aygpfSksai51bnF1ZXVlZCsrLGwuYWx3YXlzKGZ1bmN0aW9uKCl7bC5hbHdheXMoZnVuY3Rpb24oKXtqLnVucXVldWVkLS0scC5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8ai5lbXB0eS5maXJlKCl9KX0pKSxhLm5vZGVUeXBlPT09MSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bbS5vdmVyZmxvdyxtLm92ZXJmbG93WCxtLm92ZXJmbG93WV0scC5jc3MoYSwiZGlzcGxheSIpPT09ImlubGluZSImJnAuY3NzKGEsImZsb2F0Iik9PT0ibm9uZSImJighcC5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXR8fGNiKGEubm9kZU5hbWUpPT09ImlubGluZSI/bS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siOm0uem9vbT0xKSksYy5vdmVyZmxvdyYmKG0ub3ZlcmZsb3c9ImhpZGRlbiIscC5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3N8fGwuZG9uZShmdW5jdGlvbigpe20ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxtLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG0ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGQgaW4gYil7Zj1iW2RdO2lmKGNPLmV4ZWMoZikpe2RlbGV0ZSBiW2RdO2lmKGY9PT0ocT8iaGlkZSI6InNob3ciKSljb250aW51ZTtvLnB1c2goZCl9fWc9by5sZW5ndGg7aWYoZyl7aD1wLl9kYXRhKGEsImZ4c2hvdyIpfHxwLl9kYXRhKGEsImZ4c2hvdyIse30pLHE/cChhKS5zaG93KCk6bC5kb25lKGZ1bmN0aW9uKCl7cChhKS5oaWRlKCl9KSxsLmRvbmUoZnVuY3Rpb24oKXt2YXIgYjtwLnJlbW92ZURhdGEoYSwiZnhzaG93IiwhMCk7Zm9yKGIgaW4gbilwLnN0eWxlKGEsYixuW2JdKX0pO2ZvcihkPTA7ZDxnO2QrKyllPW9bZF0saT1sLmNyZWF0ZVR3ZWVuKGUscT9oW2VdOjApLG5bZV09aFtlXXx8cC5zdHlsZShhLGUpLGUgaW4gaHx8KGhbZV09aS5zdGFydCxxJiYoaS5lbmQ9aS5zdGFydCxpLnN0YXJ0PWU9PT0id2lkdGgifHxlPT09ImhlaWdodCI/MTowKSl9fWZ1bmN0aW9uIGNZKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBjWS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfWZ1bmN0aW9uIGNaKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoO2U8NDtlKz0yLWIpYz1iVVtlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIGNfKGEpe3JldHVybiBwLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9dmFyIGMsZCxlPWEuZG9jdW1lbnQsZj1hLmxvY2F0aW9uLGc9YS5uYXZpZ2F0b3IsaD1hLmpRdWVyeSxpPWEuJCxqPUFycmF5LnByb3RvdHlwZS5wdXNoLGs9QXJyYXkucHJvdG90eXBlLnNsaWNlLGw9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsbT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxvPVN0cmluZy5wcm90b3R5cGUudHJpbSxwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBwLmZuLmluaXQoYSxiLGMpfSxxPS9bXC0rXT8oPzpcZCpcLnwpXGQrKD86W2VFXVtcLStdP1xkK3wpLy5zb3VyY2Uscj0vXFMvLHM9L1xzKy8sdD1yLnRlc3QoIsKgIik/L15bXHNceEEwXSt8W1xzXHhBMF0rJC9nOi9eXHMrfFxzKyQvZyx1PS9eKD86W14jPF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyx2PS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sdz0vXltcXSw6e31cc10qJC8seD0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHk9L1xcKD86WyJcXFwvYmZucnRdfHVbXGRhLWZBLUZdezR9KS9nLHo9LyJbXiJcXFxyXG5dKiJ8dHJ1ZXxmYWxzZXxudWxsfC0/KD86XGRcZCpcLnwpXGQrKD86W2VFXVtcLStdP1xkK3wpL2csQT0vXi1tcy0vLEI9Ly0oW1xkYS16XSkvZ2ksQz1mdW5jdGlvbihhLGIpe3JldHVybihiKyIiKS50b1VwcGVyQ2FzZSgpfSxEPWZ1bmN0aW9uKCl7ZS5hZGRFdmVudExpc3RlbmVyPyhlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEQsITEpLHAucmVhZHkoKSk6ZS5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGUuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsRCkscC5yZWFkeSgpKX0sRT17fTtwLmZuPXAucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpwLGluaXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGcsaCxpO2lmKCFhKXJldHVybiB0aGlzO2lmKGEubm9kZVR5cGUpcmV0dXJuIHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzO2lmKHR5cGVvZiBhPT0ic3RyaW5nIil7YS5jaGFyQXQoMCk9PT0iPCImJmEuY2hhckF0KGEubGVuZ3RoLTEpPT09Ij4iJiZhLmxlbmd0aD49Mz9mPVtudWxsLGEsbnVsbF06Zj11LmV4ZWMoYSk7aWYoZiYmKGZbMV18fCFjKSl7aWYoZlsxXSlyZXR1cm4gYz1jIGluc3RhbmNlb2YgcD9jWzBdOmMsaT1jJiZjLm5vZGVUeXBlP2Mub3duZXJEb2N1bWVudHx8YzplLGE9cC5wYXJzZUhUTUwoZlsxXSxpLCEwKSx2LnRlc3QoZlsxXSkmJnAuaXNQbGFpbk9iamVjdChjKSYmdGhpcy5hdHRyLmNhbGwoYSxjLCEwKSxwLm1lcmdlKHRoaXMsYSk7Zz1lLmdldEVsZW1lbnRCeUlkKGZbMl0pO2lmKGcmJmcucGFyZW50Tm9kZSl7aWYoZy5pZCE9PWZbMl0pcmV0dXJuIGQuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09Z31yZXR1cm4gdGhpcy5jb250ZXh0PWUsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIWN8fGMuanF1ZXJ5PyhjfHxkKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYykuZmluZChhKX1yZXR1cm4gcC5pc0Z1bmN0aW9uKGEpP2QucmVhZHkoYSk6KGEuc2VsZWN0b3IhPT1iJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLHAubWFrZUFycmF5KGEsdGhpcykpfSxzZWxlY3RvcjoiIixqcXVlcnk6IjEuOC4wIixsZW5ndGg6MCxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP3RoaXMudG9BcnJheSgpOmE8MD90aGlzW3RoaXMubGVuZ3RoK2FdOnRoaXNbYV19LHB1c2hTdGFjazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9cC5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYSk7cmV0dXJuIGQucHJldk9iamVjdD10aGlzLGQuY29udGV4dD10aGlzLmNvbnRleHQsYj09PSJmaW5kIj9kLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrKHRoaXMuc2VsZWN0b3I/IiAiOiIiKStjOmImJihkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK2IrIigiK2MrIikiKSxkfSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHAuZWFjaCh0aGlzLGEsYil9LHJlYWR5OmZ1bmN0aW9uKGEpe3JldHVybiBwLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3JldHVybiBhPSthLGE9PT0tMT90aGlzLnNsaWNlKGEpOnRoaXMuc2xpY2UoYSxhKzEpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwic2xpY2UiLGsuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socC5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmosc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LHAuZm4uaW5pdC5wcm90b3R5cGU9cC5mbixwLmV4dGVuZD1wLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGMsZCxlLGYsZyxoPWFyZ3VtZW50c1swXXx8e30saT0xLGo9YXJndW1lbnRzLmxlbmd0aCxrPSExO3R5cGVvZiBoPT0iYm9vbGVhbiImJihrPWgsaD1hcmd1bWVudHNbMV18fHt9LGk9MiksdHlwZW9mIGghPSJvYmplY3QiJiYhcC5pc0Z1bmN0aW9uKGgpJiYoaD17fSksaj09PWkmJihoPXRoaXMsLS1pKTtmb3IoO2k8ajtpKyspaWYoKGE9YXJndW1lbnRzW2ldKSE9bnVsbClmb3IoYyBpbiBhKXtkPWhbY10sZT1hW2NdO2lmKGg9PT1lKWNvbnRpbnVlO2smJmUmJihwLmlzUGxhaW5PYmplY3QoZSl8fChmPXAuaXNBcnJheShlKSkpPyhmPyhmPSExLGc9ZCYmcC5pc0FycmF5KGQpP2Q6W10pOmc9ZCYmcC5pc1BsYWluT2JqZWN0KGQpP2Q6e30saFtjXT1wLmV4dGVuZChrLGcsZSkpOmUhPT1iJiYoaFtjXT1lKX1yZXR1cm4gaH0scC5leHRlbmQoe25vQ29uZmxpY3Q6ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PXAmJihhLiQ9aSksYiYmYS5qUXVlcnk9PT1wJiYoYS5qUXVlcnk9aCkscH0saXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9wLnJlYWR5V2FpdCsrOnAucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXtpZihhPT09ITA/LS1wLnJlYWR5V2FpdDpwLmlzUmVhZHkpcmV0dXJuO2lmKCFlLmJvZHkpcmV0dXJuIHNldFRpbWVvdXQocC5yZWFkeSwxKTtwLmlzUmVhZHk9ITA7aWYoYSE9PSEwJiYtLXAucmVhZHlXYWl0PjApcmV0dXJuO2QucmVzb2x2ZVdpdGgoZSxbcF0pLHAuZm4udHJpZ2dlciYmcChlKS50cmlnZ2VyKCJyZWFkeSIpLm9mZigicmVhZHkiKX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gcC50eXBlKGEpPT09ImZ1bmN0aW9uIn0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gcC50eXBlKGEpPT09ImFycmF5In0saXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPW51bGwmJmE9PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoYSkpJiZpc0Zpbml0ZShhKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD9TdHJpbmcoYSk6RVttLmNhbGwoYSldfHwib2JqZWN0In0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXtpZighYXx8cC50eXBlKGEpIT09Im9iamVjdCJ8fGEubm9kZVR5cGV8fHAuaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFuLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIW4uY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfXZhciBkO2ZvcihkIGluIGEpO3JldHVybiBkPT09Ynx8bi5jYWxsKGEsZCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxwYXJzZUhUTUw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiFhfHx0eXBlb2YgYSE9InN0cmluZyI/bnVsbDoodHlwZW9mIGI9PSJib29sZWFuIiYmKGM9YixiPTApLGI9Ynx8ZSwoZD12LmV4ZWMoYSkpP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPXAuYnVpbGRGcmFnbWVudChbYV0sYixjP251bGw6W10pLHAubWVyZ2UoW10sKGQuY2FjaGVhYmxlP3AuY2xvbmUoZC5mcmFnbWVudCk6ZC5mcmFnbWVudCkuY2hpbGROb2RlcykpKX0scGFyc2VKU09OOmZ1bmN0aW9uKGIpe2lmKCFifHx0eXBlb2YgYiE9InN0cmluZyIpcmV0dXJuIG51bGw7Yj1wLnRyaW0oYik7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKTtpZih3LnRlc3QoYi5yZXBsYWNlKHksIkAiKS5yZXBsYWNlKHosIl0iKS5yZXBsYWNlKHgsIiIpKSlyZXR1cm4obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitiKSkoKTtwLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LHBhcnNlWE1MOmZ1bmN0aW9uKGMpe3ZhciBkLGU7aWYoIWN8fHR5cGVvZiBjIT0ic3RyaW5nIilyZXR1cm4gbnVsbDt0cnl7YS5ET01QYXJzZXI/KGU9bmV3IERPTVBhcnNlcixkPWUucGFyc2VGcm9tU3RyaW5nKGMsInRleHQveG1sIikpOihkPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksZC5hc3luYz0iZmFsc2UiLGQubG9hZFhNTChjKSl9Y2F0Y2goZil7ZD1ifXJldHVybighZHx8IWQuZG9jdW1lbnRFbGVtZW50fHxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aCkmJnAuZXJyb3IoIkludmFsaWQgWE1MOiAiK2MpLGR9LG5vb3A6ZnVuY3Rpb24oKXt9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYil7YiYmci50ZXN0KGIpJiYoYS5leGVjU2NyaXB0fHxmdW5jdGlvbihiKXthLmV2YWwuY2FsbChhLGIpfSkoYil9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKEEsIm1zLSIpLnJlcGxhY2UoQixDKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT09Yi50b1VwcGVyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxmPTAsZz1hLmxlbmd0aCxoPWc9PT1ifHxwLmlzRnVuY3Rpb24oYSk7aWYoZCl7aWYoaCl7Zm9yKGUgaW4gYSlpZihjLmFwcGx5KGFbZV0sZCk9PT0hMSlicmVha31lbHNlIGZvcig7ZjxnOylpZihjLmFwcGx5KGFbZisrXSxkKT09PSExKWJyZWFrfWVsc2UgaWYoaCl7Zm9yKGUgaW4gYSlpZihjLmNhbGwoYVtlXSxlLGFbZV0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2Y8ZzspaWYoYy5jYWxsKGFbZl0sZixhW2YrK10pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06bz9mdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjpvLmNhbGwoYSl9OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOmEudG9TdHJpbmcoKS5yZXBsYWNlKHQsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWJ8fFtdO3JldHVybiBhIT1udWxsJiYoYz1wLnR5cGUoYSksYS5sZW5ndGg9PW51bGx8fGM9PT0ic3RyaW5nInx8Yz09PSJmdW5jdGlvbiJ8fGM9PT0icmVnZXhwInx8cC5pc1dpbmRvdyhhKT9qLmNhbGwoZCxhKTpwLm1lcmdlKGQsYSkpLGR9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGwpcmV0dXJuIGwuY2FsbChiLGEsYyk7ZD1iLmxlbmd0aCxjPWM/YzwwP01hdGgubWF4KDAsZCtjKTpjOjA7Zm9yKDtjPGQ7YysrKWlmKGMgaW4gYiYmYltjXT09PWEpcmV0dXJuIGN9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy5sZW5ndGgsZT1hLmxlbmd0aCxmPTA7aWYodHlwZW9mIGQ9PSJudW1iZXIiKWZvcig7ZjxkO2YrKylhW2UrK109Y1tmXTtlbHNlIHdoaWxlKGNbZl0hPT1iKWFbZSsrXT1jW2YrK107cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aDtjPSEhYztmb3IoO2Y8ZztmKyspZD0hIWIoYVtmXSxmKSxjIT09ZCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPWEgaW5zdGFuY2VvZiBwfHxpIT09YiYmdHlwZW9mIGk9PSJudW1iZXIiJiYoaT4wJiZhWzBdJiZhW2ktMV18fGk9PT0wfHxwLmlzQXJyYXkoYSkpO2lmKGopZm9yKDtoPGk7aCsrKWU9YyhhW2hdLGgsZCksZSE9bnVsbCYmKGdbZy5sZW5ndGhdPWUpO2Vsc2UgZm9yKGYgaW4gYSllPWMoYVtmXSxmLGQpLGUhPW51bGwmJihnW2cubGVuZ3RoXT1lKTtyZXR1cm4gZy5jb25jYXQuYXBwbHkoW10sZyl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGMpe3ZhciBkLGUsZjtyZXR1cm4gdHlwZW9mIGM9PSJzdHJpbmciJiYoZD1hW2NdLGM9YSxhPWQpLHAuaXNGdW5jdGlvbihhKT8oZT1rLmNhbGwoYXJndW1lbnRzLDIpLGY9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShjLGUuY29uY2F0KGsuY2FsbChhcmd1bWVudHMpKSl9LGYuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxmLmd1aWR8fHAuZ3VpZCsrLGYpOmJ9LGFjY2VzczpmdW5jdGlvbihhLGMsZCxlLGYsZyxoKXt2YXIgaSxqPWQ9PW51bGwsaz0wLGw9YS5sZW5ndGg7aWYoZCYmdHlwZW9mIGQ9PSJvYmplY3QiKXtmb3IoayBpbiBkKXAuYWNjZXNzKGEsYyxrLGRba10sMSxnLGUpO2Y9MX1lbHNlIGlmKGUhPT1iKXtpPWg9PT1iJiZwLmlzRnVuY3Rpb24oZSksaiYmKGk/KGk9YyxjPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gaS5jYWxsKHAoYSksYyl9KTooYy5jYWxsKGEsZSksYz1udWxsKSk7aWYoYylmb3IoO2s8bDtrKyspYyhhW2tdLGQsaT9lLmNhbGwoYVtrXSxrLGMoYVtrXSxkKSk6ZSxoKTtmPTF9cmV0dXJuIGY/YTpqP2MuY2FsbChhKTpsP2MoYVswXSxkKTpnfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KSxwLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIWQpe2Q9cC5EZWZlcnJlZCgpO2lmKGUucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSJ8fGUucmVhZHlTdGF0ZSE9PSJsb2FkaW5nIiYmZS5hZGRFdmVudExpc3RlbmVyKXNldFRpbWVvdXQocC5yZWFkeSwxKTtlbHNlIGlmKGUuYWRkRXZlbnRMaXN0ZW5lcillLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEQsITEpLGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIscC5yZWFkeSwhMSk7ZWxzZXtlLmF0dGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEQpLGEuYXR0YWNoRXZlbnQoIm9ubG9hZCIscC5yZWFkeSk7dmFyIGM9ITE7dHJ5e2M9YS5mcmFtZUVsZW1lbnQ9PW51bGwmJmUuZG9jdW1lbnRFbGVtZW50fWNhdGNoKGYpe31jJiZjLmRvU2Nyb2xsJiZmdW5jdGlvbiBnKCl7aWYoIXAuaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChhKXtyZXR1cm4gc2V0VGltZW91dChnLDUwKX1wLnJlYWR5KCl9fSgpfX1yZXR1cm4gZC5wcm9taXNlKGIpfSxwLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtFWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pLGM9cChlKTt2YXIgRj17fTtwLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPXR5cGVvZiBhPT0ic3RyaW5nIj9GW2FdfHxHKGEpOnAuZXh0ZW5kKHt9LGEpO3ZhciBjLGQsZSxmLGcsaCxpPVtdLGo9IWEub25jZSYmW10saz1mdW5jdGlvbihiKXtjPWEubWVtb3J5JiZiLGQ9ITAsaD1mfHwwLGY9MCxnPWkubGVuZ3RoLGU9ITA7Zm9yKDtpJiZoPGc7aCsrKWlmKGlbaF0uYXBwbHkoYlswXSxiWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtjPSExO2JyZWFrfWU9ITEsaSYmKGo/ai5sZW5ndGgmJmsoai5zaGlmdCgpKTpjP2k9W106bC5kaXNhYmxlKCkpfSxsPXthZGQ6ZnVuY3Rpb24oKXtpZihpKXt2YXIgYj1pLmxlbmd0aDsoZnVuY3Rpb24gZChiKXtwLmVhY2goYixmdW5jdGlvbihiLGMpe3AuaXNGdW5jdGlvbihjKSYmKCFhLnVuaXF1ZXx8IWwuaGFzKGMpKT9pLnB1c2goYyk6YyYmYy5sZW5ndGgmJmQoYyl9KX0pKGFyZ3VtZW50cyksZT9nPWkubGVuZ3RoOmMmJihmPWIsayhjKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBpJiZwLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9cC5pbkFycmF5KGIsaSxjKSk+LTEpaS5zcGxpY2UoYywxKSxlJiYoYzw9ZyYmZy0tLGM8PWgmJmgtLSl9KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHAuaW5BcnJheShhLGkpPi0xfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBpPVtdLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaT1qPWM9Yix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFpfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGo9YixjfHxsLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4han0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGkmJighZHx8aikmJihlP2oucHVzaChiKTprKGIpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGwuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGx9LHAuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bWyJyZXNvbHZlIiwiZG9uZSIscC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixwLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIixwLkNhbGxiYWNrcygibWVtb3J5IildXSxjPSJwZW5kaW5nIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIHAuRGVmZXJyZWQoZnVuY3Rpb24oYyl7cC5lYWNoKGIsZnVuY3Rpb24oYixkKXt2YXIgZj1kWzBdLGc9YVtiXTtlW2RbMV1dKHAuaXNGdW5jdGlvbihnKT9mdW5jdGlvbigpe3ZhciBhPWcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJnAuaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk6Y1tmKyJXaXRoIl0odGhpcz09PWU/Yzp0aGlzLFthXSl9OmNbZl0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09Im9iamVjdCI/cC5leHRlbmQoYSxkKTpkfX0sZT17fTtyZXR1cm4gZC5waXBlPWQudGhlbixwLmVhY2goYixmdW5jdGlvbihhLGYpe3ZhciBnPWZbMl0saD1mWzNdO2RbZlsxXV09Zy5hZGQsaCYmZy5hZGQoZnVuY3Rpb24oKXtjPWh9LGJbYV4xXVsyXS5kaXNhYmxlLGJbMl1bMl0ubG9jayksZVtmWzBdXT1nLmZpcmUsZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1rLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGU9ZCE9PTF8fGEmJnAuaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxmPWU9PT0xP2E6cC5EZWZlcnJlZCgpLGc9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ay5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aD9mLm5vdGlmeVdpdGgoYixjKTotLWV8fGYucmVzb2x2ZVdpdGgoYixjKX19LGgsaSxqO2lmKGQ+MSl7aD1uZXcgQXJyYXkoZCksaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCk7Zm9yKDtiPGQ7YisrKWNbYl0mJnAuaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoZyhiLGosYykpLmZhaWwoZi5yZWplY3QpLnByb2dyZXNzKGcoYixpLGgpKTotLWV9cmV0dXJuIGV8fGYucmVzb2x2ZVdpdGgoaixjKSxmLnByb21pc2UoKX19KSxwLnN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYixjLGQsZixnLGgsaSxqLGssbCxtLG49ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwidCIpLG4uaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLGM9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGQ9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGQuc3R5bGUuY3NzVGV4dD0idG9wOjFweDtmbG9hdDpsZWZ0O29wYWNpdHk6LjUiO2lmKCFjfHwhYy5sZW5ndGh8fCFkKXJldHVybnt9O2Y9ZS5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxnPWYuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksaD1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLGI9e2xlYWRpbmdXaGl0ZXNwYWNlOm4uZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi90b3AvLnRlc3QoZC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmQuZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjUvLnRlc3QoZC5zdHlsZS5vcGFjaXR5KSxjc3NGbG9hdDohIWQuc3R5bGUuY3NzRmxvYXQsY2hlY2tPbjpoLnZhbHVlPT09Im9uIixvcHRTZWxlY3RlZDpnLnNlbGVjdGVkLGdldFNldEF0dHJpYnV0ZTpuLmNsYXNzTmFtZSE9PSJ0IixlbmN0eXBlOiEhZS5jcmVhdGVFbGVtZW50KCJmb3JtIikuZW5jdHlwZSxodG1sNUNsb25lOmUuY3JlYXRlRWxlbWVudCgibmF2IikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUwhPT0iPDpuYXY+PC86bmF2PiIsYm94TW9kZWw6ZS5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiLHN1Ym1pdEJ1YmJsZXM6ITAsY2hhbmdlQnViYmxlczohMCxmb2N1c2luQnViYmxlczohMSxkZWxldGVFeHBhbmRvOiEwLG5vQ2xvbmVFdmVudDohMCxpbmxpbmVCbG9ja05lZWRzTGF5b3V0OiExLHNocmlua1dyYXBCbG9ja3M6ITEscmVsaWFibGVNYXJnaW5SaWdodDohMCxib3hTaXppbmdSZWxpYWJsZTohMCxwaXhlbFBvc2l0aW9uOiExfSxoLmNoZWNrZWQ9ITAsYi5ub0Nsb25lQ2hlY2tlZD1oLmNsb25lTm9kZSghMCkuY2hlY2tlZCxmLmRpc2FibGVkPSEwLGIub3B0RGlzYWJsZWQ9IWcuZGlzYWJsZWQ7dHJ5e2RlbGV0ZSBuLnRlc3R9Y2F0Y2gobyl7Yi5kZWxldGVFeHBhbmRvPSExfSFuLmFkZEV2ZW50TGlzdGVuZXImJm4uYXR0YWNoRXZlbnQmJm4uZmlyZUV2ZW50JiYobi5hdHRhY2hFdmVudCgib25jbGljayIsbT1mdW5jdGlvbigpe2Iubm9DbG9uZUV2ZW50PSExfSksbi5jbG9uZU5vZGUoITApLmZpcmVFdmVudCgib25jbGljayIpLG4uZGV0YWNoRXZlbnQoIm9uY2xpY2siLG0pKSxoPWUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxoLnZhbHVlPSJ0IixoLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYi5yYWRpb1ZhbHVlPWgudmFsdWU9PT0idCIsaC5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksaC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0Iiksbi5hcHBlbmRDaGlsZChoKSxpPWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGkuYXBwZW5kQ2hpbGQobi5sYXN0Q2hpbGQpLGIuY2hlY2tDbG9uZT1pLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmFwcGVuZENoZWNrZWQ9aC5jaGVja2VkLGkucmVtb3ZlQ2hpbGQoaCksaS5hcHBlbmRDaGlsZChuKTtpZihuLmF0dGFjaEV2ZW50KWZvcihrIGlue3N1Ym1pdDohMCxjaGFuZ2U6ITAsZm9jdXNpbjohMH0paj0ib24iK2ssbD1qIGluIG4sbHx8KG4uc2V0QXR0cmlidXRlKGosInJldHVybjsiKSxsPXR5cGVvZiBuW2pdPT0iZnVuY3Rpb24iKSxiW2srIkJ1YmJsZXMiXT1sO3JldHVybiBwKGZ1bmN0aW9uKCl7dmFyIGMsZCxmLGcsaD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6YmxvY2s7b3ZlcmZsb3c6aGlkZGVuOyIsaT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF07aWYoIWkpcmV0dXJuO2M9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKSxjLnN0eWxlLmNzc1RleHQ9InZpc2liaWxpdHk6aGlkZGVuO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246c3RhdGljO3RvcDowO21hcmdpbi10b3A6MXB4IixpLmluc2VydEJlZm9yZShjLGkuZmlyc3RDaGlsZCksZD1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGMuYXBwZW5kQ2hpbGQoZCksZC5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iLGY9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSxmWzBdLnN0eWxlLmNzc1RleHQ9InBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5Om5vbmUiLGw9ZlswXS5vZmZzZXRIZWlnaHQ9PT0wLGZbMF0uc3R5bGUuZGlzcGxheT0iIixmWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIucmVsaWFibGVIaWRkZW5PZmZzZXRzPWwmJmZbMF0ub2Zmc2V0SGVpZ2h0PT09MCxkLmlubmVySFRNTD0iIixkLnN0eWxlLmNzc1RleHQ9ImJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElOyIsYi5ib3hTaXppbmc9ZC5vZmZzZXRXaWR0aD09PTQsYi5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldD1pLm9mZnNldFRvcCE9PTEsYS5nZXRDb21wdXRlZFN0eWxlJiYoYi5waXhlbFBvc2l0aW9uPShhLmdldENvbXB1dGVkU3R5bGUoZCxudWxsKXx8e30pLnRvcCE9PSIxJSIsYi5ib3hTaXppbmdSZWxpYWJsZT0oYS5nZXRDb21wdXRlZFN0eWxlKGQsbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoPT09IjRweCIsZz1lLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGcuc3R5bGUuY3NzVGV4dD1kLnN0eWxlLmNzc1RleHQ9aCxnLnN0eWxlLm1hcmdpblJpZ2h0PWcuc3R5bGUud2lkdGg9IjAiLGQuc3R5bGUud2lkdGg9IjFweCIsZC5hcHBlbmRDaGlsZChnKSxiLnJlbGlhYmxlTWFyZ2luUmlnaHQ9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShnLG51bGwpfHx7fSkubWFyZ2luUmlnaHQpKSx0eXBlb2YgZC5zdHlsZS56b29tIT0idW5kZWZpbmVkIiYmKGQuaW5uZXJIVE1MPSIiLGQuc3R5bGUuY3NzVGV4dD1oKyJ3aWR0aDoxcHg7cGFkZGluZzoxcHg7ZGlzcGxheTppbmxpbmU7em9vbToxIixiLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9ZC5vZmZzZXRXaWR0aD09PTMsZC5zdHlsZS5kaXNwbGF5PSJibG9jayIsZC5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSIsZC5pbm5lckhUTUw9IjxkaXY+PC9kaXY+IixkLmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9IjVweCIsYi5zaHJpbmtXcmFwQmxvY2tzPWQub2Zmc2V0V2lkdGghPT0zLGMuc3R5bGUuem9vbT0xKSxpLnJlbW92ZUNoaWxkKGMpLGM9ZD1mPWc9bnVsbH0pLGkucmVtb3ZlQ2hpbGQobiksYz1kPWY9Zz1oPWk9bj1udWxsLGJ9KCk7dmFyIEg9L14oPzpcey4qXH18XFsuKlxdKSQvLEk9LyhbQS1aXSkvZztwLmV4dGVuZCh7Y2FjaGU6e30sZGVsZXRlZElkczpbXSx1dWlkOjAsZXhwYW5kbzoialF1ZXJ5IisocC5mbi5qcXVlcnkrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9EYXRhOntlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIsYXBwbGV0OiEwfSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEubm9kZVR5cGU/cC5jYWNoZVthW3AuZXhwYW5kb11dOmFbcC5leHBhbmRvXSwhIWEmJiFLKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCFwLmFjY2VwdERhdGEoYSkpcmV0dXJuO3ZhciBmLGcsaD1wLmV4cGFuZG8saT10eXBlb2YgYz09InN0cmluZyIsaj1hLm5vZGVUeXBlLGs9aj9wLmNhY2hlOmEsbD1qP2FbaF06YVtoXSYmaDtpZigoIWx8fCFrW2xdfHwhZSYmIWtbbF0uZGF0YSkmJmkmJmQ9PT1iKXJldHVybjtsfHwoaj9hW2hdPWw9cC5kZWxldGVkSWRzLnBvcCgpfHwrK3AudXVpZDpsPWgpLGtbbF18fChrW2xdPXt9LGp8fChrW2xdLnRvSlNPTj1wLm5vb3ApKTtpZih0eXBlb2YgYz09Im9iamVjdCJ8fHR5cGVvZiBjPT0iZnVuY3Rpb24iKWU/a1tsXT1wLmV4dGVuZChrW2xdLGMpOmtbbF0uZGF0YT1wLmV4dGVuZChrW2xdLmRhdGEsYyk7cmV0dXJuIGY9a1tsXSxlfHwoZi5kYXRhfHwoZi5kYXRhPXt9KSxmPWYuZGF0YSksZCE9PWImJihmW3AuY2FtZWxDYXNlKGMpXT1kKSxpPyhnPWZbY10sZz09bnVsbCYmKGc9ZltwLmNhbWVsQ2FzZShjKV0pKTpnPWYsZ30scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIsYyl7aWYoIXAuYWNjZXB0RGF0YShhKSlyZXR1cm47dmFyIGQsZSxmLGc9YS5ub2RlVHlwZSxoPWc/cC5jYWNoZTphLGk9Zz9hW3AuZXhwYW5kb106cC5leHBhbmRvO2lmKCFoW2ldKXJldHVybjtpZihiKXtkPWM/aFtpXTpoW2ldLmRhdGE7aWYoZCl7cC5pc0FycmF5KGIpfHwoYiBpbiBkP2I9W2JdOihiPXAuY2FtZWxDYXNlKGIpLGIgaW4gZD9iPVtiXTpiPWIuc3BsaXQoIiAiKSkpO2ZvcihlPTAsZj1iLmxlbmd0aDtlPGY7ZSsrKWRlbGV0ZSBkW2JbZV1dO2lmKCEoYz9LOnAuaXNFbXB0eU9iamVjdCkoZCkpcmV0dXJufX1pZighYyl7ZGVsZXRlIGhbaV0uZGF0YTtpZighSyhoW2ldKSlyZXR1cm59Zz9wLmNsZWFuRGF0YShbYV0sITApOnAuc3VwcG9ydC5kZWxldGVFeHBhbmRvfHxoIT1oLndpbmRvdz9kZWxldGUgaFtpXTpoW2ldPW51bGx9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gcC5kYXRhKGEsYixjLCEwKX0sYWNjZXB0RGF0YTpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lJiZwLm5vRGF0YVthLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO3JldHVybiFifHxiIT09ITAmJmEuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifX0pLHAuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxmLGcsaCxpPXRoaXNbMF0saj0wLGs9bnVsbDtpZihhPT09Yil7aWYodGhpcy5sZW5ndGgpe2s9cC5kYXRhKGkpO2lmKGkubm9kZVR5cGU9PT0xJiYhcC5fZGF0YShpLCJwYXJzZWRBdHRycyIpKXtmPWkuYXR0cmlidXRlcztmb3IoaD1mLmxlbmd0aDtqPGg7aisrKWc9ZltqXS5uYW1lLGcuaW5kZXhPZigiZGF0YS0iKT09PTAmJihnPXAuY2FtZWxDYXNlKGcuc3Vic3RyaW5nKDUpKSxKKGksZyxrW2ddKSk7cC5fZGF0YShpLCJwYXJzZWRBdHRycyIsITApfX1yZXR1cm4ga31yZXR1cm4gdHlwZW9mIGE9PSJvYmplY3QiP3RoaXMuZWFjaChmdW5jdGlvbigpe3AuZGF0YSh0aGlzLGEpfSk6KGQ9YS5zcGxpdCgiLiIsMiksZFsxXT1kWzFdPyIuIitkWzFdOiIiLGU9ZFsxXSsiISIscC5hY2Nlc3ModGhpcyxmdW5jdGlvbihjKXtpZihjPT09YilyZXR1cm4gaz10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitlLFtkWzBdXSksaz09PWImJmkmJihrPXAuZGF0YShpLGEpLGs9SihpLGEsaykpLGs9PT1iJiZkWzFdP3RoaXMuZGF0YShkWzBdKTprO2RbMV09Yyx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1wKHRoaXMpO2IudHJpZ2dlckhhbmRsZXIoInNldERhdGEiK2UsZCkscC5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitlLGQpfSl9LG51bGwsYyxhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMSkpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtwLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLHAuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoYSlyZXR1cm4gYj0oYnx8ImZ4IikrInF1ZXVlIixkPXAuX2RhdGEoYSxiKSxjJiYoIWR8fHAuaXNBcnJheShjKT9kPXAuX2RhdGEoYSxiLHAubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPXAucXVldWUoYSxiKSxkPWMuc2hpZnQoKSxlPXAuX3F1ZXVlSG9va3MoYSxiKSxmPWZ1bmN0aW9uKCl7cC5kZXF1ZXVlKGEsYil9O2Q9PT0iaW5wcm9ncmVzcyImJihkPWMuc2hpZnQoKSksZCYmKGI9PT0iZngiJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZS5zdG9wLGQuY2FsbChhLGYsZSkpLCFjLmxlbmd0aCYmZSYmZS5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YisicXVldWVIb29rcyI7cmV0dXJuIHAuX2RhdGEoYSxjKXx8cC5fZGF0YShhLGMse2VtcHR5OnAuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe3AucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCkscC5yZW1vdmVEYXRhKGEsYywhMCl9KX0pfX0pLHAuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3ZhciBkPTI7cmV0dXJuIHR5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIsZC0tKSxhcmd1bWVudHMubGVuZ3RoPGQ/cC5xdWV1ZSh0aGlzWzBdLGEpOmM9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9cC5xdWV1ZSh0aGlzLGEsYyk7cC5fcXVldWVIb29rcyh0aGlzLGEpLGE9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZwLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtwLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe3JldHVybiBhPXAuZng/cC5meC5zcGVlZHNbYV18fGE6YSxiPWJ8fCJmeCIsdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChkKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGMpe3ZhciBkLGU9MSxmPXAuRGVmZXJyZWQoKSxnPXRoaXMsaD10aGlzLmxlbmd0aCxpPWZ1bmN0aW9uKCl7LS1lfHxmLnJlc29sdmVXaXRoKGcsW2ddKX07dHlwZW9mIGEhPSJzdHJpbmciJiYoYz1hLGE9YiksYT1hfHwiZngiO3doaWxlKGgtLSkoZD1wLl9kYXRhKGdbaF0sYSsicXVldWVIb29rcyIpKSYmZC5lbXB0eSYmKGUrKyxkLmVtcHR5LmFkZChpKSk7cmV0dXJuIGkoKSxmLnByb21pc2UoYyl9fSk7dmFyIEwsTSxOLE89L1tcdFxyXG5dL2csUD0vXHIvZyxRPS9eKD86YnV0dG9ufGlucHV0KSQvaSxSPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLFM9L15hKD86cmVhfCkkL2ksVD0vXig/OmF1dG9mb2N1c3xhdXRvcGxheXxhc3luY3xjaGVja2VkfGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkfHNlbGVjdGVkKSQvaSxVPXAuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGU7cC5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcC5hY2Nlc3ModGhpcyxwLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3AucmVtb3ZlQXR0cih0aGlzLGEpfSl9LHByb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcC5hY2Nlc3ModGhpcyxwLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9cC5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPWIsZGVsZXRlIHRoaXNbYV19Y2F0Y2goYyl7fX0pfSxhZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaDtpZihwLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtwKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nIil7Yj1hLnNwbGl0KHMpO2ZvcihjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXtlPXRoaXNbY107aWYoZS5ub2RlVHlwZT09PTEpaWYoIWUuY2xhc3NOYW1lJiZiLmxlbmd0aD09PTEpZS5jbGFzc05hbWU9YTtlbHNle2Y9IiAiK2UuY2xhc3NOYW1lKyIgIjtmb3IoZz0wLGg9Yi5sZW5ndGg7ZzxoO2crKyl+Zi5pbmRleE9mKCIgIitiW2ddKyIgIil8fChmKz1iW2ddKyIgIik7ZS5jbGFzc05hbWU9cC50cmltKGYpfX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZSxmLGcsaCxpO2lmKHAuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3AodGhpcykucmVtb3ZlQ2xhc3MoYS5jYWxsKHRoaXMsYix0aGlzLmNsYXNzTmFtZSkpfSk7aWYoYSYmdHlwZW9mIGE9PSJzdHJpbmcifHxhPT09Yil7Yz0oYXx8IiIpLnNwbGl0KHMpO2ZvcihoPTAsaT10aGlzLmxlbmd0aDtoPGk7aCsrKXtlPXRoaXNbaF07aWYoZS5ub2RlVHlwZT09PTEmJmUuY2xhc3NOYW1lKXtkPSgiICIrZS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKE8sIiAiKTtmb3IoZj0wLGc9Yy5sZW5ndGg7ZjxnO2YrKyl3aGlsZShkLmluZGV4T2YoIiAiK2NbZl0rIiAiKT4tMSlkPWQucmVwbGFjZSgiICIrY1tmXSsiICIsIiAiKTtlLmNsYXNzTmFtZT1hP3AudHJpbShkKToiIn19fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhLGQ9dHlwZW9mIGI9PSJib29sZWFuIjtyZXR1cm4gcC5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtwKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGY9MCxnPXAodGhpcyksaD1iLGk9YS5zcGxpdChzKTt3aGlsZShlPWlbZisrXSloPWQ/aDohZy5oYXNDbGFzcyhlKSxnW2g/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmcC5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpwLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiLGM9MCxkPXRoaXMubGVuZ3RoO2Zvcig7YzxkO2MrKylpZih0aGlzW2NdLm5vZGVUeXBlPT09MSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoTywiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZj10aGlzWzBdO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZihmKXJldHVybiBjPXAudmFsSG9va3NbZi50eXBlXXx8cC52YWxIb29rc1tmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGMmJiJnZXQiaW4gYyYmKGQ9Yy5nZXQoZiwidmFsdWUiKSkhPT1iP2Q6KGQ9Zi52YWx1ZSx0eXBlb2YgZD09InN0cmluZyI/ZC5yZXBsYWNlKFAsIiIpOmQ9PW51bGw/IiI6ZCk7cmV0dXJufXJldHVybiBlPXAuaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oZCl7dmFyIGYsZz1wKHRoaXMpO2lmKHRoaXMubm9kZVR5cGUhPT0xKXJldHVybjtlP2Y9YS5jYWxsKHRoaXMsZCxnLnZhbCgpKTpmPWEsZj09bnVsbD9mPSIiOnR5cGVvZiBmPT0ibnVtYmVyIj9mKz0iIjpwLmlzQXJyYXkoZikmJihmPXAubWFwKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKSxjPXAudmFsSG9va3NbdGhpcy50eXBlXXx8cC52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO2lmKCFjfHwhKCJzZXQiaW4gYyl8fGMuc2V0KHRoaXMsZiwidmFsdWUiKT09PWIpdGhpcy52YWx1ZT1mfSl9fSkscC5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWJ8fGIuc3BlY2lmaWVkP2EudmFsdWU6YS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZj1hLnNlbGVjdGVkSW5kZXgsZz1bXSxoPWEub3B0aW9ucyxpPWEudHlwZT09PSJzZWxlY3Qtb25lIjtpZihmPDApcmV0dXJuIG51bGw7Yz1pP2Y6MCxkPWk/ZisxOmgubGVuZ3RoO2Zvcig7YzxkO2MrKyl7ZT1oW2NdO2lmKGUuc2VsZWN0ZWQmJihwLnN1cHBvcnQub3B0RGlzYWJsZWQ/IWUuZGlzYWJsZWQ6ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIik9PT1udWxsKSYmKCFlLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFwLm5vZGVOYW1lKGUucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2I9cChlKS52YWwoKTtpZihpKXJldHVybiBiO2cucHVzaChiKX19cmV0dXJuIGkmJiFnLmxlbmd0aCYmaC5sZW5ndGg/cChoW2ZdKS52YWwoKTpnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1wLm1ha2VBcnJheShiKTtyZXR1cm4gcChhKS5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD1wLmluQXJyYXkocCh0aGlzKS52YWwoKSxjKT49MH0pLGMubGVuZ3RofHwoYS5zZWxlY3RlZEluZGV4PS0xKSxjfX19LGF0dHJGbjp7fSxhdHRyOmZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpPWEubm9kZVR5cGU7aWYoIWF8fGk9PT0zfHxpPT09OHx8aT09PTIpcmV0dXJuO2lmKGUmJnAuaXNGdW5jdGlvbihwLmZuW2NdKSlyZXR1cm4gcChhKVtjXShkKTtpZih0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PSJ1bmRlZmluZWQiKXJldHVybiBwLnByb3AoYSxjLGQpO2g9aSE9PTF8fCFwLmlzWE1MRG9jKGEpLGgmJihjPWMudG9Mb3dlckNhc2UoKSxnPXAuYXR0ckhvb2tzW2NdfHwoVC50ZXN0KGMpP006TCkpO2lmKGQhPT1iKXtpZihkPT09bnVsbCl7cC5yZW1vdmVBdHRyKGEsYyk7cmV0dXJufXJldHVybiBnJiYic2V0ImluIGcmJmgmJihmPWcuc2V0KGEsZCxjKSkhPT1iP2Y6KGEuc2V0QXR0cmlidXRlKGMsIiIrZCksZCl9cmV0dXJuIGcmJiJnZXQiaW4gZyYmaCYmKGY9Zy5nZXQoYSxjKSkhPT1udWxsP2Y6KGY9YS5nZXRBdHRyaWJ1dGUoYyksZj09PW51bGw/YjpmKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9MDtpZihiJiZhLm5vZGVUeXBlPT09MSl7ZD1iLnNwbGl0KHMpO2Zvcig7ZzxkLmxlbmd0aDtnKyspZT1kW2ddLGUmJihjPXAucHJvcEZpeFtlXXx8ZSxmPVQudGVzdChlKSxmfHxwLmF0dHIoYSxlLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZShVP2U6YyksZiYmYyBpbiBhJiYoYVtjXT0hMSkpfX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZihRLnRlc3QoYS5ub2RlTmFtZSkmJmEucGFyZW50Tm9kZSlwLmVycm9yKCJ0eXBlIHByb3BlcnR5IGNhbid0IGJlIGNoYW5nZWQiKTtlbHNlIGlmKCFwLnN1cHBvcnQucmFkaW9WYWx1ZSYmYj09PSJyYWRpbyImJnAubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX0sdmFsdWU6e2dldDpmdW5jdGlvbihhLGIpe3JldHVybiBMJiZwLm5vZGVOYW1lKGEsImJ1dHRvbiIpP0wuZ2V0KGEsYik6YiBpbiBhP2EudmFsdWU6bnVsbH0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZihMJiZwLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiBMLnNldChhLGIsYyk7YS52YWx1ZT1ifX19LHByb3BGaXg6e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZixnLGg9YS5ub2RlVHlwZTtpZighYXx8aD09PTN8fGg9PT04fHxoPT09MilyZXR1cm47cmV0dXJuIGc9aCE9PTF8fCFwLmlzWE1MRG9jKGEpLGcmJihjPXAucHJvcEZpeFtjXXx8YyxmPXAucHJvcEhvb2tzW2NdKSxkIT09Yj9mJiYic2V0ImluIGYmJihlPWYuc2V0KGEsZCxjKSkhPT1iP2U6YVtjXT1kOmYmJiJnZXQiaW4gZiYmKGU9Zi5nZXQoYSxjKSkhPT1udWxsP2U6YVtjXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiaW5kZXgiKTtyZXR1cm4gYyYmYy5zcGVjaWZpZWQ/cGFyc2VJbnQoYy52YWx1ZSwxMCk6Ui50ZXN0KGEubm9kZU5hbWUpfHxTLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOmJ9fX19KSxNPXtnZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlPXAucHJvcChhLGMpO3JldHVybiBlPT09ITB8fHR5cGVvZiBlIT0iYm9vbGVhbiImJihkPWEuZ2V0QXR0cmlidXRlTm9kZShjKSkmJmQubm9kZVZhbHVlIT09ITE/Yy50b0xvd2VyQ2FzZSgpOmJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGI9PT0hMT9wLnJlbW92ZUF0dHIoYSxjKTooZD1wLnByb3BGaXhbY118fGMsZCBpbiBhJiYoYVtkXT0hMCksYS5zZXRBdHRyaWJ1dGUoYyxjLnRvTG93ZXJDYXNlKCkpKSxjfX0sVXx8KE49e25hbWU6ITAsaWQ6ITAsY29vcmRzOiEwfSxMPXAudmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyksZCYmKE5bY10/ZC52YWx1ZSE9PSIiOmQuc3BlY2lmaWVkKT9kLnZhbHVlOmJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkfHwoZD1lLmNyZWF0ZUF0dHJpYnV0ZShjKSxhLnNldEF0dHJpYnV0ZU5vZGUoZCkpLGQudmFsdWU9YisiIn19LHAuZWFjaChbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSxiKXtwLmF0dHJIb29rc1tiXT1wLmV4dGVuZChwLmF0dHJIb29rc1tiXSx7c2V0OmZ1bmN0aW9uKGEsYyl7aWYoYz09PSIiKXJldHVybiBhLnNldEF0dHJpYnV0ZShiLCJhdXRvIiksY319KX0pLHAuYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZT17Z2V0OkwuZ2V0LHNldDpmdW5jdGlvbihhLGIsYyl7Yj09PSIiJiYoYj0iZmFsc2UiKSxMLnNldChhLGIsYyl9fSkscC5zdXBwb3J0LmhyZWZOb3JtYWxpemVkfHxwLmVhY2goWyJocmVmIiwic3JjIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGMpe3AuYXR0ckhvb2tzW2NdPXAuZXh0ZW5kKHAuYXR0ckhvb2tzW2NdLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYywyKTtyZXR1cm4gZD09PW51bGw/YjpkfX0pfSkscC5zdXBwb3J0LnN0eWxlfHwocC5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0LnRvTG93ZXJDYXNlKCl8fGJ9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9IiIrYn19KSxwLnN1cHBvcnQub3B0U2VsZWN0ZWR8fChwLnByb3BIb29rcy5zZWxlY3RlZD1wLmV4dGVuZChwLnByb3BIb29rcy5zZWxlY3RlZCx7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmKGIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KSxudWxsfX0pKSxwLnN1cHBvcnQuZW5jdHlwZXx8KHAucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpLHAuc3VwcG9ydC5jaGVja09ufHxwLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtwLnZhbEhvb2tzW3RoaXNdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPT09bnVsbD8ib24iOmEudmFsdWV9fX0pLHAuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe3AudmFsSG9va3NbdGhpc109cC5leHRlbmQocC52YWxIb29rc1t0aGlzXSx7c2V0OmZ1bmN0aW9uKGEsYil7aWYocC5pc0FycmF5KGIpKXJldHVybiBhLmNoZWNrZWQ9cC5pbkFycmF5KHAoYSkudmFsKCksYik+PTB9fSl9KTt2YXIgVj0vXig/OnRleHRhcmVhfGlucHV0fHNlbGVjdCkkL2ksVz0vXihbXlwuXSp8KSg/OlwuKC4rKXwpJC8sWD0vKD86Xnxccylob3ZlcihcLlxTK3wpXGIvLFk9L15rZXkvLFo9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLCQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLF89ZnVuY3Rpb24oYSl7cmV0dXJuIHAuZXZlbnQuc3BlY2lhbC5ob3Zlcj9hOmEucmVwbGFjZShYLCJtb3VzZWVudGVyJDEgbW91c2VsZWF2ZSQxIil9O3AuZXZlbnQ9e2FkZDpmdW5jdGlvbihhLGMsZCxlLGYpe3ZhciBnLGgsaSxqLGssbCxtLG4sbyxxLHI7aWYoYS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04fHwhY3x8IWR8fCEoZz1wLl9kYXRhKGEpKSlyZXR1cm47ZC5oYW5kbGVyJiYobz1kLGQ9by5oYW5kbGVyLGY9by5zZWxlY3RvciksZC5ndWlkfHwoZC5ndWlkPXAuZ3VpZCsrKSxpPWcuZXZlbnRzLGl8fChnLmV2ZW50cz1pPXt9KSxoPWcuaGFuZGxlLGh8fChnLmhhbmRsZT1oPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgcCE9InVuZGVmaW5lZCImJighYXx8cC5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGUpP3AuZXZlbnQuZGlzcGF0Y2guYXBwbHkoaC5lbGVtLGFyZ3VtZW50cyk6Yn0saC5lbGVtPWEpLGM9cC50cmltKF8oYykpLnNwbGl0KCIgIik7Zm9yKGo9MDtqPGMubGVuZ3RoO2orKyl7az1XLmV4ZWMoY1tqXSl8fFtdLGw9a1sxXSxtPShrWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCkscj1wLmV2ZW50LnNwZWNpYWxbbF18fHt9LGw9KGY/ci5kZWxlZ2F0ZVR5cGU6ci5iaW5kVHlwZSl8fGwscj1wLmV2ZW50LnNwZWNpYWxbbF18fHt9LG49cC5leHRlbmQoe3R5cGU6bCxvcmlnVHlwZTprWzFdLGRhdGE6ZSxoYW5kbGVyOmQsZ3VpZDpkLmd1aWQsc2VsZWN0b3I6ZixuYW1lc3BhY2U6bS5qb2luKCIuIil9LG8pLHE9aVtsXTtpZighcSl7cT1pW2xdPVtdLHEuZGVsZWdhdGVDb3VudD0wO2lmKCFyLnNldHVwfHxyLnNldHVwLmNhbGwoYSxlLG0saCk9PT0hMSlhLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGwsaCwhMSk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib24iK2wsaCl9ci5hZGQmJihyLmFkZC5jYWxsKGEsbiksbi5oYW5kbGVyLmd1aWR8fChuLmhhbmRsZXIuZ3VpZD1kLmd1aWQpKSxmP3Euc3BsaWNlKHEuZGVsZWdhdGVDb3VudCsrLDAsbik6cS5wdXNoKG4pLHAuZXZlbnQuZ2xvYmFsW2xdPSEwfWE9bnVsbH0sZ2xvYmFsOnt9LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHEscj1wLmhhc0RhdGEoYSkmJnAuX2RhdGEoYSk7aWYoIXJ8fCEobT1yLmV2ZW50cykpcmV0dXJuO2I9cC50cmltKF8oYnx8IiIpKS5zcGxpdCgiICIpO2ZvcihmPTA7ZjxiLmxlbmd0aDtmKyspe2c9Vy5leGVjKGJbZl0pfHxbXSxoPWk9Z1sxXSxqPWdbMl07aWYoIWgpe2ZvcihoIGluIG0pcC5ldmVudC5yZW1vdmUoYSxoK2JbZl0sYyxkLCEwKTtjb250aW51ZX1uPXAuZXZlbnQuc3BlY2lhbFtoXXx8e30saD0oZD9uLmRlbGVnYXRlVHlwZTpuLmJpbmRUeXBlKXx8aCxvPW1baF18fFtdLGs9by5sZW5ndGgsaj1qP25ldyBSZWdFeHAoIihefFxcLikiK2ouc3BsaXQoIi4iKS5zb3J0KCkuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbDtmb3IobD0wO2w8by5sZW5ndGg7bCsrKXE9b1tsXSwoZXx8aT09PXEub3JpZ1R5cGUpJiYoIWN8fGMuZ3VpZD09PXEuZ3VpZCkmJighanx8ai50ZXN0KHEubmFtZXNwYWNlKSkmJighZHx8ZD09PXEuc2VsZWN0b3J8fGQ9PT0iKioiJiZxLnNlbGVjdG9yKSYmKG8uc3BsaWNlKGwtLSwxKSxxLnNlbGVjdG9yJiZvLmRlbGVnYXRlQ291bnQtLSxuLnJlbW92ZSYmbi5yZW1vdmUuY2FsbChhLHEpKTtvLmxlbmd0aD09PTAmJmshPT1vLmxlbmd0aCYmKCghbi50ZWFyZG93bnx8bi50ZWFyZG93bi5jYWxsKGEsaixyLmhhbmRsZSk9PT0hMSkmJnAucmVtb3ZlRXZlbnQoYSxoLHIuaGFuZGxlKSxkZWxldGUgbVtoXSl9cC5pc0VtcHR5T2JqZWN0KG0pJiYoZGVsZXRlIHIuaGFuZGxlLHAucmVtb3ZlRGF0YShhLCJldmVudHMiLCEwKSl9LGN1c3RvbUV2ZW50OntnZXREYXRhOiEwLHNldERhdGE6ITAsY2hhbmdlRGF0YTohMH0sdHJpZ2dlcjpmdW5jdGlvbihjLGQsZixnKXtpZighZnx8Zi5ub2RlVHlwZSE9PTMmJmYubm9kZVR5cGUhPT04KXt2YXIgaCxpLGosayxsLG0sbixvLHEscixzPWMudHlwZXx8Yyx0PVtdO2lmKCQudGVzdChzK3AuZXZlbnQudHJpZ2dlcmVkKSlyZXR1cm47cy5pbmRleE9mKCIhIik+PTAmJihzPXMuc2xpY2UoMCwtMSksaT0hMCkscy5pbmRleE9mKCIuIik+PTAmJih0PXMuc3BsaXQoIi4iKSxzPXQuc2hpZnQoKSx0LnNvcnQoKSk7aWYoKCFmfHxwLmV2ZW50LmN1c3RvbUV2ZW50W3NdKSYmIXAuZXZlbnQuZ2xvYmFsW3NdKXJldHVybjtjPXR5cGVvZiBjPT0ib2JqZWN0Ij9jW3AuZXhwYW5kb10/YzpuZXcgcC5FdmVudChzLGMpOm5ldyBwLkV2ZW50KHMpLGMudHlwZT1zLGMuaXNUcmlnZ2VyPSEwLGMuZXhjbHVzaXZlPWksYy5uYW1lc3BhY2U9dC5qb2luKCIuIiksYy5uYW1lc3BhY2VfcmU9Yy5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrdC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLG09cy5pbmRleE9mKCI6Iik8MD8ib24iK3M6IiI7aWYoIWYpe2g9cC5jYWNoZTtmb3IoaiBpbiBoKWhbal0uZXZlbnRzJiZoW2pdLmV2ZW50c1tzXSYmcC5ldmVudC50cmlnZ2VyKGMsZCxoW2pdLmhhbmRsZS5lbGVtLCEwKTtyZXR1cm59Yy5yZXN1bHQ9YixjLnRhcmdldHx8KGMudGFyZ2V0PWYpLGQ9ZCE9bnVsbD9wLm1ha2VBcnJheShkKTpbXSxkLnVuc2hpZnQoYyksbj1wLmV2ZW50LnNwZWNpYWxbc118fHt9O2lmKG4udHJpZ2dlciYmbi50cmlnZ2VyLmFwcGx5KGYsZCk9PT0hMSlyZXR1cm47cT1bW2Ysbi5iaW5kVHlwZXx8c11dO2lmKCFnJiYhbi5ub0J1YmJsZSYmIXAuaXNXaW5kb3coZikpe3I9bi5kZWxlZ2F0ZVR5cGV8fHMsaz0kLnRlc3QocitzKT9mOmYucGFyZW50Tm9kZTtmb3IobD1mO2s7az1rLnBhcmVudE5vZGUpcS5wdXNoKFtrLHJdKSxsPWs7bD09PShmLm93bmVyRG9jdW1lbnR8fGUpJiZxLnB1c2goW2wuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxhLHJdKX1mb3Ioaj0wO2o8cS5sZW5ndGgmJiFjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7aisrKWs9cVtqXVswXSxjLnR5cGU9cVtqXVsxXSxvPShwLl9kYXRhKGssImV2ZW50cyIpfHx7fSlbYy50eXBlXSYmcC5fZGF0YShrLCJoYW5kbGUiKSxvJiZvLmFwcGx5KGssZCksbz1tJiZrW21dLG8mJnAuYWNjZXB0RGF0YShrKSYmby5hcHBseShrLGQpPT09ITEmJmMucHJldmVudERlZmF1bHQoKTtyZXR1cm4gYy50eXBlPXMsIWcmJiFjLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoIW4uX2RlZmF1bHR8fG4uX2RlZmF1bHQuYXBwbHkoZi5vd25lckRvY3VtZW50LGQpPT09ITEpJiYocyE9PSJjbGljayJ8fCFwLm5vZGVOYW1lKGYsImEiKSkmJnAuYWNjZXB0RGF0YShmKSYmbSYmZltzXSYmKHMhPT0iZm9jdXMiJiZzIT09ImJsdXIifHxjLnRhcmdldC5vZmZzZXRXaWR0aCE9PTApJiYhcC5pc1dpbmRvdyhmKSYmKGw9ZlttXSxsJiYoZlttXT1udWxsKSxwLmV2ZW50LnRyaWdnZXJlZD1zLGZbc10oKSxwLmV2ZW50LnRyaWdnZXJlZD1iLGwmJihmW21dPWwpKSxjLnJlc3VsdH1yZXR1cm59LGRpc3BhdGNoOmZ1bmN0aW9uKGMpe2M9cC5ldmVudC5maXgoY3x8YS5ldmVudCk7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvPShwLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYy50eXBlXXx8W10scT1vLmRlbGVnYXRlQ291bnQscj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cykscz0hYy5leGNsdXNpdmUmJiFjLm5hbWVzcGFjZSx0PXAuZXZlbnQuc3BlY2lhbFtjLnR5cGVdfHx7fSx1PVtdO3JbMF09YyxjLmRlbGVnYXRlVGFyZ2V0PXRoaXM7aWYodC5wcmVEaXNwYXRjaCYmdC5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYyk9PT0hMSlyZXR1cm47aWYocSYmKCFjLmJ1dHRvbnx8Yy50eXBlIT09ImNsaWNrIikpe2c9cCh0aGlzKSxnLmNvbnRleHQ9dGhpcztmb3IoZj1jLnRhcmdldDtmIT10aGlzO2Y9Zi5wYXJlbnROb2RlfHx0aGlzKWlmKGYuZGlzYWJsZWQhPT0hMHx8Yy50eXBlIT09ImNsaWNrIil7aT17fSxrPVtdLGdbMF09Zjtmb3IoZD0wO2Q8cTtkKyspbD1vW2RdLG09bC5zZWxlY3RvcixpW21dPT09YiYmKGlbbV09Zy5pcyhtKSksaVttXSYmay5wdXNoKGwpO2subGVuZ3RoJiZ1LnB1c2goe2VsZW06ZixtYXRjaGVzOmt9KX19by5sZW5ndGg+cSYmdS5wdXNoKHtlbGVtOnRoaXMsbWF0Y2hlczpvLnNsaWNlKHEpfSk7Zm9yKGQ9MDtkPHUubGVuZ3RoJiYhYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2QrKyl7aj11W2RdLGMuY3VycmVudFRhcmdldD1qLmVsZW07Zm9yKGU9MDtlPGoubWF0Y2hlcy5sZW5ndGgmJiFjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7ZSsrKXtsPWoubWF0Y2hlc1tlXTtpZihzfHwhYy5uYW1lc3BhY2UmJiFsLm5hbWVzcGFjZXx8Yy5uYW1lc3BhY2VfcmUmJmMubmFtZXNwYWNlX3JlLnRlc3QobC5uYW1lc3BhY2UpKWMuZGF0YT1sLmRhdGEsYy5oYW5kbGVPYmo9bCxoPSgocC5ldmVudC5zcGVjaWFsW2wub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxsLmhhbmRsZXIpLmFwcGx5KGouZWxlbSxyKSxoIT09YiYmKGMucmVzdWx0PWgsaD09PSExJiYoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCkpKX19cmV0dXJuIHQucG9zdERpc3BhdGNoJiZ0LnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYyksYy5yZXN1bHR9LHByb3BzOiJhdHRyQ2hhbmdlIGF0dHJOYW1lIHJlbGF0ZWROb2RlIHNyY0VsZW1lbnQgYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS53aGljaD09bnVsbCYmKGEud2hpY2g9Yi5jaGFyQ29kZSE9bnVsbD9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYyl7dmFyIGQsZixnLGg9Yy5idXR0b24saT1jLmZyb21FbGVtZW50O3JldHVybiBhLnBhZ2VYPT1udWxsJiZjLmNsaWVudFghPW51bGwmJihkPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGUsZj1kLmRvY3VtZW50RWxlbWVudCxnPWQuYm9keSxhLnBhZ2VYPWMuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxnJiZnLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGcmJmcuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1jLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxnJiZnLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxnJiZnLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmkmJihhLnJlbGF0ZWRUYXJnZXQ9aT09PWEudGFyZ2V0P2MudG9FbGVtZW50OmkpLCFhLndoaWNoJiZoIT09YiYmKGEud2hpY2g9aCYxPzE6aCYyPzM6aCY0PzI6MCksYX19LGZpeDpmdW5jdGlvbihhKXtpZihhW3AuZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxkPWEsZj1wLmV2ZW50LmZpeEhvb2tzW2EudHlwZV18fHt9LGc9Zi5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChmLnByb3BzKTp0aGlzLnByb3BzO2E9cC5FdmVudChkKTtmb3IoYj1nLmxlbmd0aDtiOyljPWdbLS1iXSxhW2NdPWRbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9ZC5zcmNFbGVtZW50fHxlKSxhLnRhcmdldC5ub2RlVHlwZT09PTMmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxhLm1ldGFLZXk9ISFhLm1ldGFLZXksZi5maWx0ZXI/Zi5maWx0ZXIoYSxkKTphfSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6cC5iaW5kUmVhZHl9LGxvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7ZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7ZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGJlZm9yZXVubG9hZDp7c2V0dXA6ZnVuY3Rpb24oYSxiLGMpe3AuaXNXaW5kb3codGhpcykmJih0aGlzLm9uYmVmb3JldW5sb2FkPWMpfSx0ZWFyZG93bjpmdW5jdGlvbihhLGIpe3RoaXMub25iZWZvcmV1bmxvYWQ9PT1iJiYodGhpcy5vbmJlZm9yZXVubG9hZD1udWxsKX19fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1wLmV4dGVuZChuZXcgcC5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2Q/cC5ldmVudC50cmlnZ2VyKGUsbnVsbCxiKTpwLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fSxwLmV2ZW50LmhhbmRsZT1wLmV2ZW50LmRpc3BhdGNoLHAucmVtb3ZlRXZlbnQ9ZS5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Im9uIitiO2EuZGV0YWNoRXZlbnQmJih0eXBlb2YgYVtkXT09InVuZGVmaW5lZCImJihhW2RdPW51bGwpLGEuZGV0YWNoRXZlbnQoZCxjKSl9LHAuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzIGluc3RhbmNlb2YgcC5FdmVudClhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHxhLnJldHVyblZhbHVlPT09ITF8fGEuZ2V0UHJldmVudERlZmF1bHQmJmEuZ2V0UHJldmVudERlZmF1bHQoKT9iYjpiYSk6dGhpcy50eXBlPWEsYiYmcC5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8cC5ub3coKSx0aGlzW3AuZXhwYW5kb109ITA7ZWxzZSByZXR1cm4gbmV3IHAuRXZlbnQoYSxiKX0scC5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YmI7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKCFhKXJldHVybjthLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWJiO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDtpZighYSlyZXR1cm47YS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9YmIsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0saXNEZWZhdWx0UHJldmVudGVkOmJhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmJhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmJhfSxwLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihhLGIpe3AuZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmosZz1mLnNlbGVjdG9yO2lmKCFlfHxlIT09ZCYmIXAuY29udGFpbnMoZCxlKSlhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWI7cmV0dXJuIGN9fX0pLHAuc3VwcG9ydC5zdWJtaXRCdWJibGVzfHwocC5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtpZihwLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTtwLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFyZ2V0LGQ9cC5ub2RlTmFtZShjLCJpbnB1dCIpfHxwLm5vZGVOYW1lKGMsImJ1dHRvbiIpP2MuZm9ybTpiO2QmJiFwLl9kYXRhKGQsIl9zdWJtaXRfYXR0YWNoZWQiKSYmKHAuZXZlbnQuYWRkKGQsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihhKXthLl9zdWJtaXRfYnViYmxlPSEwfSkscC5fZGF0YShkLCJfc3VibWl0X2F0dGFjaGVkIiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRfYnViYmxlJiYoZGVsZXRlIGEuX3N1Ym1pdF9idWJibGUsdGhpcy5wYXJlbnROb2RlJiYhYS5pc1RyaWdnZXImJnAuZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsdGhpcy5wYXJlbnROb2RlLGEsITApKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihwLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTtwLmV2ZW50LnJlbW92ZSh0aGlzLCIuX3N1Ym1pdCIpfX0pLHAuc3VwcG9ydC5jaGFuZ2VCdWJibGVzfHwocC5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihWLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpcC5ldmVudC5hZGQodGhpcywicHJvcGVydHljaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7YS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZT09PSJjaGVja2VkIiYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMCl9KSxwLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fY2hhbmdlIixmdW5jdGlvbihhKXt0aGlzLl9qdXN0X2NoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMSkscC5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLGEsITApfSk7cmV0dXJuITF9cC5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7Vi50ZXN0KGIubm9kZU5hbWUpJiYhcC5fZGF0YShiLCJfY2hhbmdlX2F0dGFjaGVkIikmJihwLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiYhYS5pc1NpbXVsYXRlZCYmIWEuaXNUcmlnZ2VyJiZwLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxhLCEwKX0pLHAuX2RhdGEoYiwiX2NoYW5nZV9hdHRhY2hlZCIsITApKX0pfSxoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7aWYodGhpcyE9PWJ8fGEuaXNTaW11bGF0ZWR8fGEuaXNUcmlnZ2VyfHxiLnR5cGUhPT0icmFkaW8iJiZiLnR5cGUhPT0iY2hlY2tib3giKXJldHVybiBhLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gcC5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKSxWLnRlc3QodGhpcy5ub2RlTmFtZSl9fSkscC5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHxwLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWZ1bmN0aW9uKGEpe3AuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxwLmV2ZW50LmZpeChhKSwhMCl9O3AuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtjKys9PT0wJiZlLmFkZEV2ZW50TGlzdGVuZXIoYSxkLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWM9PT0wJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxkLCEwKX19fSkscC5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYyxkLGUsZil7dmFyIGcsaDtpZih0eXBlb2YgYT09Im9iamVjdCIpe3R5cGVvZiBjIT0ic3RyaW5nIiYmKGQ9ZHx8YyxjPWIpO2ZvcihoIGluIGEpdGhpcy5vbihoLGMsZCxhW2hdLGYpO3JldHVybiB0aGlzfWQ9PW51bGwmJmU9PW51bGw/KGU9YyxkPWM9Yik6ZT09bnVsbCYmKHR5cGVvZiBjPT0ic3RyaW5nIj8oZT1kLGQ9Yik6KGU9ZCxkPWMsYz1iKSk7aWYoZT09PSExKWU9YmE7ZWxzZSBpZighZSlyZXR1cm4gdGhpcztyZXR1cm4gZj09PTEmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gcCgpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1wLmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe3AuZXZlbnQuYWRkKHRoaXMsYSxlLGQsYyl9KX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZjtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZT1hLmhhbmRsZU9iaixwKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihlLm5hbWVzcGFjZT9lLm9yaWdUeXBlKyIuIitlLm5hbWVzcGFjZTplLm9yaWdUeXBlLGUuc2VsZWN0b3IsZS5oYW5kbGVyKSx0aGlzO2lmKHR5cGVvZiBhPT0ib2JqZWN0Iil7Zm9yKGYgaW4gYSl0aGlzLm9mZihmLGMsYVtmXSk7cmV0dXJuIHRoaXN9aWYoYz09PSExfHx0eXBlb2YgYz09ImZ1bmN0aW9uIilkPWMsYz1iO3JldHVybiBkPT09ITEmJihkPWJhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtwLmV2ZW50LnJlbW92ZSh0aGlzLGEsZCxjKX0pfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sbGl2ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHAodGhpcy5jb250ZXh0KS5vbihhLHRoaXMuc2VsZWN0b3IsYixjKSx0aGlzfSxkaWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcCh0aGlzLmNvbnRleHQpLm9mZihhLHRoaXMuc2VsZWN0b3J8fCIqKiIsYiksdGhpc30sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT0xP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3AuZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzWzBdKXJldHVybiBwLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXNbMF0sITApfSx0b2dnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLGM9YS5ndWlkfHxwLmd1aWQrKyxkPTAsZT1mdW5jdGlvbihjKXt2YXIgZT0ocC5fZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVkO3JldHVybiBwLl9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCxlKzEpLGMucHJldmVudERlZmF1bHQoKSxiW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ITF9O2UuZ3VpZD1jO3doaWxlKGQ8Yi5sZW5ndGgpYltkKytdLmd1aWQ9YztyZXR1cm4gdGhpcy5jbGljayhlKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSkscC5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7cC5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBjPT1udWxsJiYoYz1hLGE9bnVsbCksYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfSxZLnRlc3QoYikmJihwLmV2ZW50LmZpeEhvb2tzW2JdPXAuZXZlbnQua2V5SG9va3MpLFoudGVzdChiKSYmKHAuZXZlbnQuZml4SG9va3NbYl09cC5ldmVudC5tb3VzZUhvb2tzKX0pLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYmQoYSxiLGMsZCl7dmFyIGU9MCxmPWIubGVuZ3RoO2Zvcig7ZTxmO2UrKylaKGEsYltlXSxjLGQpfWZ1bmN0aW9uIGJlKGEsYixjLGQsZSxmKXt2YXIgZyxoPSQuc2V0RmlsdGVyc1tiLnRvTG93ZXJDYXNlKCldO3JldHVybiBofHxaLmVycm9yKGIpLChhfHwhKGc9ZSkpJiZiZChhfHwiKiIsZCxnPVtdLGUpLGcubGVuZ3RoPjA/aChnLGMsZik6W119ZnVuY3Rpb24gYmYoYSxjLGQsZSxmKXt2YXIgZyxoLGksaixrLGwsbSxuLHA9MCxxPWYubGVuZ3RoLHM9TC5QT1MsdD1uZXcgUmVnRXhwKCJeIitzLnNvdXJjZSsiKD8hIityKyIpIiwiaSIpLHU9ZnVuY3Rpb24oKXt2YXIgYT0xLGM9YXJndW1lbnRzLmxlbmd0aC0yO2Zvcig7YTxjO2ErKylhcmd1bWVudHNbYV09PT1iJiYoZ1thXT1iKX07Zm9yKDtwPHE7cCsrKXtzLmV4ZWMoIiIpLGE9ZltwXSxqPVtdLGk9MCxrPWU7d2hpbGUoZz1zLmV4ZWMoYSkpe249cy5sYXN0SW5kZXg9Zy5pbmRleCtnWzBdLmxlbmd0aDtpZihuPmkpe209YS5zbGljZShpLGcuaW5kZXgpLGk9bixsPVtjXSxCLnRlc3QobSkmJihrJiYobD1rKSxrPWUpO2lmKGg9SC50ZXN0KG0pKW09bS5zbGljZSgwLC01KS5yZXBsYWNlKEIsIiQmKiIpO2cubGVuZ3RoPjEmJmdbMF0ucmVwbGFjZSh0LHUpLGs9YmUobSxnWzFdLGdbMl0sbCxrLGgpfX1rPyhqPWouY29uY2F0KGspLChtPWEuc2xpY2UoaSkpJiZtIT09IikiP0IudGVzdChtKT9iZChtLGosZCxlKTpaKG0sYyxkLGU/ZS5jb25jYXQoayk6ayk6by5hcHBseShkLGopKTpaKGEsYyxkLGUpfXJldHVybiBxPT09MT9kOloudW5pcXVlU29ydChkKX1mdW5jdGlvbiBiZyhhLGIsYyl7dmFyIGQsZSxmLGc9W10saT0wLGo9RC5leGVjKGEpLGs9IWoucG9wKCkmJiFqLnBvcCgpLGw9ayYmYS5tYXRjaChDKXx8WyIiXSxtPSQucHJlRmlsdGVyLG49JC5maWx0ZXIsbz0hYyYmYiE9PWg7Zm9yKDsoZT1sW2ldKSE9bnVsbCYmaztpKyspe2cucHVzaChkPVtdKSxvJiYoZT0iICIrZSk7d2hpbGUoZSl7az0hMTtpZihqPUIuZXhlYyhlKSllPWUuc2xpY2UoalswXS5sZW5ndGgpLGs9ZC5wdXNoKHtwYXJ0OmoucG9wKCkucmVwbGFjZShBLCIgIiksY2FwdHVyZXM6an0pO2ZvcihmIGluIG4pKGo9TFtmXS5leGVjKGUpKSYmKCFtW2ZdfHwoaj1tW2ZdKGosYixjKSkpJiYoZT1lLnNsaWNlKGouc2hpZnQoKS5sZW5ndGgpLGs9ZC5wdXNoKHtwYXJ0OmYsY2FwdHVyZXM6an0pKTtpZighaylicmVha319cmV0dXJuIGt8fFouZXJyb3IoYSksZ31mdW5jdGlvbiBiaChhLGIsZSl7dmFyIGY9Yi5kaXIsZz1tKys7cmV0dXJuIGF8fChhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZX0pLGIuZmlyc3Q/ZnVuY3Rpb24oYixjKXt3aGlsZShiPWJbZl0paWYoYi5ub2RlVHlwZT09PTEpcmV0dXJuIGEoYixjKSYmYn06ZnVuY3Rpb24oYixlKXt2YXIgaCxpPWcrIi4iK2Qsaj1pKyIuIitjO3doaWxlKGI9YltmXSlpZihiLm5vZGVUeXBlPT09MSl7aWYoKGg9YltxXSk9PT1qKXJldHVybiBiLnNpenNldDtpZih0eXBlb2YgaD09InN0cmluZyImJmguaW5kZXhPZihpKT09PTApe2lmKGIuc2l6c2V0KXJldHVybiBifWVsc2V7YltxXT1qO2lmKGEoYixlKSlyZXR1cm4gYi5zaXpzZXQ9ITAsYjtiLnNpenNldD0hMX19fX1mdW5jdGlvbiBiaShhLGIpe3JldHVybiBhP2Z1bmN0aW9uKGMsZCl7dmFyIGU9YihjLGQpO3JldHVybiBlJiZhKGU9PT0hMD9jOmUsZCl9OmJ9ZnVuY3Rpb24gYmooYSxiLGMpe3ZhciBkLGUsZj0wO2Zvcig7ZD1hW2ZdO2YrKykkLnJlbGF0aXZlW2QucGFydF0/ZT1iaChlLCQucmVsYXRpdmVbZC5wYXJ0XSxiKTooZC5jYXB0dXJlcy5wdXNoKGIsYyksZT1iaShlLCQuZmlsdGVyW2QucGFydF0uYXBwbHkobnVsbCxkLmNhcHR1cmVzKSkpO3JldHVybiBlfWZ1bmN0aW9uIGJrKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkLGU9MDtmb3IoO2Q9YVtlXTtlKyspaWYoZChiLGMpKXJldHVybiEwO3JldHVybiExfX12YXIgYyxkLGUsZixnLGg9YS5kb2N1bWVudCxpPWguZG9jdW1lbnRFbGVtZW50LGo9InVuZGVmaW5lZCIsaz0hMSxsPSEwLG09MCxuPVtdLnNsaWNlLG89W10ucHVzaCxxPSgic2l6Y2FjaGUiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoIi4iLCIiKSxyPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixzPSIoPzpcXFxcLnxbLVxcd118W15cXHgwMC1cXHhhMF0pKyIsdD1zLnJlcGxhY2UoInciLCJ3IyIpLHU9IihbKl4kfCF+XT89KSIsdj0iXFxbIityKyIqKCIrcysiKSIrcisiKig/OiIrdStyKyIqKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woIit0KyIpfCl8KSIrcisiKlxcXSIsdz0iOigiK3MrIikoPzpcXCgoPzooWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwyfCgoPzpbXixdfFxcXFwsfCg/OiwoPz1bXlxcW10qXFxdKSl8KD86LCg/PVteXFwoXSpcXCkpKSkqKSlcXCl8KSIseD0iOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcXCgoXFxkKilcXCl8KSg/PVteLV18JCkiLHk9cisiKihbXFx4MjBcXHRcXHJcXG5cXGY+K35dKSIrcisiKiIsej0iKD89W15cXHgyMFxcdFxcclxcblxcZl0pKD86XFxcXC58Iit2KyJ8Iit3LnJlcGxhY2UoMiw3KSsifFteXFxcXCgpLF0pKyIsQT1uZXcgUmVnRXhwKCJeIityKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3IrIiskIiwiZyIpLEI9bmV3IFJlZ0V4cCgiXiIreSksQz1uZXcgUmVnRXhwKHorIj8oPz0iK3IrIiosfCQpIiwiZyIpLEQ9bmV3IFJlZ0V4cCgiXig/Oig/ISwpKD86KD86XnwsKSIrcisiKiIreisiKSo/fCIrcisiKiguKj8pKShcXCl8JCkiKSxFPW5ldyBSZWdFeHAoei5zbGljZSgxOSwtNikrIlxceDIwXFx0XFxyXFxuXFxmPit+XSkrfCIreSwiZyIpLEY9L14oPzojKFtcd1wtXSspfChcdyspfFwuKFtcd1wtXSspKSQvLEc9L1tceDIwXHRcclxuXGZdKlsrfl0vLEg9Lzpub3RcKCQvLEk9L2hcZC9pLEo9L2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24vaSxLPS9cXCg/IVxcKS9nLEw9e0lEOm5ldyBSZWdFeHAoIl4jKCIrcysiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitzKyIpIiksTkFNRTpuZXcgUmVnRXhwKCJeXFxbbmFtZT1bJ1wiXT8oIitzKyIpWydcIl0/XFxdIiksVEFHOm5ldyBSZWdFeHAoIl4oIitzLnJlcGxhY2UoIlstIiwiWy1cXCoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrdiksUFNFVURPOm5ldyBSZWdFeHAoIl4iK3cpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XFwoIityKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIityKyIqKD86KFsrLV18KSIrcisiKihcXGQrKXwpKSIrcisiKlxcKXwpIiwiaSIpLFBPUzpuZXcgUmVnRXhwKHgsImlnIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK3IrIipbPit+XXwiK3gsImkiKX0sTT17fSxOPVtdLE89e30sUD1bXSxRPWZ1bmN0aW9uKGEpe3JldHVybiBhLnNpenpsZUZpbHRlcj0hMCxhfSxSPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmYi50eXBlPT09YX19LFM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYz09PSJpbnB1dCJ8fGM9PT0iYnV0dG9uIikmJmIudHlwZT09PWF9fSxUPWZ1bmN0aW9uKGEpe3ZhciBiPSExLGM9aC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7Yj1hKGMpfWNhdGNoKGQpe31yZXR1cm4gYz1udWxsLGJ9LFU9VChmdW5jdGlvbihhKXthLmlubmVySFRNTD0iPHNlbGVjdD48L3NlbGVjdD4iO3ZhciBiPXR5cGVvZiBhLmxhc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIm11bHRpcGxlIik7cmV0dXJuIGIhPT0iYm9vbGVhbiImJmIhPT0ic3RyaW5nIn0pLFY9VChmdW5jdGlvbihhKXthLmlkPXErMCxhLmlubmVySFRNTD0iPGEgbmFtZT0nIitxKyInPjwvYT48ZGl2IG5hbWU9JyIrcSsiJz48L2Rpdj4iLGkuaW5zZXJ0QmVmb3JlKGEsaS5maXJzdENoaWxkKTt2YXIgYj1oLmdldEVsZW1lbnRzQnlOYW1lJiZoLmdldEVsZW1lbnRzQnlOYW1lKHEpLmxlbmd0aD09PTIraC5nZXRFbGVtZW50c0J5TmFtZShxKzApLmxlbmd0aDtyZXR1cm4gZz0haC5nZXRFbGVtZW50QnlJZChxKSxpLnJlbW92ZUNoaWxkKGEpLGJ9KSxXPVQoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoaC5jcmVhdGVDb21tZW50KCIiKSksYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aD09PTB9KSxYPVQoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IixhLmZpcnN0Q2hpbGQmJnR5cGVvZiBhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlIT09aiYmYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09IiMifSksWT1UKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGRpdiBjbGFzcz0naGlkZGVuIGUnPjwvZGl2PjxkaXYgY2xhc3M9J2hpZGRlbic+PC9kaXY+IiwhYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lfHxhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0wPyExOihhLmxhc3RDaGlsZC5jbGFzc05hbWU9ImUiLGEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aCE9PTEpfSksWj1mdW5jdGlvbihhLGIsYyxkKXtjPWN8fFtdLGI9Ynx8aDt2YXIgZSxmLGcsaSxqPWIubm9kZVR5cGU7aWYoaiE9PTEmJmohPT05KXJldHVybltdO2lmKCFhfHx0eXBlb2YgYSE9InN0cmluZyIpcmV0dXJuIGM7Zz1iYShiKTtpZighZyYmIWQpaWYoZT1GLmV4ZWMoYSkpaWYoaT1lWzFdKXtpZihqPT09OSl7Zj1iLmdldEVsZW1lbnRCeUlkKGkpO2lmKCFmfHwhZi5wYXJlbnROb2RlKXJldHVybiBjO2lmKGYuaWQ9PT1pKXJldHVybiBjLnB1c2goZiksY31lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGY9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpKSYmYmIoYixmKSYmZi5pZD09PWkpcmV0dXJuIGMucHVzaChmKSxjfWVsc2V7aWYoZVsyXSlyZXR1cm4gby5hcHBseShjLG4uY2FsbChiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpLDApKSxjO2lmKChpPWVbM10pJiZZJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIG8uYXBwbHkoYyxuLmNhbGwoYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpLDApKSxjfXJldHVybiBibShhLGIsYyxkLGcpfSwkPVouc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxtYXRjaDpMLG9yZGVyOlsiSUQiLCJUQUciXSxhdHRySGFuZGxlOnt9LGNyZWF0ZVBzZXVkbzpRLGZpbmQ6e0lEOmc/ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09aiYmIWMpe3ZhciBkPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGQmJmQucGFyZW50Tm9kZT9bZF06W119fTpmdW5jdGlvbihhLGMsZCl7aWYodHlwZW9mIGMuZ2V0RWxlbWVudEJ5SWQhPT1qJiYhZCl7dmFyIGU9Yy5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gZT9lLmlkPT09YXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9PWomJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS52YWx1ZT09PWE/W2VdOmI6W119fSxUQUc6Vz9mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09ailyZXR1cm4gYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKGE9PT0iKiIpe3ZhciBkLGU9W10sZj0wO2Zvcig7ZD1jW2ZdO2YrKylkLm5vZGVUeXBlPT09MSYmZS5wdXNoKGQpO3JldHVybiBlfXJldHVybiBjfX0scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKEssIiIpLGFbM109KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKEssIiIpLGFbMl09PT0ifj0iJiYoYVszXT0iICIrYVszXSsiICIpLGEuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS50b0xvd2VyQ2FzZSgpLGFbMV09PT0ibnRoIj8oYVsyXXx8Wi5lcnJvcihhWzBdKSxhWzNdPSsoYVszXT9hWzRdKyhhWzVdfHwxKToyKihhWzJdPT09ImV2ZW4ifHxhWzJdPT09Im9kZCIpKSxhWzRdPSsoYVs2XSthWzddfHxhWzJdPT09Im9kZCIpKTphWzJdJiZaLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPWFbNF07cmV0dXJuIEwuQ0hJTEQudGVzdChhWzBdKT9udWxsOihjJiYoYj1ELmV4ZWMoYykpJiZiLnBvcCgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYlswXS5sZW5ndGgtYy5sZW5ndGgtMSksYz1iWzBdLnNsaWNlKDAsLTEpKSxhLnNwbGljZSgyLDMsY3x8YVszXSksYSl9fSxmaWx0ZXI6e0lEOmc/ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKEssIiIpLGZ1bmN0aW9uKGIpe3JldHVybiBiLmdldEF0dHJpYnV0ZSgiaWQiKT09PWF9fTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoSywiIiksZnVuY3Rpb24oYil7dmFyIGM9dHlwZW9mIGIuZ2V0QXR0cmlidXRlTm9kZSE9PWomJmIuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWF9fSxUQUc6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0iKiI/ZnVuY3Rpb24oKXtyZXR1cm4hMH06KGE9YS5yZXBsYWNlKEssIiIpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7cmV0dXJuIGIubm9kZU5hbWUmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWF9KX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9TVthXTtyZXR1cm4gYnx8KGI9TVthXT1uZXcgUmVnRXhwKCIoXnwiK3IrIikiK2ErIigiK3IrInwkKSIpLE4ucHVzaChhKSxOLmxlbmd0aD4kLmNhY2hlTGVuZ3RoJiZkZWxldGUgTVtOLnNoaWZ0KCldKSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KGEuY2xhc3NOYW1lfHx0eXBlb2YgYS5nZXRBdHRyaWJ1dGUhPT1qJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI/ZnVuY3Rpb24oZCl7dmFyIGU9Wi5hdHRyKGQsYSksZj1lKyIiO2lmKGU9PW51bGwpcmV0dXJuIGI9PT0iIT0iO3N3aXRjaChiKXtjYXNlIj0iOnJldHVybiBmPT09YztjYXNlIiE9IjpyZXR1cm4gZiE9PWM7Y2FzZSJePSI6cmV0dXJuIGMmJmYuaW5kZXhPZihjKT09PTA7Y2FzZSIqPSI6cmV0dXJuIGMmJmYuaW5kZXhPZihjKT4tMTtjYXNlIiQ9IjpyZXR1cm4gYyYmZi5zdWJzdHIoZi5sZW5ndGgtYy5sZW5ndGgpPT09YztjYXNlIn49IjpyZXR1cm4oIiAiK2YrIiAiKS5pbmRleE9mKGMpPi0xO2Nhc2UifD0iOnJldHVybiBmPT09Y3x8Zi5zdWJzdHIoMCxjLmxlbmd0aCsxKT09PWMrIi0ifX06ZnVuY3Rpb24oYil7cmV0dXJuIFouYXR0cihiLGEpIT1udWxsfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYT09PSJudGgiKXt2YXIgZT1tKys7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiLGYsZz0wLGg9YTtpZihjPT09MSYmZD09PTApcmV0dXJuITA7Yj1hLnBhcmVudE5vZGU7aWYoYiYmKGJbcV0hPT1lfHwhYS5zaXpzZXQpKXtmb3IoaD1iLmZpcnN0Q2hpbGQ7aDtoPWgubmV4dFNpYmxpbmcpaWYoaC5ub2RlVHlwZT09PTEpe2guc2l6c2V0PSsrZztpZihoPT09YSlicmVha31iW3FdPWV9cmV0dXJuIGY9YS5zaXpzZXQtZCxjPT09MD9mPT09MDpmJWM9PT0wJiZmL2M+PTB9fXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iO3N3aXRjaChhKXtjYXNlIm9ubHkiOmNhc2UiZmlyc3QiOndoaWxlKGM9Yy5wcmV2aW91c1NpYmxpbmcpaWYoYy5ub2RlVHlwZT09PTEpcmV0dXJuITE7aWYoYT09PSJmaXJzdCIpcmV0dXJuITA7Yz1iO2Nhc2UibGFzdCI6d2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGMubm9kZVR5cGU9PT0xKXJldHVybiExO3JldHVybiEwfX19LFBTRVVETzpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT0kLnBzZXVkb3NbYV18fCQucHNldWRvc1thLnRvTG93ZXJDYXNlKCldO3JldHVybiBlfHxaLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYSksZS5zaXp6bGVGaWx0ZXI/ZShiLGMsZCk6ZX19LHBzZXVkb3M6e25vdDpRKGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1ibChhLnJlcGxhY2UoQSwiJDEiKSxiLGMpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4hZChhKX19KSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBiPT09ImlucHV0IiYmISFhLmNoZWNrZWR8fGI9PT0ib3B0aW9uIiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hJC5wc2V1ZG9zLmVtcHR5KGEpfSxlbXB0eTpmdW5jdGlvbihhKXt2YXIgYjthPWEuZmlyc3RDaGlsZDt3aGlsZShhKXtpZihhLm5vZGVOYW1lPiJAInx8KGI9YS5ub2RlVHlwZSk9PT0zfHxiPT09NClyZXR1cm4hMTthPWEubmV4dFNpYmxpbmd9cmV0dXJuITB9LGNvbnRhaW5zOlEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8YmMoYikpLmluZGV4T2YoYSk+LTF9fSksaGFzOlEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBaKGEsYikubGVuZ3RoPjB9fSksaGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBJLnRlc3QoYS5ub2RlTmFtZSl9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmKGI9YS50eXBlKT09PSJ0ZXh0IiYmKChjPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpPT1udWxsfHxjLnRvTG93ZXJDYXNlKCk9PT1iKX0scmFkaW86UigicmFkaW8iKSxjaGVja2JveDpSKCJjaGVja2JveCIpLGZpbGU6UigiZmlsZSIpLHBhc3N3b3JkOlIoInBhc3N3b3JkIiksaW1hZ2U6UigiaW1hZ2UiKSxzdWJtaXQ6Uygic3VibWl0IikscmVzZXQ6UygicmVzZXQiKSxidXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiBiPT09ImlucHV0IiYmYS50eXBlPT09ImJ1dHRvbiJ8fGI9PT0iYnV0dG9uIn0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoudGVzdChhLm5vZGVOYW1lKX0sZm9jdXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O3JldHVybiBhPT09Yi5hY3RpdmVFbGVtZW50JiYoIWIuaGFzRm9jdXN8fGIuaGFzRm9jdXMoKSkmJighIWEudHlwZXx8ISFhLmhyZWYpfSxhY3RpdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz9hLnNsaWNlKDEpOlthWzBdXX0sbGFzdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5wb3AoKTtyZXR1cm4gYz9hOltkXX0sZXZlbjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1jPzE6MCxmPWEubGVuZ3RoO2Zvcig7ZTxmO2U9ZSsyKWQucHVzaChhW2VdKTtyZXR1cm4gZH0sb2RkOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPWM/MDoxLGY9YS5sZW5ndGg7Zm9yKDtlPGY7ZT1lKzIpZC5wdXNoKGFbZV0pO3JldHVybiBkfSxsdDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/YS5zbGljZSgrYik6YS5zbGljZSgwLCtiKX0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP2Euc2xpY2UoMCwrYisxKTphLnNsaWNlKCtiKzEpfSxlcTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5zcGxpY2UoK2IsMSk7cmV0dXJuIGM/YTpkfX19OyQuc2V0RmlsdGVycy5udGg9JC5zZXRGaWx0ZXJzLmVxLCQuZmlsdGVycz0kLnBzZXVkb3MsWHx8KCQuYXR0ckhhbmRsZT17aHJlZjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidHlwZSIpfX0pLFYmJigkLm9yZGVyLnB1c2goIk5BTUUiKSwkLmZpbmQuTkFNRT1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlOYW1lIT09ailyZXR1cm4gYi5nZXRFbGVtZW50c0J5TmFtZShhKX0pLFkmJigkLm9yZGVyLnNwbGljZSgxLDAsIkNMQVNTIiksJC5maW5kLkNMQVNTPWZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT09aiYmIWMpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKX0pO3RyeXtuLmNhbGwoaS5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKF8pe249ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoO2I9dGhpc1thXTthKyspYy5wdXNoKGIpO3JldHVybiBjfX12YXIgYmE9Wi5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/Yi5ub2RlTmFtZSE9PSJIVE1MIjohMX0sYmI9Wi5jb250YWlucz1pLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGEsYil7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNil9OmkuY29udGFpbnM/ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm5vZGVUeXBlPT09OT9hLmRvY3VtZW50RWxlbWVudDphLGQ9Yi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISEoZCYmZC5ub2RlVHlwZT09PTEmJmMuY29udGFpbnMmJmMuY29udGFpbnMoZCkpfTpmdW5jdGlvbihhLGIpe3doaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxiYz1aLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZT1hLm5vZGVUeXBlO2lmKGUpe2lmKGU9PT0xfHxlPT09OXx8ZT09PTExKXtpZih0eXBlb2YgYS50ZXh0Q29udGVudD09InN0cmluZyIpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWJjKGEpfWVsc2UgaWYoZT09PTN8fGU9PT00KXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIGZvcig7Yj1hW2RdO2QrKyljKz1iYyhiKTtyZXR1cm4gY307Wi5hdHRyPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iYShhKTtyZXR1cm4gZHx8KGI9Yi50b0xvd2VyQ2FzZSgpKSwkLmF0dHJIYW5kbGVbYl0/JC5hdHRySGFuZGxlW2JdKGEpOlV8fGQ/YS5nZXRBdHRyaWJ1dGUoYik6KGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpLGM/dHlwZW9mIGFbYl09PSJib29sZWFuIj9hW2JdP2I6bnVsbDpjLnNwZWNpZmllZD9jLnZhbHVlOm51bGw6bnVsbCl9LFouZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2EpfSxbMCwwXS5zb3J0KGZ1bmN0aW9uKCl7cmV0dXJuIGw9MH0pLGkuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZT1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yj8oaz0hMCwwKTooIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb246YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSY0KT8tMToxfTooZT1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBrPSEwLDA7aWYoYS5zb3VyY2VJbmRleCYmYi5zb3VyY2VJbmRleClyZXR1cm4gYS5zb3VyY2VJbmRleC1iLnNvdXJjZUluZGV4O3ZhciBjLGQsZT1bXSxnPVtdLGg9YS5wYXJlbnROb2RlLGk9Yi5wYXJlbnROb2RlLGo9aDtpZihoPT09aSlyZXR1cm4gZihhLGIpO2lmKCFoKXJldHVybi0xO2lmKCFpKXJldHVybiAxO3doaWxlKGopZS51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2o9aTt3aGlsZShqKWcudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtjPWUubGVuZ3RoLGQ9Zy5sZW5ndGg7Zm9yKHZhciBsPTA7bDxjJiZsPGQ7bCsrKWlmKGVbbF0hPT1nW2xdKXJldHVybiBmKGVbbF0sZ1tsXSk7cmV0dXJuIGw9PT1jP2YoYSxnW2xdLC0xKTpmKGVbbF0sYiwxKX0sZj1mdW5jdGlvbihhLGIsYyl7aWYoYT09PWIpcmV0dXJuIGM7dmFyIGQ9YS5uZXh0U2libGluZzt3aGlsZShkKXtpZihkPT09YilyZXR1cm4tMTtkPWQubmV4dFNpYmxpbmd9cmV0dXJuIDF9KSxaLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0xO2lmKGUpe2s9bCxhLnNvcnQoZSk7aWYoaylmb3IoO2I9YVtjXTtjKyspYj09PWFbYy0xXSYmYS5zcGxpY2UoYy0tLDEpfXJldHVybiBhfTt2YXIgYmw9Wi5jb21waWxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZz1PW2FdO2lmKGcmJmcuY29udGV4dD09PWIpcmV0dXJuIGc7ZT1iZyhhLGIsYyk7Zm9yKGY9MDtkPWVbZl07ZisrKWVbZl09YmooZCxiLGMpO3JldHVybiBnPU9bYV09YmsoZSksZy5jb250ZXh0PWIsZy5ydW5zPWcuZGlycnVucz0wLFAucHVzaChhKSxQLmxlbmd0aD4kLmNhY2hlTGVuZ3RoJiZkZWxldGUgT1tQLnNoaWZ0KCldLGd9O1oubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBaKGEsbnVsbCxudWxsLGIpfSxaLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe3JldHVybiBaKGIsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9O3ZhciBibT1mdW5jdGlvbihhLGIsZSxmLGcpe2E9YS5yZXBsYWNlKEEsIiQxIik7dmFyIGgsaSxqLGssbCxtLHAscSxyLHM9YS5tYXRjaChDKSx0PWEubWF0Y2goRSksdT1iLm5vZGVUeXBlO2lmKEwuUE9TLnRlc3QoYSkpcmV0dXJuIGJmKGEsYixlLGYscyk7aWYoZiloPW4uY2FsbChmLDApO2Vsc2UgaWYocyYmcy5sZW5ndGg9PT0xKXtpZih0Lmxlbmd0aD4xJiZ1PT09OSYmIWcmJihzPUwuSUQuZXhlYyh0WzBdKSkpe2I9JC5maW5kLklEKHNbMV0sYixnKVswXTtpZighYilyZXR1cm4gZTthPWEuc2xpY2UodC5zaGlmdCgpLmxlbmd0aCl9cT0ocz1HLmV4ZWModFswXSkpJiYhcy5pbmRleCYmYi5wYXJlbnROb2RlfHxiLHI9dC5wb3AoKSxtPXIuc3BsaXQoIjpub3QiKVswXTtmb3Ioaj0wLGs9JC5vcmRlci5sZW5ndGg7ajxrO2orKyl7cD0kLm9yZGVyW2pdO2lmKHM9TFtwXS5leGVjKG0pKXtoPSQuZmluZFtwXSgoc1sxXXx8IiIpLnJlcGxhY2UoSywiIikscSxnKTtpZihoPT1udWxsKWNvbnRpbnVlO209PT1yJiYoYT1hLnNsaWNlKDAsYS5sZW5ndGgtci5sZW5ndGgpK20ucmVwbGFjZShMW3BdLCIiKSxhfHxvLmFwcGx5KGUsbi5jYWxsKGgsMCkpKTticmVha319fWlmKGEpe2k9YmwoYSxiLGcpLGQ9aS5kaXJydW5zKyssaD09bnVsbCYmKGg9JC5maW5kLlRBRygiKiIsRy50ZXN0KGEpJiZiLnBhcmVudE5vZGV8fGIpKTtmb3Ioaj0wO2w9aFtqXTtqKyspYz1pLnJ1bnMrKyxpKGwsYikmJmUucHVzaChsKX1yZXR1cm4gZX07aC5xdWVyeVNlbGVjdG9yQWxsJiZmdW5jdGlvbigpe3ZhciBhLGI9Ym0sYz0vJ3xcXC9nLGQ9L1w9W1x4MjBcdFxyXG5cZl0qKFteJyJcXV0qKVtceDIwXHRcclxuXGZdKlxdL2csZT1bXSxmPVsiOmFjdGl2ZSJdLGc9aS5tYXRjaGVzU2VsZWN0b3J8fGkubW96TWF0Y2hlc1NlbGVjdG9yfHxpLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8aS5vTWF0Y2hlc1NlbGVjdG9yfHxpLm1zTWF0Y2hlc1NlbGVjdG9yO1QoZnVuY3Rpb24oYSl7YS5pbm5lckhUTUw9IjxzZWxlY3Q+PG9wdGlvbiBzZWxlY3RlZD48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8ZS5wdXNoKCJcXFsiK3IrIiooPzpjaGVja2VkfGRpc2FibGVkfGlzbWFwfG11bHRpcGxlfHJlYWRvbmx5fHNlbGVjdGVkfHZhbHVlKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fGUucHVzaCgiOmNoZWNrZWQiKX0pLFQoZnVuY3Rpb24oYSl7YS5pbm5lckhUTUw9IjxwIHRlc3Q9Jyc+PC9wPiIsYS5xdWVyeVNlbGVjdG9yQWxsKCJbdGVzdF49JyddIikubGVuZ3RoJiZlLnB1c2goIlsqXiRdPSIrcisiKig/OlwiXCJ8JycpIiksYS5pbm5lckhUTUw9IjxpbnB1dCB0eXBlPSdoaWRkZW4nPiIsYS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8ZS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpfSksZT1lLmxlbmd0aCYmbmV3IFJlZ0V4cChlLmpvaW4oInwiKSksYm09ZnVuY3Rpb24oYSxkLGYsZyxoKXtpZighZyYmIWgmJighZXx8IWUudGVzdChhKSkpaWYoZC5ub2RlVHlwZT09PTkpdHJ5e3JldHVybiBvLmFwcGx5KGYsbi5jYWxsKGQucXVlcnlTZWxlY3RvckFsbChhKSwwKSksZn1jYXRjaChpKXt9ZWxzZSBpZihkLm5vZGVUeXBlPT09MSYmZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe3ZhciBqPWQuZ2V0QXR0cmlidXRlKCJpZCIpLGs9anx8cSxsPUcudGVzdChhKSYmZC5wYXJlbnROb2RlfHxkO2o/az1rLnJlcGxhY2UoYywiXFwkJiIpOmQuc2V0QXR0cmlidXRlKCJpZCIsayk7dHJ5e3JldHVybiBvLmFwcGx5KGYsbi5jYWxsKGwucXVlcnlTZWxlY3RvckFsbChhLnJlcGxhY2UoQywiW2lkPSciK2srIiddICQmIikpLDApKSxmfWNhdGNoKGkpe31maW5hbGx5e2p8fGQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX1yZXR1cm4gYihhLGQsZixnLGgpfSxnJiYoVChmdW5jdGlvbihiKXthPWcuY2FsbChiLCJkaXYiKTt0cnl7Zy5jYWxsKGIsIlt0ZXN0IT0nJ106c2l6emxlIiksZi5wdXNoKCQubWF0Y2guUFNFVURPKX1jYXRjaChjKXt9fSksZj1uZXcgUmVnRXhwKGYuam9pbigifCIpKSxaLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe2M9Yy5yZXBsYWNlKGQsIj0nJDEnXSIpO2lmKCFiYShiKSYmIWYudGVzdChjKSYmKCFlfHwhZS50ZXN0KGMpKSl0cnl7dmFyIGg9Zy5jYWxsKGIsYyk7aWYoaHx8YXx8Yi5kb2N1bWVudCYmYi5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXJldHVybiBofWNhdGNoKGkpe31yZXR1cm4gWihjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfSl9KCksWi5hdHRyPXAuYXR0cixwLmZpbmQ9WixwLmV4cHI9Wi5zZWxlY3RvcnMscC5leHByWyI6Il09cC5leHByLnBzZXVkb3MscC51bmlxdWU9Wi51bmlxdWVTb3J0LHAudGV4dD1aLmdldFRleHQscC5pc1hNTERvYz1aLmlzWE1MLHAuY29udGFpbnM9Wi5jb250YWluc30oYSk7dmFyIGJjPS9VbnRpbCQvLGJkPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLGJlPS9eLlteOiNcW1wuLF0qJC8sYmY9cC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxiZz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtwLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD10aGlzO2lmKHR5cGVvZiBhIT0ic3RyaW5nIilyZXR1cm4gcChhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wLGM9aC5sZW5ndGg7YjxjO2IrKylpZihwLmNvbnRhaW5zKGhbYl0sdGhpcykpcmV0dXJuITB9KTtnPXRoaXMucHVzaFN0YWNrKCIiLCJmaW5kIixhKTtmb3IoYj0wLGM9dGhpcy5sZW5ndGg7YjxjO2IrKyl7ZD1nLmxlbmd0aCxwLmZpbmQoYSx0aGlzW2JdLGcpO2lmKGI+MClmb3IoZT1kO2U8Zy5sZW5ndGg7ZSsrKWZvcihmPTA7ZjxkO2YrKylpZihnW2ZdPT09Z1tlXSl7Zy5zcGxpY2UoZS0tLDEpO2JyZWFrfX1yZXR1cm4gZ30saGFzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9cChhLHRoaXMpLGQ9Yy5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtiPGQ7YisrKWlmKHAuY29udGFpbnModGhpcyxjW2JdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJqKHRoaXMsYSwhMSksIm5vdCIsYSl9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmoodGhpcyxhLCEwKSwiZmlsdGVyIixhKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiYodHlwZW9mIGE9PSJzdHJpbmciP2JmLnRlc3QoYSk/cChhLHRoaXMuY29udGV4dCkuaW5kZXgodGhpc1swXSk+PTA6cC5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MDp0aGlzLmZpbHRlcihhKS5sZW5ndGg+MCl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9YmYudGVzdChhKXx8dHlwZW9mIGEhPSJzdHJpbmciP3AoYSxifHx0aGlzLmNvbnRleHQpOjA7Zm9yKDtkPGU7ZCsrKXtjPXRoaXNbZF07d2hpbGUoYyYmYy5vd25lckRvY3VtZW50JiZjIT09YiYmYy5ub2RlVHlwZSE9PTExKXtpZihnP2cuaW5kZXgoYyk+LTE6cC5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKXtmLnB1c2goYyk7YnJlYWt9Yz1jLnBhcmVudE5vZGV9fXJldHVybiBmPWYubGVuZ3RoPjE/cC51bmlxdWUoZik6Zix0aGlzLnB1c2hTdGFjayhmLCJjbG9zZXN0IixhKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dHlwZW9mIGE9PSJzdHJpbmciP3AuaW5BcnJheSh0aGlzWzBdLHAoYSkpOnAuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE9PSJzdHJpbmciP3AoYSxiKTpwLm1ha2VBcnJheShhJiZhLm5vZGVUeXBlP1thXTphKSxkPXAubWVyZ2UodGhpcy5nZXQoKSxjKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmgoY1swXSl8fGJoKGRbMF0pP2Q6cC51bmlxdWUoZCkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChhPT1udWxsP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KSxwLmZuLmFuZFNlbGY9cC5mbi5hZGRCYWNrLHAuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5ub2RlVHlwZSE9PTExP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gcC5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBwLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYmkoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gYmkoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAuZGlyKGEsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHAuZGlyKGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBwLmRpcihhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHAuZGlyKGEsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiBwLnNpYmxpbmcoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiBwLnNpYmxpbmcoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHAubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpwLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe3AuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1wLm1hcCh0aGlzLGIsYyk7cmV0dXJuIGJjLnRlc3QoYSl8fChkPWMpLGQmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGU9cC5maWx0ZXIoZCxlKSksZT10aGlzLmxlbmd0aD4xJiYhYmdbYV0/cC51bmlxdWUoZSk6ZSx0aGlzLmxlbmd0aD4xJiZiZC50ZXN0KGEpJiYoZT1lLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZSxhLGsuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9fSkscC5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMmJihhPSI6bm90KCIrYSsiKSIpLGIubGVuZ3RoPT09MT9wLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJbMF0sYSk/W2JbMF1dOltdOnAuZmluZC5tYXRjaGVzKGEsYil9LGRpcjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9W10sZj1hW2NdO3doaWxlKGYmJmYubm9kZVR5cGUhPT05JiYoZD09PWJ8fGYubm9kZVR5cGUhPT0xfHwhcChmKS5pcyhkKSkpZi5ub2RlVHlwZT09PTEmJmUucHVzaChmKSxmPWZbY107cmV0dXJuIGV9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtmb3IoO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZVR5cGU9PT0xJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pO3ZhciBibD0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsYm09LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyxibj0vXlxzKy8sYm89LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxicD0vPChbXHc6XSspLyxicT0vPHRib2R5L2ksYnI9Lzx8JiM/XHcrOy8sYnM9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxidD0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLGJ1PW5ldyBSZWdFeHAoIjwoPzoiK2JsKyIpW1xccy8+XSIsImkiKSxidj0vXig/OmNoZWNrYm94fHJhZGlvKSQvLGJ3PS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGJ4PS9cLyhqYXZhfGVjbWEpc2NyaXB0L2ksYnk9L15ccyo8ISg/OlxbQ0RBVEFcW3xcLVwtKXxbXF1cLV17Mn0+XHMqJC9nLGJ6PXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19LGJBPWJrKGUpLGJCPWJBLmFwcGVuZENoaWxkKGUuY3JlYXRlRWxlbWVudCgiZGl2IikpO2J6Lm9wdGdyb3VwPWJ6Lm9wdGlvbixiei50Ym9keT1iei50Zm9vdD1iei5jb2xncm91cD1iei5jYXB0aW9uPWJ6LnRoZWFkLGJ6LnRoPWJ6LnRkLHAuc3VwcG9ydC5odG1sU2VyaWFsaXplfHwoYnouX2RlZmF1bHQ9WzEsIlg8ZGl2PiIsIjwvZGl2PiJdKSxwLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gcC5hY2Nlc3ModGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWI/cC50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8ZSkuY3JlYXRlVGV4dE5vZGUoYSkpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHdyYXBBbGw6ZnVuY3Rpb24oYSl7aWYocC5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7cCh0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPXAoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJmEuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTEpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gcC5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtwKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1wKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPXAuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3AodGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtwLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8cCh0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXsodGhpcy5ub2RlVHlwZT09PTF8fHRoaXMubm9kZVR5cGU9PT0xMSkmJnRoaXMuYXBwZW5kQ2hpbGQoYSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXsodGhpcy5ub2RlVHlwZT09PTF8fHRoaXMubm9kZVR5cGU9PT0xMSkmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZighYmgodGhpc1swXSkpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXAuY2xlYW4oYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socC5tZXJnZShhLHRoaXMpLCJiZWZvcmUiLHRoaXMuc2VsZWN0b3IpfX0sYWZ0ZXI6ZnVuY3Rpb24oKXtpZighYmgodGhpc1swXSkpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzLm5leHRTaWJsaW5nKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPXAuY2xlYW4oYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socC5tZXJnZSh0aGlzLGEpLCJhZnRlciIsdGhpcy5zZWxlY3Rvcil9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7Zm9yKDsoYz10aGlzW2RdKSE9bnVsbDtkKyspaWYoIWF8fHAuZmlsdGVyKGEsW2NdKS5sZW5ndGgpIWImJmMubm9kZVR5cGU9PT0xJiYocC5jbGVhbkRhdGEoYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSxwLmNsZWFuRGF0YShbY10pKSxjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXt2YXIgYSxiPTA7Zm9yKDsoYT10aGlzW2JdKSE9bnVsbDtiKyspe2Eubm9kZVR5cGU9PT0xJiZwLmNsZWFuRGF0YShhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpO3doaWxlKGEuZmlyc3RDaGlsZClhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9YT09bnVsbD8hMTphLGI9Yj09bnVsbD9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gcC5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gcC5hY2Nlc3ModGhpcyxmdW5jdGlvbihhKXt2YXIgYz10aGlzWzBdfHx7fSxkPTAsZT10aGlzLmxlbmd0aDtpZihhPT09YilyZXR1cm4gYy5ub2RlVHlwZT09PTE/Yy5pbm5lckhUTUwucmVwbGFjZShibSwiIik6YjtpZih0eXBlb2YgYT09InN0cmluZyImJiFicy50ZXN0KGEpJiYocC5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fCFidS50ZXN0KGEpKSYmKHAuc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZXx8IWJuLnRlc3QoYSkpJiYhYnpbKGJwLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShibywiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZDxlO2QrKyljPXRoaXNbZF18fHt9LGMubm9kZVR5cGU9PT0xJiYocC5jbGVhbkRhdGEoYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSxjLmlubmVySFRNTD1hKTtjPTB9Y2F0Y2goZil7fX1jJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEpe3JldHVybiBiaCh0aGlzWzBdKT90aGlzLmxlbmd0aD90aGlzLnB1c2hTdGFjayhwKHAuaXNGdW5jdGlvbihhKT9hKCk6YSksInJlcGxhY2VXaXRoIixhKTp0aGlzOnAuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9cCh0aGlzKSxkPWMuaHRtbCgpO2MucmVwbGFjZVdpdGgoYS5jYWxsKHRoaXMsYixkKSl9KToodHlwZW9mIGEhPSJzdHJpbmciJiYoYT1wKGEpLmRldGFjaCgpKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj10aGlzLm5leHRTaWJsaW5nLGM9dGhpcy5wYXJlbnROb2RlO3AodGhpcykucmVtb3ZlKCksYj9wKGIpLmJlZm9yZShhKTpwKGMpLmFwcGVuZChhKX0pKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxjLGQpe2E9W10uY29uY2F0LmFwcGx5KFtdLGEpO3ZhciBlLGYsZyxoLGk9MCxqPWFbMF0saz1bXSxsPXRoaXMubGVuZ3RoO2lmKCFwLnN1cHBvcnQuY2hlY2tDbG9uZSYmbD4xJiZ0eXBlb2Ygaj09InN0cmluZyImJmJ3LnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3AodGhpcykuZG9tTWFuaXAoYSxjLGQpfSk7aWYocC5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9cCh0aGlzKTthWzBdPWouY2FsbCh0aGlzLGUsYz9mLmh0bWwoKTpiKSxmLmRvbU1hbmlwKGEsYyxkKX0pO2lmKHRoaXNbMF0pe2U9cC5idWlsZEZyYWdtZW50KGEsdGhpcyxrKSxnPWUuZnJhZ21lbnQsZj1nLmZpcnN0Q2hpbGQsZy5jaGlsZE5vZGVzLmxlbmd0aD09PTEmJihnPWYpO2lmKGYpe2M9YyYmcC5ub2RlTmFtZShmLCJ0ciIpO2ZvcihoPWUuY2FjaGVhYmxlfHxsLTE7aTxsO2krKylkLmNhbGwoYyYmcC5ub2RlTmFtZSh0aGlzW2ldLCJ0YWJsZSIpP2JDKHRoaXNbaV0sInRib2R5Iik6dGhpc1tpXSxpPT09aD9nOnAuY2xvbmUoZywhMCwhMCkpfWc9Zj1udWxsLGsubGVuZ3RoJiZwLmVhY2goayxmdW5jdGlvbihhLGIpe2Iuc3JjP3AuYWpheD9wLmFqYXgoe3VybDpiLnNyYyx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pOnAuZXJyb3IoIm5vIGFqYXgiKTpwLmdsb2JhbEV2YWwoKGIudGV4dHx8Yi50ZXh0Q29udGVudHx8Yi5pbm5lckhUTUx8fCIiKS5yZXBsYWNlKGJ5LCIiKSksYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9KX1yZXR1cm4gdGhpc319KSxwLmJ1aWxkRnJhZ21lbnQ9ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGcsaCxpPWFbMF07cmV0dXJuIGM9Y3x8ZSxjPShjWzBdfHxjKS5vd25lckRvY3VtZW50fHxjWzBdfHxjLHR5cGVvZiBjLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9PSJ1bmRlZmluZWQiJiYoYz1lKSxhLmxlbmd0aD09PTEmJnR5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg8NTEyJiZjPT09ZSYmaS5jaGFyQXQoMCk9PT0iPCImJiFidC50ZXN0KGkpJiYocC5zdXBwb3J0LmNoZWNrQ2xvbmV8fCFidy50ZXN0KGkpKSYmKHAuc3VwcG9ydC5odG1sNUNsb25lfHwhYnUudGVzdChpKSkmJihnPSEwLGY9cC5mcmFnbWVudHNbaV0saD1mIT09YiksZnx8KGY9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscC5jbGVhbihhLGMsZixkKSxnJiYocC5mcmFnbWVudHNbaV09aCYmZikpLHtmcmFnbWVudDpmLGNhY2hlYWJsZTpnfX0scC5mcmFnbWVudHM9e30scC5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtwLmZuW2FdPWZ1bmN0aW9uKGMpe3ZhciBkLGU9MCxmPVtdLGc9cChjKSxoPWcubGVuZ3RoLGk9dGhpcy5sZW5ndGg9PT0xJiZ0aGlzWzBdLnBhcmVudE5vZGU7aWYoKGk9PW51bGx8fGkmJmkubm9kZVR5cGU9PT0xMSYmaS5jaGlsZE5vZGVzLmxlbmd0aD09PTEpJiZoPT09MSlyZXR1cm4gZ1tiXSh0aGlzWzBdKSx0aGlzO2Zvcig7ZTxoO2UrKylkPShlPjA/dGhpcy5jbG9uZSghMCk6dGhpcykuZ2V0KCkscChnW2VdKVtiXShkKSxmPWYuY29uY2F0KGQpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmLGEsZy5zZWxlY3Rvcil9fSkscC5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZztwLnN1cHBvcnQuaHRtbDVDbG9uZXx8cC5pc1hNTERvYyhhKXx8IWJ1LnRlc3QoIjwiK2Eubm9kZU5hbWUrIj4iKT9nPWEuY2xvbmVOb2RlKCEwKTooYkIuaW5uZXJIVE1MPWEub3V0ZXJIVE1MLGJCLnJlbW92ZUNoaWxkKGc9YkIuZmlyc3RDaGlsZCkpO2lmKCghcC5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IXAuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihhLm5vZGVUeXBlPT09MXx8YS5ub2RlVHlwZT09PTExKSYmIXAuaXNYTUxEb2MoYSkpe2JFKGEsZyksZD1iRihhKSxlPWJGKGcpO2ZvcihmPTA7ZFtmXTsrK2YpZVtmXSYmYkUoZFtmXSxlW2ZdKX1pZihiKXtiRChhLGcpO2lmKGMpe2Q9YkYoYSksZT1iRihnKTtmb3IoZj0wO2RbZl07KytmKWJEKGRbZl0sZVtmXSl9fXJldHVybiBkPWU9bnVsbCxnfSxjbGVhbjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxxLHIscz0wLHQ9W107aWYoIWJ8fHR5cGVvZiBiLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQ9PSJ1bmRlZmluZWQiKWI9ZTtmb3IoZz1iPT09ZSYmYkE7KGg9YVtzXSkhPW51bGw7cysrKXt0eXBlb2YgaD09Im51bWJlciImJihoKz0iIik7aWYoIWgpY29udGludWU7aWYodHlwZW9mIGg9PSJzdHJpbmciKWlmKCFici50ZXN0KGgpKWg9Yi5jcmVhdGVUZXh0Tm9kZShoKTtlbHNle2c9Z3x8YmsoYiksbD1sfHxnLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudCgiZGl2IikpLGg9aC5yZXBsYWNlKGJvLCI8JDE+PC8kMj4iKSxpPShicC5leGVjKGgpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGo9YnpbaV18fGJ6Ll9kZWZhdWx0LGs9alswXSxsLmlubmVySFRNTD1qWzFdK2gralsyXTt3aGlsZShrLS0pbD1sLmxhc3RDaGlsZDtpZighcC5zdXBwb3J0LnRib2R5KXttPWJxLnRlc3QoaCksbj1pPT09InRhYmxlIiYmIW0/bC5maXJzdENoaWxkJiZsLmZpcnN0Q2hpbGQuY2hpbGROb2RlczpqWzFdPT09Ijx0YWJsZT4iJiYhbT9sLmNoaWxkTm9kZXM6W107Zm9yKGY9bi5sZW5ndGgtMTtmPj0wOy0tZilwLm5vZGVOYW1lKG5bZl0sInRib2R5IikmJiFuW2ZdLmNoaWxkTm9kZXMubGVuZ3RoJiZuW2ZdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobltmXSl9IXAuc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSYmYm4udGVzdChoKSYmbC5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZShibi5leGVjKGgpWzBdKSxsLmZpcnN0Q2hpbGQpLGg9bC5jaGlsZE5vZGVzLGw9Zy5sYXN0Q2hpbGR9aC5ub2RlVHlwZT90LnB1c2goaCk6dD1wLm1lcmdlKHQsaCl9bCYmKGcucmVtb3ZlQ2hpbGQobCksaD1sPWc9bnVsbCk7aWYoIXAuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWZvcihzPTA7KGg9dFtzXSkhPW51bGw7cysrKXAubm9kZU5hbWUoaCwiaW5wdXQiKT9iRyhoKTp0eXBlb2YgaC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJnAuZ3JlcChoLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLGJHKTtpZihjKXtxPWZ1bmN0aW9uKGEpe2lmKCFhLnR5cGV8fGJ4LnRlc3QoYS50eXBlKSlyZXR1cm4gZD9kLnB1c2goYS5wYXJlbnROb2RlP2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTphKTpjLmFwcGVuZENoaWxkKGEpfTtmb3Iocz0wOyhoPXRbc10pIT1udWxsO3MrKylpZighcC5ub2RlTmFtZShoLCJzY3JpcHQiKXx8IXEoaCkpYy5hcHBlbmRDaGlsZChoKSx0eXBlb2YgaC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJihyPXAuZ3JlcChwLm1lcmdlKFtdLGguZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSxxKSx0LnNwbGljZS5hcHBseSh0LFtzKzEsMF0uY29uY2F0KHIpKSxzKz1yLmxlbmd0aCl9cmV0dXJuIHR9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9MCxoPXAuZXhwYW5kbyxpPXAuY2FjaGUsaj1wLnN1cHBvcnQuZGVsZXRlRXhwYW5kbyxrPXAuZXZlbnQuc3BlY2lhbDtmb3IoOyhlPWFbZ10pIT1udWxsO2crKylpZihifHxwLmFjY2VwdERhdGEoZSkpe2Q9ZVtoXSxjPWQmJmlbZF07aWYoYyl7aWYoYy5ldmVudHMpZm9yKGYgaW4gYy5ldmVudHMpa1tmXT9wLmV2ZW50LnJlbW92ZShlLGYpOnAucmVtb3ZlRXZlbnQoZSxmLGMuaGFuZGxlKTtpW2RdJiYoZGVsZXRlIGlbZF0saj9kZWxldGUgZVtoXTplLnJlbW92ZUF0dHJpYnV0ZT9lLnJlbW92ZUF0dHJpYnV0ZShoKTplW2hdPW51bGwscC5kZWxldGVkSWRzLnB1c2goZCkpfX19fSksZnVuY3Rpb24oKXt2YXIgYSxiO3AudWFNYXRjaD1mdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj0vKGNocm9tZSlbIFwvXShbXHcuXSspLy5leGVjKGEpfHwvKHdlYmtpdClbIFwvXShbXHcuXSspLy5leGVjKGEpfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS8uZXhlYyhhKXx8Lyhtc2llKSAoW1x3Ll0rKS8uZXhlYyhhKXx8YS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmLyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKXwpLy5leGVjKGEpfHxbXTtyZXR1cm57YnJvd3NlcjpiWzFdfHwiIix2ZXJzaW9uOmJbMl18fCIwIn19LGE9cC51YU1hdGNoKGcudXNlckFnZW50KSxiPXt9LGEuYnJvd3NlciYmKGJbYS5icm93c2VyXT0hMCxiLnZlcnNpb249YS52ZXJzaW9uKSxiLndlYmtpdCYmKGIuc2FmYXJpPSEwKSxwLmJyb3dzZXI9YixwLnN1Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtyZXR1cm4gbmV3IGEuZm4uaW5pdChiLGMpfXAuZXh0ZW5kKCEwLGEsdGhpcyksYS5zdXBlcmNsYXNzPXRoaXMsYS5mbj1hLnByb3RvdHlwZT10aGlzKCksYS5mbi5jb25zdHJ1Y3Rvcj1hLGEuc3ViPXRoaXMuc3ViLGEuZm4uaW5pdD1mdW5jdGlvbiBjKGMsZCl7cmV0dXJuIGQmJmQgaW5zdGFuY2VvZiBwJiYhKGQgaW5zdGFuY2VvZiBhKSYmKGQ9YShkKSkscC5mbi5pbml0LmNhbGwodGhpcyxjLGQsYil9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgYj1hKGUpO3JldHVybiBhfX0oKTt2YXIgYkgsYkksYkosYks9L2FscGhhXChbXildKlwpL2ksYkw9L29wYWNpdHk9KFteKV0qKS8sYk09L14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvLGJOPS9ebWFyZ2luLyxiTz1uZXcgUmVnRXhwKCJeKCIrcSsiKSguKikkIiwiaSIpLGJQPW5ldyBSZWdFeHAoIl4oIitxKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksYlE9bmV3IFJlZ0V4cCgiXihbLStdKT0oIitxKyIpIiwiaSIpLGJSPXt9LGJTPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxiVD17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwLGxpbmVIZWlnaHQ6MX0sYlU9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxiVj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdLGJXPXAuZm4udG9nZ2xlO3AuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gcC5hY2Nlc3ModGhpcyxmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQhPT1iP3Auc3R5bGUoYSxjLGQpOnAuY3NzKGEsYyl9LGEsYyxhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIGJaKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIGJaKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYT09ImJvb2xlYW4iO3JldHVybiBwLmlzRnVuY3Rpb24oYSkmJnAuaXNGdW5jdGlvbihiKT9iVy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7KGM/YTpiWSh0aGlzKSk/cCh0aGlzKS5zaG93KCk6cCh0aGlzKS5oaWRlKCl9KX19KSxwLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPWJIKGEsIm9wYWNpdHkiKTtyZXR1cm4gYz09PSIiPyIxIjpjfX19fSxjc3NOdW1iZXI6e2ZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjpwLnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCFhfHxhLm5vZGVUeXBlPT09M3x8YS5ub2RlVHlwZT09PTh8fCFhLnN0eWxlKXJldHVybjt2YXIgZixnLGgsaT1wLmNhbWVsQ2FzZShjKSxqPWEuc3R5bGU7Yz1wLmNzc1Byb3BzW2ldfHwocC5jc3NQcm9wc1tpXT1iWChqLGkpKSxoPXAuY3NzSG9va3NbY118fHAuY3NzSG9va3NbaV07aWYoZD09PWIpcmV0dXJuIGgmJiJnZXQiaW4gaCYmKGY9aC5nZXQoYSwhMSxlKSkhPT1iP2Y6altjXTtnPXR5cGVvZiBkLGc9PT0ic3RyaW5nIiYmKGY9YlEuZXhlYyhkKSkmJihkPShmWzFdKzEpKmZbMl0rcGFyc2VGbG9hdChwLmNzcyhhLGMpKSxnPSJudW1iZXIiKTtpZihkPT1udWxsfHxnPT09Im51bWJlciImJmlzTmFOKGQpKXJldHVybjtnPT09Im51bWJlciImJiFwLmNzc051bWJlcltpXSYmKGQrPSJweCIpO2lmKCFofHwhKCJzZXQiaW4gaCl8fChkPWguc2V0KGEsZCxlKSkhPT1iKXRyeXtqW2NdPWR9Y2F0Y2goayl7fX0sY3NzOmZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaCxpPXAuY2FtZWxDYXNlKGMpO3JldHVybiBjPXAuY3NzUHJvcHNbaV18fChwLmNzc1Byb3BzW2ldPWJYKGEuc3R5bGUsaSkpLGg9cC5jc3NIb29rc1tjXXx8cC5jc3NIb29rc1tpXSxoJiYiZ2V0ImluIGgmJihmPWguZ2V0KGEsITAsZSkpLGY9PT1iJiYoZj1iSChhLGMpKSxmPT09Im5vcm1hbCImJmMgaW4gYlQmJihmPWJUW2NdKSxkfHxlIT09Yj8oZz1wYXJzZUZsb2F0KGYpLGR8fHAuaXNOdW1lcmljKGcpP2d8fDA6Zik6Zn0sc3dhcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9O2ZvcihlIGluIGIpZltlXT1hLnN0eWxlW2VdLGEuc3R5bGVbZV09YltlXTtkPWMuY2FsbChhKTtmb3IoZSBpbiBiKWEuc3R5bGVbZV09ZltlXTtyZXR1cm4gZH19KSxhLmdldENvbXB1dGVkU3R5bGU/Ykg9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPWdldENvbXB1dGVkU3R5bGUoYSxudWxsKSxoPWEuc3R5bGU7cmV0dXJuIGcmJihjPWdbYl0sYz09PSIiJiYhcC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGEpJiYoYz1wLnN0eWxlKGEsYikpLGJQLnRlc3QoYykmJmJOLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1jLGM9Zy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLGN9OmUuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKGJIPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEuY3VycmVudFN0eWxlJiZhLmN1cnJlbnRTdHlsZVtiXSxmPWEuc3R5bGU7cmV0dXJuIGU9PW51bGwmJmYmJmZbYl0mJihlPWZbYl0pLGJQLnRlc3QoZSkmJiFiTS50ZXN0KGIpJiYoYz1mLmxlZnQsZD1hLnJ1bnRpbWVTdHlsZSYmYS5ydW50aW1lU3R5bGUubGVmdCxkJiYoYS5ydW50aW1lU3R5bGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxmLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6ZSxlPWYucGl4ZWxMZWZ0KyJweCIsZi5sZWZ0PWMsZCYmKGEucnVudGltZVN0eWxlLmxlZnQ9ZCkpLGU9PT0iIj8iYXV0byI6ZX0pLHAuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtwLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe2lmKGMpcmV0dXJuIGEub2Zmc2V0V2lkdGghPT0wfHxiSChhLCJkaXNwbGF5IikhPT0ibm9uZSI/Y2EoYSxiLGQpOnAuc3dhcChhLGJTLGZ1bmN0aW9uKCl7cmV0dXJuIGNhKGEsYixkKX0pfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBiJChhLGMsZD9iXyhhLGIsZCxwLnN1cHBvcnQuYm94U2l6aW5nJiZwLmNzcyhhLCJib3hTaXppbmciKT09PSJib3JkZXItYm94Iik6MCl9fX0pLHAuc3VwcG9ydC5vcGFjaXR5fHwocC5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYkwudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPXAuaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrYioxMDArIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MTtpZihiPj0xJiZwLnRyaW0oZi5yZXBsYWNlKGJLLCIiKSk9PT0iIiYmYy5yZW1vdmVBdHRyaWJ1dGUpe2MucmVtb3ZlQXR0cmlidXRlKCJmaWx0ZXIiKTtpZihkJiYhZC5maWx0ZXIpcmV0dXJufWMuZmlsdGVyPWJLLnRlc3QoZik/Zi5yZXBsYWNlKGJLLGUpOmYrIiAiK2V9fSkscChmdW5jdGlvbigpe3Auc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0fHwocC5jc3NIb29rcy5tYXJnaW5SaWdodD17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHAuc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxmdW5jdGlvbigpe2lmKGIpcmV0dXJuIGJIKGEsIm1hcmdpblJpZ2h0Iil9KX19KSwhcC5zdXBwb3J0LnBpeGVsUG9zaXRpb24mJnAuZm4ucG9zaXRpb24mJnAuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihhLGIpe3AuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMpe2lmKGMpe3ZhciBkPWJIKGEsYik7cmV0dXJuIGJQLnRlc3QoZCk/cChhKS5wb3NpdGlvbigpW2JdKyJweCI6ZH19fX0pfSkscC5leHByJiZwLmV4cHIuZmlsdGVycyYmKHAuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aD09PTAmJmEub2Zmc2V0SGVpZ2h0PT09MHx8IXAuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJihhLnN0eWxlJiZhLnN0eWxlLmRpc3BsYXl8fGJIKGEsImRpc3BsYXkiKSk9PT0ibm9uZSJ9LHAuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIXAuZXhwci5maWx0ZXJzLmhpZGRlbihhKX0pLHAuZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGEsYil7cC5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7dmFyIGQsZT10eXBlb2YgYz09InN0cmluZyI/Yy5zcGxpdCgiICIpOltjXSxmPXt9O2ZvcihkPTA7ZDw0O2QrKylmW2ErYlVbZF0rYl09ZVtkXXx8ZVtkLTJdfHxlWzBdO3JldHVybiBmfX0sYk4udGVzdChhKXx8KHAuY3NzSG9va3NbYStiXS5zZXQ9YiQpfSk7dmFyIGNjPS8lMjAvZyxjZD0vXFtcXSQvLGNlPS9ccj9cbi9nLGNmPS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxkYXRldGltZS1sb2NhbHxlbWFpbHxoaWRkZW58bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaSxjZz0vXig/OnNlbGVjdHx0ZXh0YXJlYSkvaTtwLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHAucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cz9wLm1ha2VBcnJheSh0aGlzLmVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSYmIXRoaXMuZGlzYWJsZWQmJih0aGlzLmNoZWNrZWR8fGNnLnRlc3QodGhpcy5ub2RlTmFtZSl8fGNmLnRlc3QodGhpcy50eXBlKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1wKHRoaXMpLnZhbCgpO3JldHVybiBjPT1udWxsP251bGw6cC5pc0FycmF5KGMpP3AubWFwKGMsZnVuY3Rpb24oYSxjKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKGNlLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShjZSwiXHJcbiIpfX0pLmdldCgpfX0pLHAucGFyYW09ZnVuY3Rpb24oYSxjKXt2YXIgZCxlPVtdLGY9ZnVuY3Rpb24oYSxiKXtiPXAuaXNGdW5jdGlvbihiKT9iKCk6Yj09bnVsbD8iIjpiLGVbZS5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtjPT09YiYmKGM9cC5hamF4U2V0dGluZ3MmJnAuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihwLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhcC5pc1BsYWluT2JqZWN0KGEpKXAuZWFjaChhLGZ1bmN0aW9uKCl7Zih0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihkIGluIGEpY2goZCxhW2RdLGMsZik7cmV0dXJuIGUuam9pbigiJiIpLnJlcGxhY2UoY2MsIisiKX07dmFyIGNpLGNqLGNrPS8jLiokLyxjbD0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLGNtPS9eKD86YWJvdXR8YXBwfGFwcFwtc3RvcmFnZXwuK1wtZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sY249L14oPzpHRVR8SEVBRCkkLyxjbz0vXlwvXC8vLGNwPS9cPy8sY3E9LzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksY3I9LyhbPyZdKV89W14mXSovLGNzPS9eKFtcd1wrXC5cLV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxjdD1wLmZuLmxvYWQsY3U9e30sY3Y9e30sY3c9WyIqLyJdK1siKiJdO3RyeXtjaT1mLmhyZWZ9Y2F0Y2goY3gpe2NpPWUuY3JlYXRlRWxlbWVudCgiYSIpLGNpLmhyZWY9IiIsY2k9Y2kuaHJlZn1jaj1jcy5leGVjKGNpLnRvTG93ZXJDYXNlKCkpfHxbXSxwLmZuLmxvYWQ9ZnVuY3Rpb24oYSxjLGQpe2lmKHR5cGVvZiBhIT0ic3RyaW5nIiYmY3QpcmV0dXJuIGN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGUsZixnLGg9dGhpcyxpPWEuaW5kZXhPZigiICIpO3JldHVybiBpPj0wJiYoZT1hLnNsaWNlKGksYS5sZW5ndGgpLGE9YS5zbGljZSgwLGkpKSxwLmlzRnVuY3Rpb24oYyk/KGQ9YyxjPWIpOnR5cGVvZiBjPT0ib2JqZWN0IiYmKGY9IlBPU1QiKSxwLmFqYXgoe3VybDphLHR5cGU6ZixkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYil7ZCYmaC5lYWNoKGQsZ3x8W2EucmVzcG9uc2VUZXh0LGIsYV0pfX0pLmRvbmUoZnVuY3Rpb24oYSl7Zz1hcmd1bWVudHMsaC5odG1sKGU/cCgiPGRpdj4iKS5hcHBlbmQoYS5yZXBsYWNlKGNxLCIiKSkuZmluZChlKTphKX0pLHRoaXN9LHAuZWFjaCgiYWpheFN0YXJ0IGFqYXhTdG9wIGFqYXhDb21wbGV0ZSBhamF4RXJyb3IgYWpheFN1Y2Nlc3MgYWpheFNlbmQiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtwLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSkscC5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGEsYyl7cFtjXT1mdW5jdGlvbihhLGQsZSxmKXtyZXR1cm4gcC5pc0Z1bmN0aW9uKGQpJiYoZj1mfHxlLGU9ZCxkPWIpLHAuYWpheCh7dHlwZTpjLHVybDphLGRhdGE6ZCxzdWNjZXNzOmUsZGF0YVR5cGU6Zn0pfX0pLHAuZXh0ZW5kKHtnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gcC5nZXQoYSxiLGMsInNjcmlwdCIpfSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gcC5nZXQoYSxiLGMsImpzb24iKX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/Y0EoYSxwLmFqYXhTZXR0aW5ncyk6KGI9YSxhPXAuYWpheFNldHRpbmdzKSxjQShhLGIpLGF9LGFqYXhTZXR0aW5nczp7dXJsOmNpLGlzTG9jYWw6Y20udGVzdChjalsxXSksZ2xvYmFsOiEwLHR5cGU6IkdFVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsYWNjZXB0czp7eG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixodG1sOiJ0ZXh0L2h0bWwiLHRleHQ6InRleHQvcGxhaW4iLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCIsIioiOmN3fSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0In0sY29udmVydGVyczp7IiogdGV4dCI6YS5TdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6cC5wYXJzZUpTT04sInRleHQgeG1sIjpwLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7Y29udGV4dDohMCx1cmw6ITB9fSxhamF4UHJlZmlsdGVyOmN5KGN1KSxhamF4VHJhbnNwb3J0OmN5KGN2KSxhamF4OmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24geShhLGMsZixpKXt2YXIgayxzLHQsdSx3LHk9YztpZih2PT09MilyZXR1cm47dj0yLGgmJmNsZWFyVGltZW91dChoKSxnPWIsZT1pfHwiIix4LnJlYWR5U3RhdGU9YT4wPzQ6MCxmJiYodT1jQihsLHgsZikpO2lmKGE+PTIwMCYmYTwzMDB8fGE9PT0zMDQpbC5pZk1vZGlmaWVkJiYodz14LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKHAubGFzdE1vZGlmaWVkW2RdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpLHcmJihwLmV0YWdbZF09dykpLGE9PT0zMDQ/KHk9Im5vdG1vZGlmaWVkIixrPSEwKTooaz1jQyhsLHUpLHk9ay5zdGF0ZSxzPWsuZGF0YSx0PWsuZXJyb3Isaz0hdCk7ZWxzZXt0PXk7aWYoIXl8fGEpeT0iZXJyb3IiLGE8MCYmKGE9MCl9eC5zdGF0dXM9YSx4LnN0YXR1c1RleHQ9IiIrKGN8fHkpLGs/by5yZXNvbHZlV2l0aChtLFtzLHkseF0pOm8ucmVqZWN0V2l0aChtLFt4LHksdF0pLHguc3RhdHVzQ29kZShyKSxyPWIsaiYmbi50cmlnZ2VyKCJhamF4Iisoaz8iU3VjY2VzcyI6IkVycm9yIiksW3gsbCxrP3M6dF0pLHEuZmlyZVdpdGgobSxbeCx5XSksaiYmKG4udHJpZ2dlcigiYWpheENvbXBsZXRlIixbeCxsXSksLS1wLmFjdGl2ZXx8cC5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKX10eXBlb2YgYT09Im9iamVjdCImJihjPWEsYT1iKSxjPWN8fHt9O3ZhciBkLGUsZixnLGgsaSxqLGssbD1wLmFqYXhTZXR1cCh7fSxjKSxtPWwuY29udGV4dHx8bCxuPW0hPT1sJiYobS5ub2RlVHlwZXx8bSBpbnN0YW5jZW9mIHApP3AobSk6cC5ldmVudCxvPXAuRGVmZXJyZWQoKSxxPXAuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHI9bC5zdGF0dXNDb2RlfHx7fSx0PXt9LHU9e30sdj0wLHc9ImNhbmNlbGVkIix4PXtyZWFkeVN0YXRlOjAsc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe2lmKCF2KXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7YT11W2NdPXVbY118fGEsdFthXT1ifXJldHVybiB0aGlzfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdj09PTI/ZTpudWxsfSxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYztpZih2PT09Mil7aWYoIWYpe2Y9e307d2hpbGUoYz1jbC5leGVjKGUpKWZbY1sxXS50b0xvd2VyQ2FzZSgpXT1jWzJdfWM9ZlthLnRvTG93ZXJDYXNlKCldfXJldHVybiBjPT09Yj9udWxsOmN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZ8fChsLm1pbWVUeXBlPWEpLHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWF8fHcsZyYmZy5hYm9ydChhKSx5KDAsYSksdGhpc319O28ucHJvbWlzZSh4KSx4LnN1Y2Nlc3M9eC5kb25lLHguZXJyb3I9eC5mYWlsLHguY29tcGxldGU9cS5hZGQseC5zdGF0dXNDb2RlPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiO2lmKHY8Milmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSBiPWFbeC5zdGF0dXNdLHguYWx3YXlzKGIpfXJldHVybiB0aGlzfSxsLnVybD0oKGF8fGwudXJsKSsiIikucmVwbGFjZShjaywiIikucmVwbGFjZShjbyxjalsxXSsiLy8iKSxsLmRhdGFUeXBlcz1wLnRyaW0obC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KHMpLGwuY3Jvc3NEb21haW49PW51bGwmJihpPWNzLmV4ZWMobC51cmwudG9Mb3dlckNhc2UoKSksbC5jcm9zc0RvbWFpbj0hKCFpfHxpWzFdPT1jalsxXSYmaVsyXT09Y2pbMl0mJihpWzNdfHwoaVsxXT09PSJodHRwOiI/ODA6NDQzKSk9PShjalszXXx8KGNqWzFdPT09Imh0dHA6Ij84MDo0NDMpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmdHlwZW9mIGwuZGF0YSE9InN0cmluZyImJihsLmRhdGE9cC5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLGN6KGN1LGwsYyx4KTtpZih2PT09MilyZXR1cm4geDtqPWwuZ2xvYmFsLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IWNuLnRlc3QobC50eXBlKSxqJiZwLmFjdGl2ZSsrPT09MCYmcC5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtpZighbC5oYXNDb250ZW50KXtsLmRhdGEmJihsLnVybCs9KGNwLnRlc3QobC51cmwpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxkPWwudXJsO2lmKGwuY2FjaGU9PT0hMSl7dmFyIHo9cC5ub3coKSxBPWwudXJsLnJlcGxhY2UoY3IsIiQxXz0iK3opO2wudXJsPUErKEE9PT1sLnVybD8oY3AudGVzdChsLnVybCk/IiYiOiI/IikrIl89Iit6OiIiKX19KGwuZGF0YSYmbC5oYXNDb250ZW50JiZsLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ4LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsbC5jb250ZW50VHlwZSksbC5pZk1vZGlmaWVkJiYoZD1kfHxsLnVybCxwLmxhc3RNb2RpZmllZFtkXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIscC5sYXN0TW9kaWZpZWRbZF0pLHAuZXRhZ1tkXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixwLmV0YWdbZF0pKSx4LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsobC5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgIitjdysiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGsgaW4gbC5oZWFkZXJzKXguc2V0UmVxdWVzdEhlYWRlcihrLGwuaGVhZGVyc1trXSk7aWYoIWwuYmVmb3JlU2VuZHx8bC5iZWZvcmVTZW5kLmNhbGwobSx4LGwpIT09ITEmJnYhPT0yKXt3PSJhYm9ydCI7Zm9yKGsgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtrXShsW2tdKTtnPWN6KGN2LGwsYyx4KTtpZighZyl5KC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3gucmVhZHlTdGF0ZT0xLGomJm4udHJpZ2dlcigiYWpheFNlbmQiLFt4LGxdKSxsLmFzeW5jJiZsLnRpbWVvdXQ+MCYmKGg9c2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3Y9MSxnLnNlbmQodCx5KX1jYXRjaChCKXtpZih2PDIpeSgtMSxCKTtlbHNlIHRocm93IEJ9fXJldHVybiB4fXJldHVybiB4LmFib3J0KCl9LGFjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9fSk7dmFyIGNEPVtdLGNFPS9cPy8sY0Y9Lyg9KVw/KD89JnwkKXxcP1w/LyxjRz1wLm5vdygpO3AuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1jRC5wb3AoKXx8cC5leHBhbmRvKyJfIitjRysrO3JldHVybiB0aGlzW2FdPSEwLGF9fSkscC5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihjLGQsZSl7dmFyIGYsZyxoLGk9Yy5kYXRhLGo9Yy51cmwsaz1jLmpzb25wIT09ITEsbD1rJiZjRi50ZXN0KGopLG09ayYmIWwmJnR5cGVvZiBpPT0ic3RyaW5nIiYmIShjLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJmNGLnRlc3QoaSk7aWYoYy5kYXRhVHlwZXNbMF09PT0ianNvbnAifHxsfHxtKXJldHVybiBmPWMuanNvbnBDYWxsYmFjaz1wLmlzRnVuY3Rpb24oYy5qc29ucENhbGxiYWNrKT9jLmpzb25wQ2FsbGJhY2soKTpjLmpzb25wQ2FsbGJhY2ssZz1hW2ZdLGw/Yy51cmw9ai5yZXBsYWNlKGNGLCIkMSIrZik6bT9jLmRhdGE9aS5yZXBsYWNlKGNGLCIkMSIrZik6ayYmKGMudXJsKz0oY0UudGVzdChqKT8iJiI6Ij8iKStjLmpzb25wKyI9IitmKSxjLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gaHx8cC5lcnJvcihmKyIgd2FzIG5vdCBjYWxsZWQiKSxoWzBdfSxjLmRhdGFUeXBlc1swXT0ianNvbiIsYVtmXT1mdW5jdGlvbigpe2g9YXJndW1lbnRzfSxlLmFsd2F5cyhmdW5jdGlvbigpe2FbZl09ZyxjW2ZdJiYoYy5qc29ucENhbGxiYWNrPWQuanNvbnBDYWxsYmFjayxjRC5wdXNoKGYpKSxoJiZwLmlzRnVuY3Rpb24oZykmJmcoaFswXSksaD1nPWJ9KSwic2NyaXB0In0pLHAuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovamF2YXNjcmlwdHxlY21hc2NyaXB0L30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihhKXtyZXR1cm4gcC5nbG9iYWxFdmFsKGEpLGF9fX0pLHAuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihhKXthLmNhY2hlPT09YiYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIsYS5nbG9iYWw9ITEpfSkscC5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBjLGQ9ZS5oZWFkfHxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGUuZG9jdW1lbnRFbGVtZW50O3JldHVybntzZW5kOmZ1bmN0aW9uKGYsZyl7Yz1lLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGMuYXN5bmM9ImFzeW5jIixhLnNjcmlwdENoYXJzZXQmJihjLmNoYXJzZXQ9YS5zY3JpcHRDaGFyc2V0KSxjLnNyYz1hLnVybCxjLm9ubG9hZD1jLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihhLGUpe2lmKGV8fCFjLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYy5yZWFkeVN0YXRlKSljLm9ubG9hZD1jLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGQmJmMucGFyZW50Tm9kZSYmZC5yZW1vdmVDaGlsZChjKSxjPWIsZXx8ZygyMDAsInN1Y2Nlc3MiKX0sZC5pbnNlcnRCZWZvcmUoYyxkLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMub25sb2FkKDAsMSl9fX19KTt2YXIgY0gsY0k9YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGNIKWNIW2FdKDAsMSl9OiExLGNKPTA7cC5hamF4U2V0dGluZ3MueGhyPWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTG9jYWwmJmNLKCl8fGNMKCl9OmNLLGZ1bmN0aW9uKGEpe3AuZXh0ZW5kKHAuc3VwcG9ydCx7YWpheDohIWEsY29yczohIWEmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gYX0pfShwLmFqYXhTZXR0aW5ncy54aHIoKSkscC5zdXBwb3J0LmFqYXgmJnAuYWpheFRyYW5zcG9ydChmdW5jdGlvbihjKXtpZighYy5jcm9zc0RvbWFpbnx8cC5zdXBwb3J0LmNvcnMpe3ZhciBkO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWMueGhyKCk7Yy51c2VybmFtZT9pLm9wZW4oYy50eXBlLGMudXJsLGMuYXN5bmMsYy51c2VybmFtZSxjLnBhc3N3b3JkKTppLm9wZW4oYy50eXBlLGMudXJsLGMuYXN5bmMpO2lmKGMueGhyRmllbGRzKWZvcihoIGluIGMueGhyRmllbGRzKWlbaF09Yy54aHJGaWVsZHNbaF07Yy5taW1lVHlwZSYmaS5vdmVycmlkZU1pbWVUeXBlJiZpLm92ZXJyaWRlTWltZVR5cGUoYy5taW1lVHlwZSksIWMuY3Jvc3NEb21haW4mJiFlWyJYLVJlcXVlc3RlZC1XaXRoIl0mJihlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7dHJ5e2ZvcihoIGluIGUpaS5zZXRSZXF1ZXN0SGVhZGVyKGgsZVtoXSl9Y2F0Y2goail7fWkuc2VuZChjLmhhc0NvbnRlbnQmJmMuZGF0YXx8bnVsbCksZD1mdW5jdGlvbihhLGUpe3ZhciBoLGosayxsLG07dHJ5e2lmKGQmJihlfHxpLnJlYWR5U3RhdGU9PT00KSl7ZD1iLGcmJihpLm9ucmVhZHlzdGF0ZWNoYW5nZT1wLm5vb3AsY0kmJmRlbGV0ZSBjSFtnXSk7aWYoZSlpLnJlYWR5U3RhdGUhPT00JiZpLmFib3J0KCk7ZWxzZXtoPWkuc3RhdHVzLGs9aS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxsPXt9LG09aS5yZXNwb25zZVhNTCxtJiZtLmRvY3VtZW50RWxlbWVudCYmKGwueG1sPW0pO3RyeXtsLnRleHQ9aS5yZXNwb25zZVRleHR9Y2F0Y2goYSl7fXRyeXtqPWkuc3RhdHVzVGV4dH1jYXRjaChuKXtqPSIifSFoJiZjLmlzTG9jYWwmJiFjLmNyb3NzRG9tYWluP2g9bC50ZXh0PzIwMDo0MDQ6aD09PTEyMjMmJihoPTIwNCl9fX1jYXRjaChvKXtlfHxmKC0xLG8pfWwmJmYoaCxqLGwsayl9LGMuYXN5bmM/aS5yZWFkeVN0YXRlPT09ND9zZXRUaW1lb3V0KGQsMCk6KGc9KytjSixjSSYmKGNIfHwoY0g9e30scChhKS51bmxvYWQoY0kpKSxjSFtnXT1kKSxpLm9ucmVhZHlzdGF0ZWNoYW5nZT1kKTpkKCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZCgwLDEpfX19fSk7dmFyIGNNLGNOLGNPPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjUD1uZXcgUmVnRXhwKCJeKD86KFstK10pPXwpKCIrcSsiKShbYS16JV0qKSQiLCJpIiksY1E9L3F1ZXVlSG9va3MkLyxjUj1bY1hdLGNTPXsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcy5jcmVhdGVUd2VlbihhLGIpLGc9Y1AuZXhlYyhiKSxoPWYuY3VyKCksaT0raHx8MCxqPTE7aWYoZyl7Yz0rZ1syXSxkPWdbM118fChwLmNzc051bWJlclthXT8iIjoicHgiKTtpZihkIT09InB4IiYmaSl7aT1wLmNzcyhmLmVsZW0sYSwhMCl8fGN8fDE7ZG8gZT1qPWp8fCIuNSIsaT1pL2oscC5zdHlsZShmLmVsZW0sYSxpK2QpLGo9Zi5jdXIoKS9oO3doaWxlKGohPT0xJiZqIT09ZSl9Zi51bml0PWQsZi5zdGFydD1pLGYuZW5kPWdbMV0/aSsoZ1sxXSsxKSpjOmN9cmV0dXJuIGZ9XX07cC5BbmltYXRpb249cC5leHRlbmQoY1Yse3R3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtwLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEuc3BsaXQoIiAiKTt2YXIgYyxkPTAsZT1hLmxlbmd0aDtmb3IoO2Q8ZTtkKyspYz1hW2RdLGNTW2NdPWNTW2NdfHxbXSxjU1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP2NSLnVuc2hpZnQoYSk6Y1IucHVzaChhKX19KSxwLlR3ZWVuPWNZLGNZLnByb3RvdHlwZT17Y29uc3RydWN0b3I6Y1ksaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8InN3aW5nIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KHAuY3NzTnVtYmVyW2NdPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1jWS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6Y1kucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9Y1kucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMucG9zPWI9cC5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbiksdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6Y1kucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sY1kucHJvdG90eXBlLmluaXQucHJvdG90eXBlPWNZLnByb3RvdHlwZSxjWS5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGEuZWxlbVthLnByb3BdPT1udWxsfHwhIWEuZWxlbS5zdHlsZSYmYS5lbGVtLnN0eWxlW2EucHJvcF0hPW51bGw/KGI9cC5jc3MoYS5lbGVtLGEucHJvcCwhMSwiIiksIWJ8fGI9PT0iYXV0byI/MDpiKTphLmVsZW1bYS5wcm9wXX0sc2V0OmZ1bmN0aW9uKGEpe3AuZnguc3RlcFthLnByb3BdP3AuZnguc3RlcFthLnByb3BdKGEpOmEuZWxlbS5zdHlsZSYmKGEuZWxlbS5zdHlsZVtwLmNzc1Byb3BzW2EucHJvcF1dIT1udWxsfHxwLmNzc0hvb2tzW2EucHJvcF0pP3Auc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpOmEuZWxlbVthLnByb3BdPWEubm93fX19LGNZLnByb3BIb29rcy5zY3JvbGxUb3A9Y1kucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0scC5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPXAuZm5bYl07cC5mbltiXT1mdW5jdGlvbihkLGUsZil7cmV0dXJuIGQ9PW51bGx8fHR5cGVvZiBkPT0iYm9vbGVhbiJ8fCFhJiZwLmlzRnVuY3Rpb24oZCkmJnAuaXNGdW5jdGlvbihlKT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoY1ooYiwhMCksZCxlLGYpfX0pLHAuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKGJZKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1wLmlzRW1wdHlPYmplY3QoYSksZj1wLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9Y1YodGhpcyxwLmV4dGVuZCh7fSxhKSxmKTtlJiZiLnN0b3AoITApfTtyZXR1cm4gZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoZCl9O3JldHVybiB0eXBlb2YgYSE9InN0cmluZyImJihkPWMsYz1hLGE9YiksYyYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGM9YSE9bnVsbCYmYSsicXVldWVIb29rcyIsZj1wLnRpbWVycyxnPXAuX2RhdGEodGhpcyk7aWYoYylnW2NdJiZnW2NdLnN0b3AmJmUoZ1tjXSk7ZWxzZSBmb3IoYyBpbiBnKWdbY10mJmdbY10uc3RvcCYmY1EudGVzdChjKSYmZShnW2NdKTtmb3IoYz1mLmxlbmd0aDtjLS07KWZbY10uZWxlbT09PXRoaXMmJihhPT1udWxsfHxmW2NdLnF1ZXVlPT09YSkmJihmW2NdLmFuaW0uc3RvcChkKSxiPSExLGYuc3BsaWNlKGMsMSkpOyhifHwhZCkmJnAuZGVxdWV1ZSh0aGlzLGEpfSl9fSkscC5lYWNoKHtzbGlkZURvd246Y1ooInNob3ciKSxzbGlkZVVwOmNaKCJoaWRlIiksc2xpZGVUb2dnbGU6Y1ooInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtwLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLHAuc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJnR5cGVvZiBhPT0ib2JqZWN0Ij9wLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fHAuaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhcC5pc0Z1bmN0aW9uKGIpJiZifTtkLmR1cmF0aW9uPXAuZngub2ZmPzA6dHlwZW9mIGQuZHVyYXRpb249PSJudW1iZXIiP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBwLmZ4LnNwZWVkcz9wLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpwLmZ4LnNwZWVkcy5fZGVmYXVsdDtpZihkLnF1ZXVlPT1udWxsfHxkLnF1ZXVlPT09ITApZC5xdWV1ZT0iZngiO3JldHVybiBkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtwLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJnAuZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxwLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxwLnRpbWVycz1bXSxwLmZ4PWNZLnByb3RvdHlwZS5pbml0LHAuZngudGljaz1mdW5jdGlvbigpe3ZhciBhLGI9cC50aW1lcnMsYz0wO2Zvcig7YzxiLmxlbmd0aDtjKyspYT1iW2NdLCFhKCkmJmJbY109PT1hJiZiLnNwbGljZShjLS0sMSk7Yi5sZW5ndGh8fHAuZnguc3RvcCgpfSxwLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe2EoKSYmcC50aW1lcnMucHVzaChhKSYmIWNOJiYoY049c2V0SW50ZXJ2YWwocC5meC50aWNrLHAuZnguaW50ZXJ2YWwpKX0scC5meC5pbnRlcnZhbD0xMyxwLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGNOKSxjTj1udWxsfSxwLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxwLmZ4LnN0ZXA9e30scC5leHByJiZwLmV4cHIuZmlsdGVycyYmKHAuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBwLmdyZXAocC50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9KTt2YXIgYyQ9L14oPzpib2R5fGh0bWwpJC9pO3AuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGE9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3Aub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtPXRoaXNbMF0sbj1tJiZtLm93bmVyRG9jdW1lbnQ7aWYoIW4pcmV0dXJuO3JldHVybihlPW4uYm9keSk9PT1tP3Aub2Zmc2V0LmJvZHlPZmZzZXQobSk6KGQ9bi5kb2N1bWVudEVsZW1lbnQscC5jb250YWlucyhkLG0pPyhjPW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZj1jXyhuKSxnPWQuY2xpZW50VG9wfHxlLmNsaWVudFRvcHx8MCxoPWQuY2xpZW50TGVmdHx8ZS5jbGllbnRMZWZ0fHwwLGk9Zi5wYWdlWU9mZnNldHx8ZC5zY3JvbGxUb3Asaj1mLnBhZ2VYT2Zmc2V0fHxkLnNjcm9sbExlZnQsaz1jLnRvcCtpLWcsbD1jLmxlZnQrai1oLHt0b3A6ayxsZWZ0Omx9KTp7dG9wOjAsbGVmdDowfSl9LHAub2Zmc2V0PXtib2R5T2Zmc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0VG9wLGM9YS5vZmZzZXRMZWZ0O3JldHVybiBwLnN1cHBvcnQuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQmJihiKz1wYXJzZUZsb2F0KHAuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjKz1wYXJzZUZsb2F0KHAuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDApLHt0b3A6YixsZWZ0OmN9fSxzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXAuY3NzKGEsInBvc2l0aW9uIik7ZD09PSJzdGF0aWMiJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZT1wKGEpLGY9ZS5vZmZzZXQoKSxnPXAuY3NzKGEsInRvcCIpLGg9cC5jc3MoYSwibGVmdCIpLGk9KGQ9PT0iYWJzb2x1dGUifHxkPT09ImZpeGVkIikmJnAuaW5BcnJheSgiYXV0byIsW2csaF0pPi0xLGo9e30saz17fSxsLG07aT8oaz1lLnBvc2l0aW9uKCksbD1rLnRvcCxtPWsubGVmdCk6KGw9cGFyc2VGbG9hdChnKXx8MCxtPXBhcnNlRmxvYXQoaCl8fDApLHAuaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxmKSksYi50b3AhPW51bGwmJihqLnRvcD1iLnRvcC1mLnRvcCtsKSxiLmxlZnQhPW51bGwmJihqLmxlZnQ9Yi5sZWZ0LWYubGVmdCttKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxqKTplLmNzcyhqKX19LHAuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXJldHVybjt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jJC50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7cmV0dXJuIGMudG9wLT1wYXJzZUZsb2F0KHAuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjLmxlZnQtPXBhcnNlRmxvYXQocC5jc3MoYSwibWFyZ2luTGVmdCIpKXx8MCxkLnRvcCs9cGFyc2VGbG9hdChwLmNzcyhiWzBdLCJib3JkZXJUb3BXaWR0aCIpKXx8MCxkLmxlZnQrPXBhcnNlRmxvYXQocC5jc3MoYlswXSwiYm9yZGVyTGVmdFdpZHRoIikpfHwwLHt0b3A6Yy50b3AtZC50b3AsbGVmdDpjLmxlZnQtZC5sZWZ0fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fGUuYm9keTt3aGlsZShhJiYhYyQudGVzdChhLm5vZGVOYW1lKSYmcC5jc3MoYSwicG9zaXRpb24iKT09PSJzdGF0aWMiKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fGUuYm9keX0pfX0pLHAuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGMpe3ZhciBkPS9ZLy50ZXN0KGMpO3AuZm5bYV09ZnVuY3Rpb24oZSl7cmV0dXJuIHAuYWNjZXNzKHRoaXMsZnVuY3Rpb24oYSxlLGYpe3ZhciBnPWNfKGEpO2lmKGY9PT1iKXJldHVybiBnP2MgaW4gZz9nW2NdOmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2VdOmFbZV07Zz9nLnNjcm9sbFRvKGQ/cChnKS5zY3JvbGxMZWZ0KCk6ZixkP2Y6cChnKS5zY3JvbGxUb3AoKSk6YVtlXT1mfSxhLGUsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KSxwLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGMpe3AuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpjLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24oZCxlKXtwLmZuW2VdPWZ1bmN0aW9uKGUsZil7dmFyIGc9YXJndW1lbnRzLmxlbmd0aCYmKGR8fHR5cGVvZiBlIT0iYm9vbGVhbiIpLGg9ZHx8KGU9PT0hMHx8Zj09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gcC5hY2Nlc3ModGhpcyxmdW5jdGlvbihjLGQsZSl7dmFyIGY7cmV0dXJuIHAuaXNXaW5kb3coYyk/Yy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06Yy5ub2RlVHlwZT09PTk/KGY9Yy5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYy5ib2R5WyJzY3JvbGwiK2FdLGZbInNjcm9sbCIrYV0sYy5ib2R5WyJvZmZzZXQiK2FdLGZbIm9mZnNldCIrYV0sZlsiY2xpZW50IithXSkpOmU9PT1iP3AuY3NzKGMsZCxlLGgpOnAuc3R5bGUoYyxkLGUsaCl9LGMsZz9lOmIsZyl9fSl9KSxhLmpRdWVyeT1hLiQ9cCx0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUuYW1kLmpRdWVyeSYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KX0pKHdpbmRvdyk7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887793" offset="0" length="13800" />
          <PacketInfo time="2972887824" offset="13800" length="16384" />
          <PacketInfo time="2972887840" offset="30184" length="3206" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="136" hostname="10.239.251.82" path="/swagger-static/lib/jquery.ba-bbq.min.js" url="http://10.239.251.82:8080/swagger-static/lib/jquery.ba-bbq.min.js" ip="10.239.251.82" port="8080" connectionId="7" origin="HTML" frame="1" startTime="2972887809" endTime="2972887871">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvanF1ZXJ5LmJhLWJicS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiAqLyoNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KUmVmZXJlcjogaHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHNkY2gNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjYxN2ZmY2Y0NDhmMjA5OWU0YzBiYmY1YmZjYWM1ODk3LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjA3NQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiNjE3ZmZjZjQ0OGYyMDk5ZTRjMGJiZjViZmNhYzU4OTctLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMjA3NQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoKICogalF1ZXJ5IEJCUTogQmFjayBCdXR0b24gJiBRdWVyeSBMaWJyYXJ5IC0gdjEuMi4xIC0gMi8xNy8yMDEwCiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWJicS1wbHVnaW4vCiAqIAogKiBDb3B5cmlnaHQgKGMpIDIwMTAgIkNvd2JveSIgQmVuIEFsbWFuCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLgogKiBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvCiAqLwooZnVuY3Rpb24oJCxwKXt2YXIgaSxtPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPWRlY29kZVVSSUNvbXBvbmVudCxhPSQucGFyYW0sYyxsLHYsYj0kLmJicT0kLmJicXx8e30scSx1LGosZT0kLmV2ZW50LnNwZWNpYWwsZD0iaGFzaGNoYW5nZSIsQT0icXVlcnlzdHJpbmciLEQ9ImZyYWdtZW50Iix5PSJlbGVtVXJsQXR0ciIsZz0ibG9jYXRpb24iLGs9ImhyZWYiLHQ9InNyYyIseD0vXi4qXD98Iy4qJC9nLHc9L14uKlwjLyxoLEM9e307ZnVuY3Rpb24gRShGKXtyZXR1cm4gdHlwZW9mIEY9PT0ic3RyaW5nIn1mdW5jdGlvbiBCKEcpe3ZhciBGPW0uY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEcuYXBwbHkodGhpcyxGLmNvbmNhdChtLmNhbGwoYXJndW1lbnRzKSkpfX1mdW5jdGlvbiBuKEYpe3JldHVybiBGLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfWZ1bmN0aW9uIG8oRil7cmV0dXJuIEYucmVwbGFjZSgvKD86XltePyNdKlw/KFteI10qKS4qJCk/LiovLCIkMSIpfWZ1bmN0aW9uIGYoSCxNLEYsSSxHKXt2YXIgTyxMLEssTixKO2lmKEkhPT1pKXtLPUYubWF0Y2goSD8vXihbXiNdKilcIz8oLiopJC86L14oW14jP10qKVw/PyhbXiNdKikoIz8uKikvKTtKPUtbM118fCIiO2lmKEc9PT0yJiZFKEkpKXtMPUkucmVwbGFjZShIP3c6eCwiIil9ZWxzZXtOPWwoS1syXSk7ST1FKEkpP2xbSD9EOkFdKEkpOkk7TD1HPT09Mj9JOkc9PT0xPyQuZXh0ZW5kKHt9LEksTik6JC5leHRlbmQoe30sTixJKTtMPWEoTCk7aWYoSCl7TD1MLnJlcGxhY2UoaCxyKX19Tz1LWzFdKyhIPyIjIjpMfHwhS1sxXT8iPyI6IiIpK0wrSn1lbHNle089TShGIT09aT9GOnBbZ11ba10pfXJldHVybiBPfWFbQV09QihmLDAsbyk7YVtEXT1jPUIoZiwxLG4pO2Mubm9Fc2NhcGU9ZnVuY3Rpb24oRyl7Rz1HfHwiIjt2YXIgRj0kLm1hcChHLnNwbGl0KCIiKSxlbmNvZGVVUklDb21wb25lbnQpO2g9bmV3IFJlZ0V4cChGLmpvaW4oInwiKSwiZyIpfTtjLm5vRXNjYXBlKCIsLyIpOyQuZGVwYXJhbT1sPWZ1bmN0aW9uKEksRil7dmFyIEg9e30sRz17InRydWUiOiEwLCJmYWxzZSI6ITEsIm51bGwiOm51bGx9OyQuZWFjaChJLnJlcGxhY2UoL1wrL2csIiAiKS5zcGxpdCgiJiIpLGZ1bmN0aW9uKEwsUSl7dmFyIEs9US5zcGxpdCgiPSIpLFA9cihLWzBdKSxKLE89SCxNPTAsUj1QLnNwbGl0KCJdWyIpLE49Ui5sZW5ndGgtMTtpZigvXFsvLnRlc3QoUlswXSkmJi9cXSQvLnRlc3QoUltOXSkpe1JbTl09UltOXS5yZXBsYWNlKC9cXSQvLCIiKTtSPVIuc2hpZnQoKS5zcGxpdCgiWyIpLmNvbmNhdChSKTtOPVIubGVuZ3RoLTF9ZWxzZXtOPTB9aWYoSy5sZW5ndGg9PT0yKXtKPXIoS1sxXSk7aWYoRil7Sj1KJiYhaXNOYU4oSik/K0o6Sj09PSJ1bmRlZmluZWQiP2k6R1tKXSE9PWk/R1tKXTpKfWlmKE4pe2Zvcig7TTw9TjtNKyspe1A9UltNXT09PSIiP08ubGVuZ3RoOlJbTV07Tz1PW1BdPU08Tj9PW1BdfHwoUltNKzFdJiZpc05hTihSW00rMV0pP3t9OltdKTpKfX1lbHNle2lmKCQuaXNBcnJheShIW1BdKSl7SFtQXS5wdXNoKEopfWVsc2V7aWYoSFtQXSE9PWkpe0hbUF09W0hbUF0sSl19ZWxzZXtIW1BdPUp9fX19ZWxzZXtpZihQKXtIW1BdPUY/aToiIn19fSk7cmV0dXJuIEh9O2Z1bmN0aW9uIHooSCxGLEcpe2lmKEY9PT1pfHx0eXBlb2YgRj09PSJib29sZWFuIil7Rz1GO0Y9YVtIP0Q6QV0oKX1lbHNle0Y9RShGKT9GLnJlcGxhY2UoSD93OngsIiIpOkZ9cmV0dXJuIGwoRixHKX1sW0FdPUIoeiwwKTtsW0RdPXY9Qih6LDEpOyRbeV18fCgkW3ldPWZ1bmN0aW9uKEYpe3JldHVybiAkLmV4dGVuZChDLEYpfSkoe2E6ayxiYXNlOmssaWZyYW1lOnQsaW1nOnQsaW5wdXQ6dCxmb3JtOiJhY3Rpb24iLGxpbms6ayxzY3JpcHQ6dH0pO2o9JFt5XTtmdW5jdGlvbiBzKEksRyxILEYpe2lmKCFFKEgpJiZ0eXBlb2YgSCE9PSJvYmplY3QiKXtGPUg7SD1HO0c9aX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIEw9JCh0aGlzKSxKPUd8fGooKVsodGhpcy5ub2RlTmFtZXx8IiIpLnRvTG93ZXJDYXNlKCldfHwiIixLPUomJkwuYXR0cihKKXx8IiI7TC5hdHRyKEosYVtJXShLLEgsRikpfSl9JC5mbltBXT1CKHMsQSk7JC5mbltEXT1CKHMsRCk7Yi5wdXNoU3RhdGU9cT1mdW5jdGlvbihJLEYpe2lmKEUoSSkmJi9eIy8udGVzdChJKSYmRj09PWkpe0Y9Mn12YXIgSD1JIT09aSxHPWMocFtnXVtrXSxIP0k6e30sSD9GOjIpO3BbZ11ba109RysoLyMvLnRlc3QoRyk/IiI6IiMiKX07Yi5nZXRTdGF0ZT11PWZ1bmN0aW9uKEYsRyl7cmV0dXJuIEY9PT1pfHx0eXBlb2YgRj09PSJib29sZWFuIj92KEYpOnYoRylbRl19O2IucmVtb3ZlU3RhdGU9ZnVuY3Rpb24oRil7dmFyIEc9e307aWYoRiE9PWkpe0c9dSgpOyQuZWFjaCgkLmlzQXJyYXkoRik/Rjphcmd1bWVudHMsZnVuY3Rpb24oSSxIKXtkZWxldGUgR1tIXX0pfXEoRywyKX07ZVtkXT0kLmV4dGVuZChlW2RdLHthZGQ6ZnVuY3Rpb24oRil7dmFyIEg7ZnVuY3Rpb24gRyhKKXt2YXIgST1KW0RdPWMoKTtKLmdldFN0YXRlPWZ1bmN0aW9uKEssTCl7cmV0dXJuIEs9PT1pfHx0eXBlb2YgSz09PSJib29sZWFuIj9sKEksSyk6bChJLEwpW0tdfTtILmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZigkLmlzRnVuY3Rpb24oRikpe0g9RjtyZXR1cm4gR31lbHNle0g9Ri5oYW5kbGVyO0YuaGFuZGxlcj1HfX19KX0pKGpRdWVyeSx0aGlzKTsKLyoKICogalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQgLSB2MS4yIC0gMi8xMS8yMDEwCiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UtcGx1Z2luLwogKiAKICogQ29weXJpZ2h0IChjKSAyMDEwICJDb3dib3kiIEJlbiBBbG1hbgogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy4KICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlLwogKi8KKGZ1bmN0aW9uKCQsaSxiKXt2YXIgaixrPSQuZXZlbnQuc3BlY2lhbCxjPSJsb2NhdGlvbiIsZD0iaGFzaGNoYW5nZSIsbD0iaHJlZiIsZj0kLmJyb3dzZXIsZz1kb2N1bWVudC5kb2N1bWVudE1vZGUsaD1mLm1zaWUmJihnPT09Ynx8Zzw4KSxlPSJvbiIrZCBpbiBpJiYhaDtmdW5jdGlvbiBhKG0pe209bXx8aVtjXVtsXTtyZXR1cm4gbS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX0kW2QrIkRlbGF5Il09MTAwO2tbZF09JC5leHRlbmQoa1tkXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihlKXtyZXR1cm4gZmFsc2V9JChqLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihlKXtyZXR1cm4gZmFsc2V9JChqLnN0b3ApfX0pO2o9KGZ1bmN0aW9uKCl7dmFyIG09e30scixuLG8scTtmdW5jdGlvbiBwKCl7bz1xPWZ1bmN0aW9uKHMpe3JldHVybiBzfTtpZihoKXtuPSQoJzxpZnJhbWUgc3JjPSJqYXZhc2NyaXB0OjAiLz4nKS5oaWRlKCkuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93O3E9ZnVuY3Rpb24oKXtyZXR1cm4gYShuLmRvY3VtZW50W2NdW2xdKX07bz1mdW5jdGlvbih1LHMpe2lmKHUhPT1zKXt2YXIgdD1uLmRvY3VtZW50O3Qub3BlbigpLmNsb3NlKCk7dFtjXS5oYXNoPSIjIit1fX07byhhKCkpfX1tLnN0YXJ0PWZ1bmN0aW9uKCl7aWYocil7cmV0dXJufXZhciB0PWEoKTtvfHxwKCk7KGZ1bmN0aW9uIHMoKXt2YXIgdj1hKCksdT1xKHQpO2lmKHYhPT10KXtvKHQ9dix1KTskKGkpLnRyaWdnZXIoZCl9ZWxzZXtpZih1IT09dCl7aVtjXVtsXT1pW2NdW2xdLnJlcGxhY2UoLyMuKi8sIiIpKyIjIit1fX1yPXNldFRpbWVvdXQocywkW2QrIkRlbGF5Il0pfSkoKX07bS5zdG9wPWZ1bmN0aW9uKCl7aWYoIW4pe3ImJmNsZWFyVGltZW91dChyKTtyPTB9fTtyZXR1cm4gbX0pKCl9KShqUXVlcnksdGhpcyk7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887871" offset="0" length="2332" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="138" hostname="10.239.251.82" path="/swagger-static/lib/handlebars-2.0.0.js" url="http://10.239.251.82:8080/swagger-static/lib/handlebars-2.0.0.js" ip="10.239.251.82" port="8080" connectionId="5" origin="HTML" frame="1" startTime="2972887809" endTime="2972887871">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvaGFuZGxlYmFycy0yLjAuMC5qcyBIVFRQLzEuMQ0KSG9zdDogMTAuMjM5LjI1MS44Mjo4MDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpBY2NlcHQ6ICovKg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2DQpSZWZlcmVyOiBodHRwOi8vMTAuMjM5LjI1MS44Mjo4MDgwL3N3YWdnZXINCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgc2RjaA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ijg5MDg3MWNjMGJjNDg4MzEyZmNiYmQ5MTZjMTIxY2RmLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTU2ODA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiODkwODcxY2MwYmM0ODgzMTJmY2JiZDkxNmMxMjFjZGYtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMTU2ODANCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyohCgogaGFuZGxlYmFycyB2Mi4wLjAKCkNvcHlyaWdodCAoQykgMjAxMS0yMDE0IGJ5IFllaHVkYSBLYXR6CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoKQGxpY2Vuc2UKKi8KIWZ1bmN0aW9uKGEsYil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sYik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTphLkhhbmRsZWJhcnM9YS5IYW5kbGViYXJzfHxiKCl9KHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe3RoaXMuc3RyaW5nPWF9dmFyIGI7cmV0dXJuIGEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIiIrdGhpcy5zdHJpbmd9LGI9YX0oKSxiPWZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBpW2FdfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGMgaW4gYXJndW1lbnRzW2JdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbYl0sYykmJihhW2NdPWFyZ3VtZW50c1tiXVtjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGg/YS50b1N0cmluZygpOm51bGw9PWE/IiI6YT8oYT0iIithLGsudGVzdChhKT9hLnJlcGxhY2UoaixiKTphKTphKyIifWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGF8fDA9PT1hP24oYSkmJjA9PT1hLmxlbmd0aD8hMDohMTohMH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuKGE/YSsiLiI6IiIpK2J9dmFyIGc9e30saD1hLGk9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImI3gyNzsiLCJgIjoiJiN4NjA7In0saj0vWyY8PiInYF0vZyxrPS9bJjw+IidgXS87Zy5leHRlbmQ9Yzt2YXIgbD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2cudG9TdHJpbmc9bDt2YXIgbT1mdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYX07bSgveC8pJiYobT1mdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYSYmIltvYmplY3QgRnVuY3Rpb25dIj09PWwuY2FsbChhKX0pO3ZhciBtO2cuaXNGdW5jdGlvbj1tO3ZhciBuPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBhJiYib2JqZWN0Ij09dHlwZW9mIGE/IltvYmplY3QgQXJyYXldIj09PWwuY2FsbChhKTohMX07cmV0dXJuIGcuaXNBcnJheT1uLGcuZXNjYXBlRXhwcmVzc2lvbj1kLGcuaXNFbXB0eT1lLGcuYXBwZW5kQ29udGV4dFBhdGg9ZixnfShhKSxjPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEoYSxiKXt2YXIgZDtiJiZiLmZpcnN0TGluZSYmKGQ9Yi5maXJzdExpbmUsYSs9IiAtICIrZCsiOiIrYi5maXJzdENvbHVtbik7Zm9yKHZhciBlPUVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSksZj0wO2Y8Yy5sZW5ndGg7ZisrKXRoaXNbY1tmXV09ZVtjW2ZdXTtkJiYodGhpcy5saW5lTnVtYmVyPWQsdGhpcy5jb2x1bW49Yi5maXJzdENvbHVtbil9dmFyIGIsYz1bImRlc2NyaXB0aW9uIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwibWVzc2FnZSIsIm5hbWUiLCJudW1iZXIiLCJzdGFjayJdO3JldHVybiBhLnByb3RvdHlwZT1uZXcgRXJyb3IsYj1hfSgpLGQ9ZnVuY3Rpb24oYSxiKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYyhhLGIpe3RoaXMuaGVscGVycz1hfHx7fSx0aGlzLnBhcnRpYWxzPWJ8fHt9LGQodGhpcyl9ZnVuY3Rpb24gZChhKXthLnJlZ2lzdGVySGVscGVyKCJoZWxwZXJNaXNzaW5nIixmdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA7dGhyb3cgbmV3IGcoIk1pc3NpbmcgaGVscGVyOiAnIithcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0xXS5uYW1lKyInIil9KSxhLnJlZ2lzdGVySGVscGVyKCJibG9ja0hlbHBlck1pc3NpbmciLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5pbnZlcnNlLGU9Yy5mbjtpZihiPT09ITApcmV0dXJuIGUodGhpcyk7aWYoYj09PSExfHxudWxsPT1iKXJldHVybiBkKHRoaXMpO2lmKGsoYikpcmV0dXJuIGIubGVuZ3RoPjA/KGMuaWRzJiYoYy5pZHM9W2MubmFtZV0pLGEuaGVscGVycy5lYWNoKGIsYykpOmQodGhpcyk7aWYoYy5kYXRhJiZjLmlkcyl7dmFyIGc9cShjLmRhdGEpO2cuY29udGV4dFBhdGg9Zi5hcHBlbmRDb250ZXh0UGF0aChjLmRhdGEuY29udGV4dFBhdGgsYy5uYW1lKSxjPXtkYXRhOmd9fXJldHVybiBlKGIsYyl9KSxhLnJlZ2lzdGVySGVscGVyKCJlYWNoIixmdW5jdGlvbihhLGIpe2lmKCFiKXRocm93IG5ldyBnKCJNdXN0IHBhc3MgaXRlcmF0b3IgdG8gI2VhY2giKTt2YXIgYyxkLGU9Yi5mbixoPWIuaW52ZXJzZSxpPTAsaj0iIjtpZihiLmRhdGEmJmIuaWRzJiYoZD1mLmFwcGVuZENvbnRleHRQYXRoKGIuZGF0YS5jb250ZXh0UGF0aCxiLmlkc1swXSkrIi4iKSxsKGEpJiYoYT1hLmNhbGwodGhpcykpLGIuZGF0YSYmKGM9cShiLmRhdGEpKSxhJiYib2JqZWN0Ij09dHlwZW9mIGEpaWYoayhhKSlmb3IodmFyIG09YS5sZW5ndGg7bT5pO2krKyljJiYoYy5pbmRleD1pLGMuZmlyc3Q9MD09PWksYy5sYXN0PWk9PT1hLmxlbmd0aC0xLGQmJihjLmNvbnRleHRQYXRoPWQraSkpLGorPWUoYVtpXSx7ZGF0YTpjfSk7ZWxzZSBmb3IodmFyIG4gaW4gYSlhLmhhc093blByb3BlcnR5KG4pJiYoYyYmKGMua2V5PW4sYy5pbmRleD1pLGMuZmlyc3Q9MD09PWksZCYmKGMuY29udGV4dFBhdGg9ZCtuKSksais9ZShhW25dLHtkYXRhOmN9KSxpKyspO3JldHVybiAwPT09aSYmKGo9aCh0aGlzKSksan0pLGEucmVnaXN0ZXJIZWxwZXIoImlmIixmdW5jdGlvbihhLGIpe3JldHVybiBsKGEpJiYoYT1hLmNhbGwodGhpcykpLCFiLmhhc2guaW5jbHVkZVplcm8mJiFhfHxmLmlzRW1wdHkoYSk/Yi5pbnZlcnNlKHRoaXMpOmIuZm4odGhpcyl9KSxhLnJlZ2lzdGVySGVscGVyKCJ1bmxlc3MiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuaGVscGVyc1siaWYiXS5jYWxsKHRoaXMsYix7Zm46Yy5pbnZlcnNlLGludmVyc2U6Yy5mbixoYXNoOmMuaGFzaH0pfSksYS5yZWdpc3RlckhlbHBlcigid2l0aCIsZnVuY3Rpb24oYSxiKXtsKGEpJiYoYT1hLmNhbGwodGhpcykpO3ZhciBjPWIuZm47aWYoZi5pc0VtcHR5KGEpKXJldHVybiBiLmludmVyc2UodGhpcyk7aWYoYi5kYXRhJiZiLmlkcyl7dmFyIGQ9cShiLmRhdGEpO2QuY29udGV4dFBhdGg9Zi5hcHBlbmRDb250ZXh0UGF0aChiLmRhdGEuY29udGV4dFBhdGgsYi5pZHNbMF0pLGI9e2RhdGE6ZH19cmV0dXJuIGMoYSxiKX0pLGEucmVnaXN0ZXJIZWxwZXIoImxvZyIsZnVuY3Rpb24oYixjKXt2YXIgZD1jLmRhdGEmJm51bGwhPWMuZGF0YS5sZXZlbD9wYXJzZUludChjLmRhdGEubGV2ZWwsMTApOjE7YS5sb2coZCxiKX0pLGEucmVnaXN0ZXJIZWxwZXIoImxvb2t1cCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYVtiXX0pfXZhciBlPXt9LGY9YSxnPWIsaD0iMi4wLjAiO2UuVkVSU0lPTj1oO3ZhciBpPTY7ZS5DT01QSUxFUl9SRVZJU0lPTj1pO3ZhciBqPXsxOiI8PSAxLjAucmMuMiIsMjoiPT0gMS4wLjAtcmMuMyIsMzoiPT0gMS4wLjAtcmMuNCIsNDoiPT0gMS54LngiLDU6Ij09IDIuMC4wLWFscGhhLngiLDY6Ij49IDIuMC4wLWJldGEuMSJ9O2UuUkVWSVNJT05fQ0hBTkdFUz1qO3ZhciBrPWYuaXNBcnJheSxsPWYuaXNGdW5jdGlvbixtPWYudG9TdHJpbmcsbj0iW29iamVjdCBPYmplY3RdIjtlLkhhbmRsZWJhcnNFbnZpcm9ubWVudD1jLGMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpjLGxvZ2dlcjpvLGxvZzpwLHJlZ2lzdGVySGVscGVyOmZ1bmN0aW9uKGEsYil7aWYobS5jYWxsKGEpPT09bil7aWYoYil0aHJvdyBuZXcgZygiQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzIik7Zi5leHRlbmQodGhpcy5oZWxwZXJzLGEpfWVsc2UgdGhpcy5oZWxwZXJzW2FdPWJ9LHVucmVnaXN0ZXJIZWxwZXI6ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuaGVscGVyc1thXX0scmVnaXN0ZXJQYXJ0aWFsOmZ1bmN0aW9uKGEsYil7bS5jYWxsKGEpPT09bj9mLmV4dGVuZCh0aGlzLnBhcnRpYWxzLGEpOnRoaXMucGFydGlhbHNbYV09Yn0sdW5yZWdpc3RlclBhcnRpYWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMucGFydGlhbHNbYV19fTt2YXIgbz17bWV0aG9kTWFwOnswOiJkZWJ1ZyIsMToiaW5mbyIsMjoid2FybiIsMzoiZXJyb3IifSxERUJVRzowLElORk86MSxXQVJOOjIsRVJST1I6MyxsZXZlbDozLGxvZzpmdW5jdGlvbihhLGIpe2lmKG8ubGV2ZWw8PWEpe3ZhciBjPW8ubWV0aG9kTWFwW2FdOyJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmY29uc29sZVtjXSYmY29uc29sZVtjXS5jYWxsKGNvbnNvbGUsYil9fX07ZS5sb2dnZXI9bzt2YXIgcD1vLmxvZztlLmxvZz1wO3ZhciBxPWZ1bmN0aW9uKGEpe3ZhciBiPWYuZXh0ZW5kKHt9LGEpO3JldHVybiBiLl9wYXJlbnQ9YSxifTtyZXR1cm4gZS5jcmVhdGVGcmFtZT1xLGV9KGIsYyksZT1mdW5jdGlvbihhLGIsYyl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGQoYSl7dmFyIGI9YSYmYVswXXx8MSxjPW07aWYoYiE9PWMpe2lmKGM+Yil7dmFyIGQ9bltjXSxlPW5bYl07dGhyb3cgbmV3IGwoIlRlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGFuIG9sZGVyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuIFBsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCIrZCsiKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCIrZSsiKS4iKX10aHJvdyBuZXcgbCgiVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYSBuZXdlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiBQbGVhc2UgdXBkYXRlIHlvdXIgcnVudGltZSB0byBhIG5ld2VyIHZlcnNpb24gKCIrYVsxXSsiKS4iKX19ZnVuY3Rpb24gZShhLGIpe2lmKCFiKXRocm93IG5ldyBsKCJObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUiKTtpZighYXx8IWEubWFpbil0aHJvdyBuZXcgbCgiVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICIrdHlwZW9mIGEpO2IuVk0uY2hlY2tSZXZpc2lvbihhLmNvbXBpbGVyKTt2YXIgYz1mdW5jdGlvbihjLGQsZSxmLGcsaCxpLGosbSl7ZyYmKGY9ay5leHRlbmQoe30sZixnKSk7dmFyIG49Yi5WTS5pbnZva2VQYXJ0aWFsLmNhbGwodGhpcyxjLGUsZixoLGksaixtKTtpZihudWxsPT1uJiZiLmNvbXBpbGUpe3ZhciBvPXtoZWxwZXJzOmgscGFydGlhbHM6aSxkYXRhOmosZGVwdGhzOm19O2lbZV09Yi5jb21waWxlKGMse2RhdGE6dm9pZCAwIT09aixjb21wYXQ6YS5jb21wYXR9LGIpLG49aVtlXShmLG8pfWlmKG51bGwhPW4pe2lmKGQpe2Zvcih2YXIgcD1uLnNwbGl0KCJcbiIpLHE9MCxyPXAubGVuZ3RoO3I+cSYmKHBbcV18fHErMSE9PXIpO3ErKylwW3FdPWQrcFtxXTtuPXAuam9pbigiXG4iKX1yZXR1cm4gbn10aHJvdyBuZXcgbCgiVGhlIHBhcnRpYWwgIitlKyIgY291bGQgbm90IGJlIGNvbXBpbGVkIHdoZW4gcnVubmluZyBpbiBydW50aW1lLW9ubHkgbW9kZSIpfSxkPXtsb29rdXA6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5sZW5ndGgsZD0wO2M+ZDtkKyspaWYoYVtkXSYmbnVsbCE9YVtkXVtiXSlyZXR1cm4gYVtkXVtiXX0sbGFtYmRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/YS5jYWxsKGIpOmF9LGVzY2FwZUV4cHJlc3Npb246ay5lc2NhcGVFeHByZXNzaW9uLGludm9rZVBhcnRpYWw6YyxmbjpmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0scHJvZ3JhbXM6W10scHJvZ3JhbTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5wcm9ncmFtc1thXSxlPXRoaXMuZm4oYSk7cmV0dXJuIGJ8fGM/ZD1mKHRoaXMsYSxlLGIsYyk6ZHx8KGQ9dGhpcy5wcm9ncmFtc1thXT1mKHRoaXMsYSxlKSksZH0sZGF0YTpmdW5jdGlvbihhLGIpe2Zvcig7YSYmYi0tOylhPWEuX3BhcmVudDtyZXR1cm4gYX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hfHxiO3JldHVybiBhJiZiJiZhIT09YiYmKGM9ay5leHRlbmQoe30sYixhKSksY30sbm9vcDpiLlZNLm5vb3AsY29tcGlsZXJJbmZvOmEuY29tcGlsZXJ9LGU9ZnVuY3Rpb24oYixjKXtjPWN8fHt9O3ZhciBmPWMuZGF0YTtlLl9zZXR1cChjKSwhYy5wYXJ0aWFsJiZhLnVzZURhdGEmJihmPWkoYixmKSk7dmFyIGc7cmV0dXJuIGEudXNlRGVwdGhzJiYoZz1jLmRlcHRocz9bYl0uY29uY2F0KGMuZGVwdGhzKTpbYl0pLGEubWFpbi5jYWxsKGQsYixkLmhlbHBlcnMsZC5wYXJ0aWFscyxmLGcpfTtyZXR1cm4gZS5pc1RvcD0hMCxlLl9zZXR1cD1mdW5jdGlvbihjKXtjLnBhcnRpYWw/KGQuaGVscGVycz1jLmhlbHBlcnMsZC5wYXJ0aWFscz1jLnBhcnRpYWxzKTooZC5oZWxwZXJzPWQubWVyZ2UoYy5oZWxwZXJzLGIuaGVscGVycyksYS51c2VQYXJ0aWFsJiYoZC5wYXJ0aWFscz1kLm1lcmdlKGMucGFydGlhbHMsYi5wYXJ0aWFscykpKX0sZS5fY2hpbGQ9ZnVuY3Rpb24oYixjLGUpe2lmKGEudXNlRGVwdGhzJiYhZSl0aHJvdyBuZXcgbCgibXVzdCBwYXNzIHBhcmVudCBkZXB0aHMiKTtyZXR1cm4gZihkLGIsYVtiXSxjLGUpfSxlfWZ1bmN0aW9uIGYoYSxiLGMsZCxlKXt2YXIgZj1mdW5jdGlvbihiLGYpe3JldHVybiBmPWZ8fHt9LGMuY2FsbChhLGIsYS5oZWxwZXJzLGEucGFydGlhbHMsZi5kYXRhfHxkLGUmJltiXS5jb25jYXQoZSkpfTtyZXR1cm4gZi5wcm9ncmFtPWIsZi5kZXB0aD1lP2UubGVuZ3RoOjAsZn1mdW5jdGlvbiBnKGEsYixjLGQsZSxmLGcpe3ZhciBoPXtwYXJ0aWFsOiEwLGhlbHBlcnM6ZCxwYXJ0aWFsczplLGRhdGE6ZixkZXB0aHM6Z307aWYodm9pZCAwPT09YSl0aHJvdyBuZXcgbCgiVGhlIHBhcnRpYWwgIitiKyIgY291bGQgbm90IGJlIGZvdW5kIik7cmV0dXJuIGEgaW5zdGFuY2VvZiBGdW5jdGlvbj9hKGMsaCk6dm9pZCAwfWZ1bmN0aW9uIGgoKXtyZXR1cm4iIn1mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGImJiJyb290ImluIGJ8fChiPWI/byhiKTp7fSxiLnJvb3Q9YSksYn12YXIgaj17fSxrPWEsbD1iLG09Yy5DT01QSUxFUl9SRVZJU0lPTixuPWMuUkVWSVNJT05fQ0hBTkdFUyxvPWMuY3JlYXRlRnJhbWU7cmV0dXJuIGouY2hlY2tSZXZpc2lvbj1kLGoudGVtcGxhdGU9ZSxqLnByb2dyYW09ZixqLmludm9rZVBhcnRpYWw9ZyxqLm5vb3A9aCxqfShiLGMsZCksZj1mdW5jdGlvbihhLGIsYyxkLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgZixnPWEsaD1iLGk9YyxqPWQsaz1lLGw9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgZy5IYW5kbGViYXJzRW52aXJvbm1lbnQ7cmV0dXJuIGouZXh0ZW5kKGEsZyksYS5TYWZlU3RyaW5nPWgsYS5FeGNlcHRpb249aSxhLlV0aWxzPWosYS5lc2NhcGVFeHByZXNzaW9uPWouZXNjYXBlRXhwcmVzc2lvbixhLlZNPWssYS50ZW1wbGF0ZT1mdW5jdGlvbihiKXtyZXR1cm4gay50ZW1wbGF0ZShiLGEpfSxhfSxtPWwoKTtyZXR1cm4gbS5jcmVhdGU9bCxtWyJkZWZhdWx0Il09bSxmPW19KGQsYSxjLGIsZSksZz1mdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXthPWF8fHt9LHRoaXMuZmlyc3RMaW5lPWEuZmlyc3RfbGluZSx0aGlzLmZpcnN0Q29sdW1uPWEuZmlyc3RfY29sdW1uLHRoaXMubGFzdENvbHVtbj1hLmxhc3RfY29sdW1uLHRoaXMubGFzdExpbmU9YS5sYXN0X2xpbmV9dmFyIGMsZD1hLGU9e1Byb2dyYW1Ob2RlOmZ1bmN0aW9uKGEsYyxkKXtiLmNhbGwodGhpcyxkKSx0aGlzLnR5cGU9InByb2dyYW0iLHRoaXMuc3RhdGVtZW50cz1hLHRoaXMuc3RyaXA9Y30sTXVzdGFjaGVOb2RlOmZ1bmN0aW9uKGEsYyxkLGYsZyl7aWYoYi5jYWxsKHRoaXMsZyksdGhpcy50eXBlPSJtdXN0YWNoZSIsdGhpcy5zdHJpcD1mLG51bGwhPWQmJmQuY2hhckF0KXt2YXIgaD1kLmNoYXJBdCgzKXx8ZC5jaGFyQXQoMik7dGhpcy5lc2NhcGVkPSJ7IiE9PWgmJiImIiE9PWh9ZWxzZSB0aGlzLmVzY2FwZWQ9ISFkO3RoaXMuc2V4cHI9YSBpbnN0YW5jZW9mIGUuU2V4cHJOb2RlP2E6bmV3IGUuU2V4cHJOb2RlKGEsYyksdGhpcy5pZD10aGlzLnNleHByLmlkLHRoaXMucGFyYW1zPXRoaXMuc2V4cHIucGFyYW1zLHRoaXMuaGFzaD10aGlzLnNleHByLmhhc2gsdGhpcy5lbGlnaWJsZUhlbHBlcj10aGlzLnNleHByLmVsaWdpYmxlSGVscGVyLHRoaXMuaXNIZWxwZXI9dGhpcy5zZXhwci5pc0hlbHBlcn0sU2V4cHJOb2RlOmZ1bmN0aW9uKGEsYyxkKXtiLmNhbGwodGhpcyxkKSx0aGlzLnR5cGU9InNleHByIix0aGlzLmhhc2g9Yzt2YXIgZT10aGlzLmlkPWFbMF0sZj10aGlzLnBhcmFtcz1hLnNsaWNlKDEpO3RoaXMuaXNIZWxwZXI9ISghZi5sZW5ndGgmJiFjKSx0aGlzLmVsaWdpYmxlSGVscGVyPXRoaXMuaXNIZWxwZXJ8fGUuaXNTaW1wbGV9LFBhcnRpYWxOb2RlOmZ1bmN0aW9uKGEsYyxkLGUsZil7Yi5jYWxsKHRoaXMsZiksdGhpcy50eXBlPSJwYXJ0aWFsIix0aGlzLnBhcnRpYWxOYW1lPWEsdGhpcy5jb250ZXh0PWMsdGhpcy5oYXNoPWQsdGhpcy5zdHJpcD1lLHRoaXMuc3RyaXAuaW5saW5lU3RhbmRhbG9uZT0hMH0sQmxvY2tOb2RlOmZ1bmN0aW9uKGEsYyxkLGUsZil7Yi5jYWxsKHRoaXMsZiksdGhpcy50eXBlPSJibG9jayIsdGhpcy5tdXN0YWNoZT1hLHRoaXMucHJvZ3JhbT1jLHRoaXMuaW52ZXJzZT1kLHRoaXMuc3RyaXA9ZSxkJiYhYyYmKHRoaXMuaXNJbnZlcnNlPSEwKX0sUmF3QmxvY2tOb2RlOmZ1bmN0aW9uKGEsYyxmLGcpe2lmKGIuY2FsbCh0aGlzLGcpLGEuc2V4cHIuaWQub3JpZ2luYWwhPT1mKXRocm93IG5ldyBkKGEuc2V4cHIuaWQub3JpZ2luYWwrIiBkb2Vzbid0IG1hdGNoICIrZix0aGlzKTtjPW5ldyBlLkNvbnRlbnROb2RlKGMsZyksdGhpcy50eXBlPSJibG9jayIsdGhpcy5tdXN0YWNoZT1hLHRoaXMucHJvZ3JhbT1uZXcgZS5Qcm9ncmFtTm9kZShbY10se30sZyl9LENvbnRlbnROb2RlOmZ1bmN0aW9uKGEsYyl7Yi5jYWxsKHRoaXMsYyksdGhpcy50eXBlPSJjb250ZW50Iix0aGlzLm9yaWdpbmFsPXRoaXMuc3RyaW5nPWF9LEhhc2hOb2RlOmZ1bmN0aW9uKGEsYyl7Yi5jYWxsKHRoaXMsYyksdGhpcy50eXBlPSJoYXNoIix0aGlzLnBhaXJzPWF9LElkTm9kZTpmdW5jdGlvbihhLGMpe2IuY2FsbCh0aGlzLGMpLHRoaXMudHlwZT0iSUQiO2Zvcih2YXIgZT0iIixmPVtdLGc9MCxoPSIiLGk9MCxqPWEubGVuZ3RoO2o+aTtpKyspe3ZhciBrPWFbaV0ucGFydDtpZihlKz0oYVtpXS5zZXBhcmF0b3J8fCIiKStrLCIuLiI9PT1rfHwiLiI9PT1rfHwidGhpcyI9PT1rKXtpZihmLmxlbmd0aD4wKXRocm93IG5ldyBkKCJJbnZhbGlkIHBhdGg6ICIrZSx0aGlzKTsiLi4iPT09az8oZysrLGgrPSIuLi8iKTp0aGlzLmlzU2NvcGVkPSEwfWVsc2UgZi5wdXNoKGspfXRoaXMub3JpZ2luYWw9ZSx0aGlzLnBhcnRzPWYsdGhpcy5zdHJpbmc9Zi5qb2luKCIuIiksdGhpcy5kZXB0aD1nLHRoaXMuaWROYW1lPWgrdGhpcy5zdHJpbmcsdGhpcy5pc1NpbXBsZT0xPT09YS5sZW5ndGgmJiF0aGlzLmlzU2NvcGVkJiYwPT09Zyx0aGlzLnN0cmluZ01vZGVWYWx1ZT10aGlzLnN0cmluZ30sUGFydGlhbE5hbWVOb2RlOmZ1bmN0aW9uKGEsYyl7Yi5jYWxsKHRoaXMsYyksdGhpcy50eXBlPSJQQVJUSUFMX05BTUUiLHRoaXMubmFtZT1hLm9yaWdpbmFsfSxEYXRhTm9kZTpmdW5jdGlvbihhLGMpe2IuY2FsbCh0aGlzLGMpLHRoaXMudHlwZT0iREFUQSIsdGhpcy5pZD1hLHRoaXMuc3RyaW5nTW9kZVZhbHVlPWEuc3RyaW5nTW9kZVZhbHVlLHRoaXMuaWROYW1lPSJAIithLnN0cmluZ01vZGVWYWx1ZX0sU3RyaW5nTm9kZTpmdW5jdGlvbihhLGMpe2IuY2FsbCh0aGlzLGMpLHRoaXMudHlwZT0iU1RSSU5HIix0aGlzLm9yaWdpbmFsPXRoaXMuc3RyaW5nPXRoaXMuc3RyaW5nTW9kZVZhbHVlPWF9LE51bWJlck5vZGU6ZnVuY3Rpb24oYSxjKXtiLmNhbGwodGhpcyxjKSx0aGlzLnR5cGU9Ik5VTUJFUiIsdGhpcy5vcmlnaW5hbD10aGlzLm51bWJlcj1hLHRoaXMuc3RyaW5nTW9kZVZhbHVlPU51bWJlcihhKX0sQm9vbGVhbk5vZGU6ZnVuY3Rpb24oYSxjKXtiLmNhbGwodGhpcyxjKSx0aGlzLnR5cGU9IkJPT0xFQU4iLHRoaXMuYm9vbD1hLHRoaXMuc3RyaW5nTW9kZVZhbHVlPSJ0cnVlIj09PWF9LENvbW1lbnROb2RlOmZ1bmN0aW9uKGEsYyl7Yi5jYWxsKHRoaXMsYyksdGhpcy50eXBlPSJjb21tZW50Iix0aGlzLmNvbW1lbnQ9YSx0aGlzLnN0cmlwPXtpbmxpbmVTdGFuZGFsb25lOiEwfX19O3JldHVybiBjPWV9KGMpLGg9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGEsYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnl5PXt9fXZhciBiPXt0cmFjZTpmdW5jdGlvbigpe30seXk6e30sc3ltYm9sc186e2Vycm9yOjIscm9vdDozLHByb2dyYW06NCxFT0Y6NSxwcm9ncmFtX3JlcGV0aXRpb24wOjYsc3RhdGVtZW50OjcsbXVzdGFjaGU6OCxibG9jazo5LHJhd0Jsb2NrOjEwLHBhcnRpYWw6MTEsQ09OVEVOVDoxMixDT01NRU5UOjEzLG9wZW5SYXdCbG9jazoxNCxFTkRfUkFXX0JMT0NLOjE1LE9QRU5fUkFXX0JMT0NLOjE2LHNleHByOjE3LENMT1NFX1JBV19CTE9DSzoxOCxvcGVuQmxvY2s6MTksYmxvY2tfb3B0aW9uMDoyMCxjbG9zZUJsb2NrOjIxLG9wZW5JbnZlcnNlOjIyLGJsb2NrX29wdGlvbjE6MjMsT1BFTl9CTE9DSzoyNCxDTE9TRToyNSxPUEVOX0lOVkVSU0U6MjYsaW52ZXJzZUFuZFByb2dyYW06MjcsSU5WRVJTRToyOCxPUEVOX0VOREJMT0NLOjI5LHBhdGg6MzAsT1BFTjozMSxPUEVOX1VORVNDQVBFRDozMixDTE9TRV9VTkVTQ0FQRUQ6MzMsT1BFTl9QQVJUSUFMOjM0LHBhcnRpYWxOYW1lOjM1LHBhcmFtOjM2LHBhcnRpYWxfb3B0aW9uMDozNyxwYXJ0aWFsX29wdGlvbjE6Mzgsc2V4cHJfcmVwZXRpdGlvbjA6Mzksc2V4cHJfb3B0aW9uMDo0MCxkYXRhTmFtZTo0MSxTVFJJTkc6NDIsTlVNQkVSOjQzLEJPT0xFQU46NDQsT1BFTl9TRVhQUjo0NSxDTE9TRV9TRVhQUjo0NixoYXNoOjQ3LGhhc2hfcmVwZXRpdGlvbl9wbHVzMDo0OCxoYXNoU2VnbWVudDo0OSxJRDo1MCxFUVVBTFM6NTEsREFUQTo1MixwYXRoU2VnbWVudHM6NTMsU0VQOjU0LCRhY2NlcHQ6MCwkZW5kOjF9LHRlcm1pbmFsc186ezI6ImVycm9yIiw1OiJFT0YiLDEyOiJDT05URU5UIiwxMzoiQ09NTUVOVCIsMTU6IkVORF9SQVdfQkxPQ0siLDE2OiJPUEVOX1JBV19CTE9DSyIsMTg6IkNMT1NFX1JBV19CTE9DSyIsMjQ6Ik9QRU5fQkxPQ0siLDI1OiJDTE9TRSIsMjY6Ik9QRU5fSU5WRVJTRSIsMjg6IklOVkVSU0UiLDI5OiJPUEVOX0VOREJMT0NLIiwzMToiT1BFTiIsMzI6Ik9QRU5fVU5FU0NBUEVEIiwzMzoiQ0xPU0VfVU5FU0NBUEVEIiwzNDoiT1BFTl9QQVJUSUFMIiw0MjoiU1RSSU5HIiw0MzoiTlVNQkVSIiw0NDoiQk9PTEVBTiIsNDU6Ik9QRU5fU0VYUFIiLDQ2OiJDTE9TRV9TRVhQUiIsNTA6IklEIiw1MToiRVFVQUxTIiw1MjoiREFUQSIsNTQ6IlNFUCJ9LHByb2R1Y3Rpb25zXzpbMCxbMywyXSxbNCwxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbNywxXSxbMTAsM10sWzE0LDNdLFs5LDRdLFs5LDRdLFsxOSwzXSxbMjIsM10sWzI3LDJdLFsyMSwzXSxbOCwzXSxbOCwzXSxbMTEsNV0sWzExLDRdLFsxNywzXSxbMTcsMV0sWzM2LDFdLFszNiwxXSxbMzYsMV0sWzM2LDFdLFszNiwxXSxbMzYsM10sWzQ3LDFdLFs0OSwzXSxbMzUsMV0sWzM1LDFdLFszNSwxXSxbNDEsMl0sWzMwLDFdLFs1MywzXSxbNTMsMV0sWzYsMF0sWzYsMl0sWzIwLDBdLFsyMCwxXSxbMjMsMF0sWzIzLDFdLFszNywwXSxbMzcsMV0sWzM4LDBdLFszOCwxXSxbMzksMF0sWzM5LDJdLFs0MCwwXSxbNDAsMV0sWzQ4LDFdLFs0OCwyXV0scGVyZm9ybUFjdGlvbjpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9Zi5sZW5ndGgtMTtzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiBkLnByZXBhcmVQcm9ncmFtKGZbZy0xXS5zdGF0ZW1lbnRzLCEwKSxmW2ctMV07Y2FzZSAyOnRoaXMuJD1uZXcgZC5Qcm9ncmFtTm9kZShkLnByZXBhcmVQcm9ncmFtKGZbZ10pLHt9LHRoaXMuXyQpO2JyZWFrO2Nhc2UgMzp0aGlzLiQ9ZltnXTticmVhaztjYXNlIDQ6dGhpcy4kPWZbZ107YnJlYWs7Y2FzZSA1OnRoaXMuJD1mW2ddO2JyZWFrO2Nhc2UgNjp0aGlzLiQ9ZltnXTticmVhaztjYXNlIDc6dGhpcy4kPW5ldyBkLkNvbnRlbnROb2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSA4OnRoaXMuJD1uZXcgZC5Db21tZW50Tm9kZShmW2ddLHRoaXMuXyQpO2JyZWFrO2Nhc2UgOTp0aGlzLiQ9bmV3IGQuUmF3QmxvY2tOb2RlKGZbZy0yXSxmW2ctMV0sZltnXSx0aGlzLl8kKTticmVhaztjYXNlIDEwOnRoaXMuJD1uZXcgZC5NdXN0YWNoZU5vZGUoZltnLTFdLG51bGwsIiIsIiIsdGhpcy5fJCk7YnJlYWs7Y2FzZSAxMTp0aGlzLiQ9ZC5wcmVwYXJlQmxvY2soZltnLTNdLGZbZy0yXSxmW2ctMV0sZltnXSwhMSx0aGlzLl8kKTticmVhaztjYXNlIDEyOnRoaXMuJD1kLnByZXBhcmVCbG9jayhmW2ctM10sZltnLTJdLGZbZy0xXSxmW2ddLCEwLHRoaXMuXyQpO2JyZWFrO2Nhc2UgMTM6dGhpcy4kPW5ldyBkLk11c3RhY2hlTm9kZShmW2ctMV0sbnVsbCxmW2ctMl0sZC5zdHJpcEZsYWdzKGZbZy0yXSxmW2ddKSx0aGlzLl8kKTticmVhaztjYXNlIDE0OnRoaXMuJD1uZXcgZC5NdXN0YWNoZU5vZGUoZltnLTFdLG51bGwsZltnLTJdLGQuc3RyaXBGbGFncyhmW2ctMl0sZltnXSksdGhpcy5fJCk7YnJlYWs7Y2FzZSAxNTp0aGlzLiQ9e3N0cmlwOmQuc3RyaXBGbGFncyhmW2ctMV0sZltnLTFdKSxwcm9ncmFtOmZbZ119O2JyZWFrO2Nhc2UgMTY6dGhpcy4kPXtwYXRoOmZbZy0xXSxzdHJpcDpkLnN0cmlwRmxhZ3MoZltnLTJdLGZbZ10pfTticmVhaztjYXNlIDE3OnRoaXMuJD1uZXcgZC5NdXN0YWNoZU5vZGUoZltnLTFdLG51bGwsZltnLTJdLGQuc3RyaXBGbGFncyhmW2ctMl0sZltnXSksdGhpcy5fJCk7YnJlYWs7Y2FzZSAxODp0aGlzLiQ9bmV3IGQuTXVzdGFjaGVOb2RlKGZbZy0xXSxudWxsLGZbZy0yXSxkLnN0cmlwRmxhZ3MoZltnLTJdLGZbZ10pLHRoaXMuXyQpO2JyZWFrO2Nhc2UgMTk6dGhpcy4kPW5ldyBkLlBhcnRpYWxOb2RlKGZbZy0zXSxmW2ctMl0sZltnLTFdLGQuc3RyaXBGbGFncyhmW2ctNF0sZltnXSksdGhpcy5fJCk7YnJlYWs7Y2FzZSAyMDp0aGlzLiQ9bmV3IGQuUGFydGlhbE5vZGUoZltnLTJdLHZvaWQgMCxmW2ctMV0sZC5zdHJpcEZsYWdzKGZbZy0zXSxmW2ddKSx0aGlzLl8kKTticmVhaztjYXNlIDIxOnRoaXMuJD1uZXcgZC5TZXhwck5vZGUoW2ZbZy0yXV0uY29uY2F0KGZbZy0xXSksZltnXSx0aGlzLl8kKTticmVhaztjYXNlIDIyOnRoaXMuJD1uZXcgZC5TZXhwck5vZGUoW2ZbZ11dLG51bGwsdGhpcy5fJCk7YnJlYWs7Y2FzZSAyMzp0aGlzLiQ9ZltnXTticmVhaztjYXNlIDI0OnRoaXMuJD1uZXcgZC5TdHJpbmdOb2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSAyNTp0aGlzLiQ9bmV3IGQuTnVtYmVyTm9kZShmW2ddLHRoaXMuXyQpO2JyZWFrO2Nhc2UgMjY6dGhpcy4kPW5ldyBkLkJvb2xlYW5Ob2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSAyNzp0aGlzLiQ9ZltnXTticmVhaztjYXNlIDI4OmZbZy0xXS5pc0hlbHBlcj0hMCx0aGlzLiQ9ZltnLTFdO2JyZWFrO2Nhc2UgMjk6dGhpcy4kPW5ldyBkLkhhc2hOb2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSAzMDp0aGlzLiQ9W2ZbZy0yXSxmW2ddXTticmVhaztjYXNlIDMxOnRoaXMuJD1uZXcgZC5QYXJ0aWFsTmFtZU5vZGUoZltnXSx0aGlzLl8kKTticmVhaztjYXNlIDMyOnRoaXMuJD1uZXcgZC5QYXJ0aWFsTmFtZU5vZGUobmV3IGQuU3RyaW5nTm9kZShmW2ddLHRoaXMuXyQpLHRoaXMuXyQpO2JyZWFrO2Nhc2UgMzM6dGhpcy4kPW5ldyBkLlBhcnRpYWxOYW1lTm9kZShuZXcgZC5OdW1iZXJOb2RlKGZbZ10sdGhpcy5fJCkpO2JyZWFrO2Nhc2UgMzQ6dGhpcy4kPW5ldyBkLkRhdGFOb2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSAzNTp0aGlzLiQ9bmV3IGQuSWROb2RlKGZbZ10sdGhpcy5fJCk7YnJlYWs7Y2FzZSAzNjpmW2ctMl0ucHVzaCh7cGFydDpmW2ddLHNlcGFyYXRvcjpmW2ctMV19KSx0aGlzLiQ9ZltnLTJdO2JyZWFrO2Nhc2UgMzc6dGhpcy4kPVt7cGFydDpmW2ddfV07YnJlYWs7Y2FzZSAzODp0aGlzLiQ9W107YnJlYWs7Y2FzZSAzOTpmW2ctMV0ucHVzaChmW2ddKTticmVhaztjYXNlIDQ4OnRoaXMuJD1bXTticmVhaztjYXNlIDQ5OmZbZy0xXS5wdXNoKGZbZ10pO2JyZWFrO2Nhc2UgNTI6dGhpcy4kPVtmW2ddXTticmVhaztjYXNlIDUzOmZbZy0xXS5wdXNoKGZbZ10pfX0sdGFibGU6W3szOjEsNDoyLDU6WzIsMzhdLDY6MywxMjpbMiwzOF0sMTM6WzIsMzhdLDE2OlsyLDM4XSwyNDpbMiwzOF0sMjY6WzIsMzhdLDMxOlsyLDM4XSwzMjpbMiwzOF0sMzQ6WzIsMzhdfSx7MTpbM119LHs1OlsxLDRdfSx7NTpbMiwyXSw3OjUsODo2LDk6NywxMDo4LDExOjksMTI6WzEsMTBdLDEzOlsxLDExXSwxNDoxNiwxNjpbMSwyMF0sMTk6MTQsMjI6MTUsMjQ6WzEsMThdLDI2OlsxLDE5XSwyODpbMiwyXSwyOTpbMiwyXSwzMTpbMSwxMl0sMzI6WzEsMTNdLDM0OlsxLDE3XX0sezE6WzIsMV19LHs1OlsyLDM5XSwxMjpbMiwzOV0sMTM6WzIsMzldLDE2OlsyLDM5XSwyNDpbMiwzOV0sMjY6WzIsMzldLDI4OlsyLDM5XSwyOTpbMiwzOV0sMzE6WzIsMzldLDMyOlsyLDM5XSwzNDpbMiwzOV19LHs1OlsyLDNdLDEyOlsyLDNdLDEzOlsyLDNdLDE2OlsyLDNdLDI0OlsyLDNdLDI2OlsyLDNdLDI4OlsyLDNdLDI5OlsyLDNdLDMxOlsyLDNdLDMyOlsyLDNdLDM0OlsyLDNdfSx7NTpbMiw0XSwxMjpbMiw0XSwxMzpbMiw0XSwxNjpbMiw0XSwyNDpbMiw0XSwyNjpbMiw0XSwyODpbMiw0XSwyOTpbMiw0XSwzMTpbMiw0XSwzMjpbMiw0XSwzNDpbMiw0XX0sezU6WzIsNV0sMTI6WzIsNV0sMTM6WzIsNV0sMTY6WzIsNV0sMjQ6WzIsNV0sMjY6WzIsNV0sMjg6WzIsNV0sMjk6WzIsNV0sMzE6WzIsNV0sMzI6WzIsNV0sMzQ6WzIsNV19LHs1OlsyLDZdLDEyOlsyLDZdLDEzOlsyLDZdLDE2OlsyLDZdLDI0OlsyLDZdLDI2OlsyLDZdLDI4OlsyLDZdLDI5OlsyLDZdLDMxOlsyLDZdLDMyOlsyLDZdLDM0OlsyLDZdfSx7NTpbMiw3XSwxMjpbMiw3XSwxMzpbMiw3XSwxNjpbMiw3XSwyNDpbMiw3XSwyNjpbMiw3XSwyODpbMiw3XSwyOTpbMiw3XSwzMTpbMiw3XSwzMjpbMiw3XSwzNDpbMiw3XX0sezU6WzIsOF0sMTI6WzIsOF0sMTM6WzIsOF0sMTY6WzIsOF0sMjQ6WzIsOF0sMjY6WzIsOF0sMjg6WzIsOF0sMjk6WzIsOF0sMzE6WzIsOF0sMzI6WzIsOF0sMzQ6WzIsOF19LHsxNzoyMSwzMDoyMiw0MToyMyw1MDpbMSwyNl0sNTI6WzEsMjVdLDUzOjI0fSx7MTc6MjcsMzA6MjIsNDE6MjMsNTA6WzEsMjZdLDUyOlsxLDI1XSw1MzoyNH0sezQ6MjgsNjozLDEyOlsyLDM4XSwxMzpbMiwzOF0sMTY6WzIsMzhdLDI0OlsyLDM4XSwyNjpbMiwzOF0sMjg6WzIsMzhdLDI5OlsyLDM4XSwzMTpbMiwzOF0sMzI6WzIsMzhdLDM0OlsyLDM4XX0sezQ6MjksNjozLDEyOlsyLDM4XSwxMzpbMiwzOF0sMTY6WzIsMzhdLDI0OlsyLDM4XSwyNjpbMiwzOF0sMjg6WzIsMzhdLDI5OlsyLDM4XSwzMTpbMiwzOF0sMzI6WzIsMzhdLDM0OlsyLDM4XX0sezEyOlsxLDMwXX0sezMwOjMyLDM1OjMxLDQyOlsxLDMzXSw0MzpbMSwzNF0sNTA6WzEsMjZdLDUzOjI0fSx7MTc6MzUsMzA6MjIsNDE6MjMsNTA6WzEsMjZdLDUyOlsxLDI1XSw1MzoyNH0sezE3OjM2LDMwOjIyLDQxOjIzLDUwOlsxLDI2XSw1MjpbMSwyNV0sNTM6MjR9LHsxNzozNywzMDoyMiw0MToyMyw1MDpbMSwyNl0sNTI6WzEsMjVdLDUzOjI0fSx7MjU6WzEsMzhdfSx7MTg6WzIsNDhdLDI1OlsyLDQ4XSwzMzpbMiw0OF0sMzk6MzksNDI6WzIsNDhdLDQzOlsyLDQ4XSw0NDpbMiw0OF0sNDU6WzIsNDhdLDQ2OlsyLDQ4XSw1MDpbMiw0OF0sNTI6WzIsNDhdfSx7MTg6WzIsMjJdLDI1OlsyLDIyXSwzMzpbMiwyMl0sNDY6WzIsMjJdfSx7MTg6WzIsMzVdLDI1OlsyLDM1XSwzMzpbMiwzNV0sNDI6WzIsMzVdLDQzOlsyLDM1XSw0NDpbMiwzNV0sNDU6WzIsMzVdLDQ2OlsyLDM1XSw1MDpbMiwzNV0sNTI6WzIsMzVdLDU0OlsxLDQwXX0sezMwOjQxLDUwOlsxLDI2XSw1MzoyNH0sezE4OlsyLDM3XSwyNTpbMiwzN10sMzM6WzIsMzddLDQyOlsyLDM3XSw0MzpbMiwzN10sNDQ6WzIsMzddLDQ1OlsyLDM3XSw0NjpbMiwzN10sNTA6WzIsMzddLDUyOlsyLDM3XSw1NDpbMiwzN119LHszMzpbMSw0Ml19LHsyMDo0MywyNzo0NCwyODpbMSw0NV0sMjk6WzIsNDBdfSx7MjM6NDYsMjc6NDcsMjg6WzEsNDVdLDI5OlsyLDQyXX0sezE1OlsxLDQ4XX0sezI1OlsyLDQ2XSwzMDo1MSwzNjo0OSwzODo1MCw0MTo1NSw0MjpbMSw1Ml0sNDM6WzEsNTNdLDQ0OlsxLDU0XSw0NTpbMSw1Nl0sNDc6NTcsNDg6NTgsNDk6NjAsNTA6WzEsNTldLDUyOlsxLDI1XSw1MzoyNH0sezI1OlsyLDMxXSw0MjpbMiwzMV0sNDM6WzIsMzFdLDQ0OlsyLDMxXSw0NTpbMiwzMV0sNTA6WzIsMzFdLDUyOlsyLDMxXX0sezI1OlsyLDMyXSw0MjpbMiwzMl0sNDM6WzIsMzJdLDQ0OlsyLDMyXSw0NTpbMiwzMl0sNTA6WzIsMzJdLDUyOlsyLDMyXX0sezI1OlsyLDMzXSw0MjpbMiwzM10sNDM6WzIsMzNdLDQ0OlsyLDMzXSw0NTpbMiwzM10sNTA6WzIsMzNdLDUyOlsyLDMzXX0sezI1OlsxLDYxXX0sezI1OlsxLDYyXX0sezE4OlsxLDYzXX0sezU6WzIsMTddLDEyOlsyLDE3XSwxMzpbMiwxN10sMTY6WzIsMTddLDI0OlsyLDE3XSwyNjpbMiwxN10sMjg6WzIsMTddLDI5OlsyLDE3XSwzMTpbMiwxN10sMzI6WzIsMTddLDM0OlsyLDE3XX0sezE4OlsyLDUwXSwyNTpbMiw1MF0sMzA6NTEsMzM6WzIsNTBdLDM2OjY1LDQwOjY0LDQxOjU1LDQyOlsxLDUyXSw0MzpbMSw1M10sNDQ6WzEsNTRdLDQ1OlsxLDU2XSw0NjpbMiw1MF0sNDc6NjYsNDg6NTgsNDk6NjAsNTA6WzEsNTldLDUyOlsxLDI1XSw1MzoyNH0sezUwOlsxLDY3XX0sezE4OlsyLDM0XSwyNTpbMiwzNF0sMzM6WzIsMzRdLDQyOlsyLDM0XSw0MzpbMiwzNF0sNDQ6WzIsMzRdLDQ1OlsyLDM0XSw0NjpbMiwzNF0sNTA6WzIsMzRdLDUyOlsyLDM0XX0sezU6WzIsMThdLDEyOlsyLDE4XSwxMzpbMiwxOF0sMTY6WzIsMThdLDI0OlsyLDE4XSwyNjpbMiwxOF0sMjg6WzIsMThdLDI5OlsyLDE4XSwzMTpbMiwxOF0sMzI6WzIsMThdLDM0OlsyLDE4XX0sezIxOjY4LDI5OlsxLDY5XX0sezI5OlsyLDQxXX0sezQ6NzAsNjozLDEyOlsyLDM4XSwxMzpbMiwzOF0sMTY6WzIsMzhdLDI0OlsyLDM4XSwyNjpbMiwzOF0sMjk6WzIsMzhdLDMxOlsyLDM4XSwzMjpbMiwzOF0sMzQ6WzIsMzhdfSx7MjE6NzEsMjk6WzEsNjldfSx7Mjk6WzIsNDNdfSx7NTpbMiw5XSwxMjpbMiw5XSwxMzpbMiw5XSwxNjpbMiw5XSwyNDpbMiw5XSwyNjpbMiw5XSwyODpbMiw5XSwyOTpbMiw5XSwzMTpbMiw5XSwzMjpbMiw5XSwzNDpbMiw5XX0sezI1OlsyLDQ0XSwzNzo3Miw0Nzo3Myw0ODo1OCw0OTo2MCw1MDpbMSw3NF19LHsyNTpbMSw3NV19LHsxODpbMiwyM10sMjU6WzIsMjNdLDMzOlsyLDIzXSw0MjpbMiwyM10sNDM6WzIsMjNdLDQ0OlsyLDIzXSw0NTpbMiwyM10sNDY6WzIsMjNdLDUwOlsyLDIzXSw1MjpbMiwyM119LHsxODpbMiwyNF0sMjU6WzIsMjRdLDMzOlsyLDI0XSw0MjpbMiwyNF0sNDM6WzIsMjRdLDQ0OlsyLDI0XSw0NTpbMiwyNF0sNDY6WzIsMjRdLDUwOlsyLDI0XSw1MjpbMiwyNF19LHsxODpbMiwyNV0sMjU6WzIsMjVdLDMzOlsyLDI1XSw0MjpbMiwyNV0sNDM6WzIsMjVdLDQ0OlsyLDI1XSw0NTpbMiwyNV0sNDY6WzIsMjVdLDUwOlsyLDI1XSw1MjpbMiwyNV19LHsxODpbMiwyNl0sMjU6WzIsMjZdLDMzOlsyLDI2XSw0MjpbMiwyNl0sNDM6WzIsMjZdLDQ0OlsyLDI2XSw0NTpbMiwyNl0sNDY6WzIsMjZdLDUwOlsyLDI2XSw1MjpbMiwyNl19LHsxODpbMiwyN10sMjU6WzIsMjddLDMzOlsyLDI3XSw0MjpbMiwyN10sNDM6WzIsMjddLDQ0OlsyLDI3XSw0NTpbMiwyN10sNDY6WzIsMjddLDUwOlsyLDI3XSw1MjpbMiwyN119LHsxNzo3NiwzMDoyMiw0MToyMyw1MDpbMSwyNl0sNTI6WzEsMjVdLDUzOjI0fSx7MjU6WzIsNDddfSx7MTg6WzIsMjldLDI1OlsyLDI5XSwzMzpbMiwyOV0sNDY6WzIsMjldLDQ5Ojc3LDUwOlsxLDc0XX0sezE4OlsyLDM3XSwyNTpbMiwzN10sMzM6WzIsMzddLDQyOlsyLDM3XSw0MzpbMiwzN10sNDQ6WzIsMzddLDQ1OlsyLDM3XSw0NjpbMiwzN10sNTA6WzIsMzddLDUxOlsxLDc4XSw1MjpbMiwzN10sNTQ6WzIsMzddfSx7MTg6WzIsNTJdLDI1OlsyLDUyXSwzMzpbMiw1Ml0sNDY6WzIsNTJdLDUwOlsyLDUyXX0sezEyOlsyLDEzXSwxMzpbMiwxM10sMTY6WzIsMTNdLDI0OlsyLDEzXSwyNjpbMiwxM10sMjg6WzIsMTNdLDI5OlsyLDEzXSwzMTpbMiwxM10sMzI6WzIsMTNdLDM0OlsyLDEzXX0sezEyOlsyLDE0XSwxMzpbMiwxNF0sMTY6WzIsMTRdLDI0OlsyLDE0XSwyNjpbMiwxNF0sMjg6WzIsMTRdLDI5OlsyLDE0XSwzMTpbMiwxNF0sMzI6WzIsMTRdLDM0OlsyLDE0XX0sezEyOlsyLDEwXX0sezE4OlsyLDIxXSwyNTpbMiwyMV0sMzM6WzIsMjFdLDQ2OlsyLDIxXX0sezE4OlsyLDQ5XSwyNTpbMiw0OV0sMzM6WzIsNDldLDQyOlsyLDQ5XSw0MzpbMiw0OV0sNDQ6WzIsNDldLDQ1OlsyLDQ5XSw0NjpbMiw0OV0sNTA6WzIsNDldLDUyOlsyLDQ5XX0sezE4OlsyLDUxXSwyNTpbMiw1MV0sMzM6WzIsNTFdLDQ2OlsyLDUxXX0sezE4OlsyLDM2XSwyNTpbMiwzNl0sMzM6WzIsMzZdLDQyOlsyLDM2XSw0MzpbMiwzNl0sNDQ6WzIsMzZdLDQ1OlsyLDM2XSw0NjpbMiwzNl0sNTA6WzIsMzZdLDUyOlsyLDM2XSw1NDpbMiwzNl19LHs1OlsyLDExXSwxMjpbMiwxMV0sMTM6WzIsMTFdLDE2OlsyLDExXSwyNDpbMiwxMV0sMjY6WzIsMTFdLDI4OlsyLDExXSwyOTpbMiwxMV0sMzE6WzIsMTFdLDMyOlsyLDExXSwzNDpbMiwxMV19LHszMDo3OSw1MDpbMSwyNl0sNTM6MjR9LHsyOTpbMiwxNV19LHs1OlsyLDEyXSwxMjpbMiwxMl0sMTM6WzIsMTJdLDE2OlsyLDEyXSwyNDpbMiwxMl0sMjY6WzIsMTJdLDI4OlsyLDEyXSwyOTpbMiwxMl0sMzE6WzIsMTJdLDMyOlsyLDEyXSwzNDpbMiwxMl19LHsyNTpbMSw4MF19LHsyNTpbMiw0NV19LHs1MTpbMSw3OF19LHs1OlsyLDIwXSwxMjpbMiwyMF0sMTM6WzIsMjBdLDE2OlsyLDIwXSwyNDpbMiwyMF0sMjY6WzIsMjBdLDI4OlsyLDIwXSwyOTpbMiwyMF0sMzE6WzIsMjBdLDMyOlsyLDIwXSwzNDpbMiwyMF19LHs0NjpbMSw4MV19LHsxODpbMiw1M10sMjU6WzIsNTNdLDMzOlsyLDUzXSw0NjpbMiw1M10sNTA6WzIsNTNdfSx7MzA6NTEsMzY6ODIsNDE6NTUsNDI6WzEsNTJdLDQzOlsxLDUzXSw0NDpbMSw1NF0sNDU6WzEsNTZdLDUwOlsxLDI2XSw1MjpbMSwyNV0sNTM6MjR9LHsyNTpbMSw4M119LHs1OlsyLDE5XSwxMjpbMiwxOV0sMTM6WzIsMTldLDE2OlsyLDE5XSwyNDpbMiwxOV0sMjY6WzIsMTldLDI4OlsyLDE5XSwyOTpbMiwxOV0sMzE6WzIsMTldLDMyOlsyLDE5XSwzNDpbMiwxOV19LHsxODpbMiwyOF0sMjU6WzIsMjhdLDMzOlsyLDI4XSw0MjpbMiwyOF0sNDM6WzIsMjhdLDQ0OlsyLDI4XSw0NTpbMiwyOF0sNDY6WzIsMjhdLDUwOlsyLDI4XSw1MjpbMiwyOF19LHsxODpbMiwzMF0sMjU6WzIsMzBdLDMzOlsyLDMwXSw0NjpbMiwzMF0sNTA6WzIsMzBdfSx7NTpbMiwxNl0sMTI6WzIsMTZdLDEzOlsyLDE2XSwxNjpbMiwxNl0sMjQ6WzIsMTZdLDI2OlsyLDE2XSwyODpbMiwxNl0sMjk6WzIsMTZdLDMxOlsyLDE2XSwzMjpbMiwxNl0sMzQ6WzIsMTZdfV0sZGVmYXVsdEFjdGlvbnM6ezQ6WzIsMV0sNDQ6WzIsNDFdLDQ3OlsyLDQzXSw1NzpbMiw0N10sNjM6WzIsMTBdLDcwOlsyLDE1XSw3MzpbMiw0NV19LHBhcnNlRXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxwYXJzZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGE7cmV0dXJuIGE9Yy5sZXhlci5sZXgoKXx8MSwibnVtYmVyIiE9dHlwZW9mIGEmJihhPWMuc3ltYm9sc19bYV18fGEpLGF9dmFyIGM9dGhpcyxkPVswXSxlPVtudWxsXSxmPVtdLGc9dGhpcy50YWJsZSxoPSIiLGk9MCxqPTAsaz0wO3RoaXMubGV4ZXIuc2V0SW5wdXQoYSksdGhpcy5sZXhlci55eT10aGlzLnl5LHRoaXMueXkubGV4ZXI9dGhpcy5sZXhlcix0aGlzLnl5LnBhcnNlcj10aGlzLCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5sZXhlci55eWxsb2MmJih0aGlzLmxleGVyLnl5bGxvYz17fSk7dmFyIGw9dGhpcy5sZXhlci55eWxsb2M7Zi5wdXNoKGwpO3ZhciBtPXRoaXMubGV4ZXIub3B0aW9ucyYmdGhpcy5sZXhlci5vcHRpb25zLnJhbmdlczsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yJiYodGhpcy5wYXJzZUVycm9yPXRoaXMueXkucGFyc2VFcnJvcik7Zm9yKHZhciBuLG8scCxxLHIscyx0LHUsdix3PXt9Ozspe2lmKHA9ZFtkLmxlbmd0aC0xXSx0aGlzLmRlZmF1bHRBY3Rpb25zW3BdP3E9dGhpcy5kZWZhdWx0QWN0aW9uc1twXTooKG51bGw9PT1ufHwidW5kZWZpbmVkIj09dHlwZW9mIG4pJiYobj1iKCkpLHE9Z1twXSYmZ1twXVtuXSksInVuZGVmaW5lZCI9PXR5cGVvZiBxfHwhcS5sZW5ndGh8fCFxWzBdKXt2YXIgeD0iIjtpZighayl7dj1bXTtmb3IocyBpbiBnW3BdKXRoaXMudGVybWluYWxzX1tzXSYmcz4yJiZ2LnB1c2goIiciK3RoaXMudGVybWluYWxzX1tzXSsiJyIpO3g9dGhpcy5sZXhlci5zaG93UG9zaXRpb24/IlBhcnNlIGVycm9yIG9uIGxpbmUgIisoaSsxKSsiOlxuIit0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpKyJcbkV4cGVjdGluZyAiK3Yuam9pbigiLCAiKSsiLCBnb3QgJyIrKHRoaXMudGVybWluYWxzX1tuXXx8bikrIiciOiJQYXJzZSBlcnJvciBvbiBsaW5lICIrKGkrMSkrIjogVW5leHBlY3RlZCAiKygxPT1uPyJlbmQgb2YgaW5wdXQiOiInIisodGhpcy50ZXJtaW5hbHNfW25dfHxuKSsiJyIpLHRoaXMucGFyc2VFcnJvcih4LHt0ZXh0OnRoaXMubGV4ZXIubWF0Y2gsdG9rZW46dGhpcy50ZXJtaW5hbHNfW25dfHxuLGxpbmU6dGhpcy5sZXhlci55eWxpbmVubyxsb2M6bCxleHBlY3RlZDp2fSl9fWlmKHFbMF1pbnN0YW5jZW9mIEFycmF5JiZxLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcigiUGFyc2UgRXJyb3I6IG11bHRpcGxlIGFjdGlvbnMgcG9zc2libGUgYXQgc3RhdGU6ICIrcCsiLCB0b2tlbjogIituKTtzd2l0Y2gocVswXSl7Y2FzZSAxOmQucHVzaChuKSxlLnB1c2godGhpcy5sZXhlci55eXRleHQpLGYucHVzaCh0aGlzLmxleGVyLnl5bGxvYyksZC5wdXNoKHFbMV0pLG49bnVsbCxvPyhuPW8sbz1udWxsKTooaj10aGlzLmxleGVyLnl5bGVuZyxoPXRoaXMubGV4ZXIueXl0ZXh0LGk9dGhpcy5sZXhlci55eWxpbmVubyxsPXRoaXMubGV4ZXIueXlsbG9jLGs+MCYmay0tKTticmVhaztjYXNlIDI6aWYodD10aGlzLnByb2R1Y3Rpb25zX1txWzFdXVsxXSx3LiQ9ZVtlLmxlbmd0aC10XSx3Ll8kPXtmaXJzdF9saW5lOmZbZi5sZW5ndGgtKHR8fDEpXS5maXJzdF9saW5lLGxhc3RfbGluZTpmW2YubGVuZ3RoLTFdLmxhc3RfbGluZSxmaXJzdF9jb2x1bW46ZltmLmxlbmd0aC0odHx8MSldLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjpmW2YubGVuZ3RoLTFdLmxhc3RfY29sdW1ufSxtJiYody5fJC5yYW5nZT1bZltmLmxlbmd0aC0odHx8MSldLnJhbmdlWzBdLGZbZi5sZW5ndGgtMV0ucmFuZ2VbMV1dKSxyPXRoaXMucGVyZm9ybUFjdGlvbi5jYWxsKHcsaCxqLGksdGhpcy55eSxxWzFdLGUsZiksInVuZGVmaW5lZCIhPXR5cGVvZiByKXJldHVybiByO3QmJihkPWQuc2xpY2UoMCwtMSp0KjIpLGU9ZS5zbGljZSgwLC0xKnQpLGY9Zi5zbGljZSgwLC0xKnQpKSxkLnB1c2godGhpcy5wcm9kdWN0aW9uc19bcVsxXV1bMF0pLGUucHVzaCh3LiQpLGYucHVzaCh3Ll8kKSx1PWdbZFtkLmxlbmd0aC0yXV1bZFtkLmxlbmd0aC0xXV0sZC5wdXNoKHUpO2JyZWFrO2Nhc2UgMzpyZXR1cm4hMH19cmV0dXJuITB9fSxjPWZ1bmN0aW9uKCl7dmFyIGE9e0VPRjoxLHBhcnNlRXJyb3I6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy55eS5wYXJzZXIpdGhyb3cgbmV3IEVycm9yKGEpO3RoaXMueXkucGFyc2VyLnBhcnNlRXJyb3IoYSxiKX0sc2V0SW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2lucHV0PWEsdGhpcy5fbW9yZT10aGlzLl9sZXNzPXRoaXMuZG9uZT0hMSx0aGlzLnl5bGluZW5vPXRoaXMueXlsZW5nPTAsdGhpcy55eXRleHQ9dGhpcy5tYXRjaGVkPXRoaXMubWF0Y2g9IiIsdGhpcy5jb25kaXRpb25TdGFjaz1bIklOSVRJQUwiXSx0aGlzLnl5bGxvYz17Zmlyc3RfbGluZToxLGZpcnN0X2NvbHVtbjowLGxhc3RfbGluZToxLGxhc3RfY29sdW1uOjB9LHRoaXMub3B0aW9ucy5yYW5nZXMmJih0aGlzLnl5bGxvYy5yYW5nZT1bMCwwXSksdGhpcy5vZmZzZXQ9MCx0aGlzfSxpbnB1dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2lucHV0WzBdO3RoaXMueXl0ZXh0Kz1hLHRoaXMueXlsZW5nKyssdGhpcy5vZmZzZXQrKyx0aGlzLm1hdGNoKz1hLHRoaXMubWF0Y2hlZCs9YTt2YXIgYj1hLm1hdGNoKC8oPzpcclxuP3xcbikuKi9nKTtyZXR1cm4gYj8odGhpcy55eWxpbmVubysrLHRoaXMueXlsbG9jLmxhc3RfbGluZSsrKTp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbisrLHRoaXMub3B0aW9ucy5yYW5nZXMmJnRoaXMueXlsbG9jLnJhbmdlWzFdKyssdGhpcy5faW5wdXQ9dGhpcy5faW5wdXQuc2xpY2UoMSksYX0sdW5wdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGgsYz1hLnNwbGl0KC8oPzpcclxuP3xcbikvZyk7dGhpcy5faW5wdXQ9YSt0aGlzLl9pbnB1dCx0aGlzLnl5dGV4dD10aGlzLnl5dGV4dC5zdWJzdHIoMCx0aGlzLnl5dGV4dC5sZW5ndGgtYi0xKSx0aGlzLm9mZnNldC09Yjt2YXIgZD10aGlzLm1hdGNoLnNwbGl0KC8oPzpcclxuP3xcbikvZyk7dGhpcy5tYXRjaD10aGlzLm1hdGNoLnN1YnN0cigwLHRoaXMubWF0Y2gubGVuZ3RoLTEpLHRoaXMubWF0Y2hlZD10aGlzLm1hdGNoZWQuc3Vic3RyKDAsdGhpcy5tYXRjaGVkLmxlbmd0aC0xKSxjLmxlbmd0aC0xJiYodGhpcy55eWxpbmVuby09Yy5sZW5ndGgtMSk7dmFyIGU9dGhpcy55eWxsb2MucmFuZ2U7cmV0dXJuIHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOnRoaXMueXlsbG9jLmZpcnN0X2xpbmUsbGFzdF9saW5lOnRoaXMueXlsaW5lbm8rMSxmaXJzdF9jb2x1bW46dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOmM/KGMubGVuZ3RoPT09ZC5sZW5ndGg/dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uOjApK2RbZC5sZW5ndGgtYy5sZW5ndGhdLmxlbmd0aC1jWzBdLmxlbmd0aDp0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4tYn0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVtlWzBdLGVbMF0rdGhpcy55eWxlbmctYl0pLHRoaXN9LG1vcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9yZT0hMCx0aGlzfSxsZXNzOmZ1bmN0aW9uKGEpe3RoaXMudW5wdXQodGhpcy5tYXRjaC5zbGljZShhKSl9LHBhc3RJbnB1dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWF0Y2hlZC5zdWJzdHIoMCx0aGlzLm1hdGNoZWQubGVuZ3RoLXRoaXMubWF0Y2gubGVuZ3RoKTtyZXR1cm4oYS5sZW5ndGg+MjA/Ii4uLiI6IiIpK2Euc3Vic3RyKC0yMCkucmVwbGFjZSgvXG4vZywiIil9LHVwY29taW5nSW5wdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hdGNoO3JldHVybiBhLmxlbmd0aDwyMCYmKGErPXRoaXMuX2lucHV0LnN1YnN0cigwLDIwLWEubGVuZ3RoKSksKGEuc3Vic3RyKDAsMjApKyhhLmxlbmd0aD4yMD8iLi4uIjoiIikpLnJlcGxhY2UoL1xuL2csIiIpfSxzaG93UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhc3RJbnB1dCgpLGI9bmV3IEFycmF5KGEubGVuZ3RoKzEpLmpvaW4oIi0iKTtyZXR1cm4gYSt0aGlzLnVwY29taW5nSW5wdXQoKSsiXG4iK2IrIl4ifSxuZXh0OmZ1bmN0aW9uKCl7aWYodGhpcy5kb25lKXJldHVybiB0aGlzLkVPRjt0aGlzLl9pbnB1dHx8KHRoaXMuZG9uZT0hMCk7dmFyIGEsYixjLGQsZTt0aGlzLl9tb3JlfHwodGhpcy55eXRleHQ9IiIsdGhpcy5tYXRjaD0iIik7Zm9yKHZhciBmPXRoaXMuX2N1cnJlbnRSdWxlcygpLGc9MDtnPGYubGVuZ3RoJiYoYz10aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW2ZbZ11dKSwhY3x8YiYmIShjWzBdLmxlbmd0aD5iWzBdLmxlbmd0aCl8fChiPWMsZD1nLHRoaXMub3B0aW9ucy5mbGV4KSk7ZysrKTtyZXR1cm4gYj8oZT1iWzBdLm1hdGNoKC8oPzpcclxuP3xcbikuKi9nKSxlJiYodGhpcy55eWxpbmVubys9ZS5sZW5ndGgpLHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOnRoaXMueXlsbG9jLmxhc3RfbGluZSxsYXN0X2xpbmU6dGhpcy55eWxpbmVubysxLGZpcnN0X2NvbHVtbjp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbixsYXN0X2NvbHVtbjplP2VbZS5sZW5ndGgtMV0ubGVuZ3RoLWVbZS5sZW5ndGgtMV0ubWF0Y2goL1xyP1xuPy8pWzBdLmxlbmd0aDp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbitiWzBdLmxlbmd0aH0sdGhpcy55eXRleHQrPWJbMF0sdGhpcy5tYXRjaCs9YlswXSx0aGlzLm1hdGNoZXM9Yix0aGlzLnl5bGVuZz10aGlzLnl5dGV4dC5sZW5ndGgsdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVt0aGlzLm9mZnNldCx0aGlzLm9mZnNldCs9dGhpcy55eWxlbmddKSx0aGlzLl9tb3JlPSExLHRoaXMuX2lucHV0PXRoaXMuX2lucHV0LnNsaWNlKGJbMF0ubGVuZ3RoKSx0aGlzLm1hdGNoZWQrPWJbMF0sYT10aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLHRoaXMueXksdGhpcyxmW2RdLHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0pLHRoaXMuZG9uZSYmdGhpcy5faW5wdXQmJih0aGlzLmRvbmU9ITEpLGE/YTp2b2lkIDApOiIiPT09dGhpcy5faW5wdXQ/dGhpcy5FT0Y6dGhpcy5wYXJzZUVycm9yKCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgIisodGhpcy55eWxpbmVubysxKSsiLiBVbnJlY29nbml6ZWQgdGV4dC5cbiIrdGhpcy5zaG93UG9zaXRpb24oKSx7dGV4dDoiIix0b2tlbjpudWxsLGxpbmU6dGhpcy55eWxpbmVub30pfSxsZXg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5leHQoKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGE/YTp0aGlzLmxleCgpfSxiZWdpbjpmdW5jdGlvbihhKXt0aGlzLmNvbmRpdGlvblN0YWNrLnB1c2goYSl9LHBvcFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2sucG9wKCl9LF9jdXJyZW50UnVsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV1dLnJ1bGVzfSx0b3BTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTJdfSxwdXNoU3RhdGU6ZnVuY3Rpb24oYSl7dGhpcy5iZWdpbihhKX19O3JldHVybiBhLm9wdGlvbnM9e30sYS5wZXJmb3JtQWN0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSxjKXtyZXR1cm4gYi55eXRleHQ9Yi55eXRleHQuc3Vic3RyKGEsYi55eWxlbmctYyl9c3dpdGNoKGMpe2Nhc2UgMDppZigiXFxcXCI9PT1iLnl5dGV4dC5zbGljZSgtMik/KGUoMCwxKSx0aGlzLmJlZ2luKCJtdSIpKToiXFwiPT09Yi55eXRleHQuc2xpY2UoLTEpPyhlKDAsMSksdGhpcy5iZWdpbigiZW11IikpOnRoaXMuYmVnaW4oIm11IiksYi55eXRleHQpcmV0dXJuIDEyO2JyZWFrO2Nhc2UgMTpyZXR1cm4gMTI7Y2FzZSAyOnJldHVybiB0aGlzLnBvcFN0YXRlKCksMTI7Y2FzZSAzOnJldHVybiBiLnl5dGV4dD1iLnl5dGV4dC5zdWJzdHIoNSxiLnl5bGVuZy05KSx0aGlzLnBvcFN0YXRlKCksMTU7Y2FzZSA0OnJldHVybiAxMjtjYXNlIDU6cmV0dXJuIGUoMCw0KSx0aGlzLnBvcFN0YXRlKCksMTM7Y2FzZSA2OnJldHVybiA0NTtjYXNlIDc6cmV0dXJuIDQ2O2Nhc2UgODpyZXR1cm4gMTY7Y2FzZSA5OnJldHVybiB0aGlzLnBvcFN0YXRlKCksdGhpcy5iZWdpbigicmF3IiksMTg7Y2FzZSAxMDpyZXR1cm4gMzQ7Y2FzZSAxMTpyZXR1cm4gMjQ7Y2FzZSAxMjpyZXR1cm4gMjk7Y2FzZSAxMzpyZXR1cm4gdGhpcy5wb3BTdGF0ZSgpLDI4O2Nhc2UgMTQ6cmV0dXJuIHRoaXMucG9wU3RhdGUoKSwyODtjYXNlIDE1OnJldHVybiAyNjtjYXNlIDE2OnJldHVybiAyNjtjYXNlIDE3OnJldHVybiAzMjtjYXNlIDE4OnJldHVybiAzMTtjYXNlIDE5OnRoaXMucG9wU3RhdGUoKSx0aGlzLmJlZ2luKCJjb20iKTticmVhaztjYXNlIDIwOnJldHVybiBlKDMsNSksdGhpcy5wb3BTdGF0ZSgpLDEzO2Nhc2UgMjE6cmV0dXJuIDMxO2Nhc2UgMjI6cmV0dXJuIDUxO2Nhc2UgMjM6cmV0dXJuIDUwO2Nhc2UgMjQ6cmV0dXJuIDUwO2Nhc2UgMjU6cmV0dXJuIDU0O2Nhc2UgMjY6YnJlYWs7Y2FzZSAyNzpyZXR1cm4gdGhpcy5wb3BTdGF0ZSgpLDMzO2Nhc2UgMjg6cmV0dXJuIHRoaXMucG9wU3RhdGUoKSwyNTtjYXNlIDI5OnJldHVybiBiLnl5dGV4dD1lKDEsMikucmVwbGFjZSgvXFwiL2csJyInKSw0MjtjYXNlIDMwOnJldHVybiBiLnl5dGV4dD1lKDEsMikucmVwbGFjZSgvXFwnL2csIiciKSw0MjtjYXNlIDMxOnJldHVybiA1MjtjYXNlIDMyOnJldHVybiA0NDtjYXNlIDMzOnJldHVybiA0NDtjYXNlIDM0OnJldHVybiA0MztjYXNlIDM1OnJldHVybiA1MDtjYXNlIDM2OnJldHVybiBiLnl5dGV4dD1lKDEsMiksNTA7Y2FzZSAzNzpyZXR1cm4iSU5WQUxJRCI7Y2FzZSAzODpyZXR1cm4gNX19LGEucnVsZXM9Wy9eKD86W15ceDAwXSo/KD89KFx7XHspKSkvLC9eKD86W15ceDAwXSspLywvXig/OlteXHgwMF17Mix9Pyg/PShce1x7fFxcXHtce3xcXFxcXHtce3wkKSkpLywvXig/Olx7XHtce1x7XC9bXlxzISIjJS0sXC5cLzstPkBcWy1cXmBcey1+XSsoPz1bPX1cc1wvLl0pXH1cfVx9XH0pLywvXig/OlteXHgwMF0qPyg/PShce1x7XHtce1wvKSkpLywvXig/Oltcc1xTXSo/LS1cfVx9KS8sL14oPzpcKCkvLC9eKD86XCkpLywvXig/Olx7XHtce1x7KS8sL14oPzpcfVx9XH1cfSkvLC9eKD86XHtceyh+KT8+KS8sL14oPzpce1x7KH4pPyMpLywvXig/Olx7XHsofik/XC8pLywvXig/Olx7XHsofik/XF5ccyoofik/XH1cfSkvLC9eKD86XHtceyh+KT9ccyplbHNlXHMqKH4pP1x9XH0pLywvXig/Olx7XHsofik/XF4pLywvXig/Olx7XHsofik/XHMqZWxzZVxiKS8sL14oPzpce1x7KH4pP1x7KS8sL14oPzpce1x7KH4pPyYpLywvXig/Olx7XHshLS0pLywvXig/Olx7XHshW1xzXFNdKj9cfVx9KS8sL14oPzpce1x7KH4pPykvLC9eKD86PSkvLC9eKD86XC5cLikvLC9eKD86XC4oPz0oWz1+fVxzXC8uKV0pKSkvLC9eKD86W1wvLl0pLywvXig/OlxzKykvLC9eKD86XH0ofik/XH1cfSkvLC9eKD86KH4pP1x9XH0pLywvXig/OiIoXFxbIl18W14iXSkqIikvLC9eKD86JyhcXFsnXXxbXiddKSonKS8sL14oPzpAKS8sL14oPzp0cnVlKD89KFt+fVxzKV0pKSkvLC9eKD86ZmFsc2UoPz0oW359XHMpXSkpKS8sL14oPzotP1swLTldKyg/OlwuWzAtOV0rKT8oPz0oW359XHMpXSkpKS8sL14oPzooW15ccyEiIyUtLFwuXC87LT5AXFstXF5gXHstfl0rKD89KFs9fn1cc1wvLildKSkpKS8sL14oPzpcW1teXF1dKlxdKS8sL14oPzouKS8sL14oPzokKS9dLGEuY29uZGl0aW9ucz17bXU6e3J1bGVzOls2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4XSxpbmNsdXNpdmU6ITF9LGVtdTp7cnVsZXM6WzJdLGluY2x1c2l2ZTohMX0sY29tOntydWxlczpbNV0saW5jbHVzaXZlOiExfSxyYXc6e3J1bGVzOlszLDRdLGluY2x1c2l2ZTohMX0sSU5JVElBTDp7cnVsZXM6WzAsMSwzOF0saW5jbHVzaXZlOiEwfX0sYX0oKTtyZXR1cm4gYi5sZXhlcj1jLGEucHJvdG90eXBlPWIsYi5QYXJzZXI9YSxuZXcgYX0oKTtyZXR1cm4gYT1ifSgpLGk9ZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm57bGVmdDoifiI9PT1hLmNoYXJBdCgyKSxyaWdodDoifiI9PT1iLmNoYXJBdChiLmxlbmd0aC0zKX19ZnVuY3Rpb24gYyhhLGIsYyxkLGksayl7aWYoYS5zZXhwci5pZC5vcmlnaW5hbCE9PWQucGF0aC5vcmlnaW5hbCl0aHJvdyBuZXcgaihhLnNleHByLmlkLm9yaWdpbmFsKyIgZG9lc24ndCBtYXRjaCAiK2QucGF0aC5vcmlnaW5hbCxhKTt2YXIgbD1jJiZjLnByb2dyYW0sbT17bGVmdDphLnN0cmlwLmxlZnQscmlnaHQ6ZC5zdHJpcC5yaWdodCxvcGVuU3RhbmRhbG9uZTpmKGIuc3RhdGVtZW50cyksY2xvc2VTdGFuZGFsb25lOmUoKGx8fGIpLnN0YXRlbWVudHMpfTtpZihhLnN0cmlwLnJpZ2h0JiZnKGIuc3RhdGVtZW50cyxudWxsLCEwKSxsKXt2YXIgbj1jLnN0cmlwO24ubGVmdCYmaChiLnN0YXRlbWVudHMsbnVsbCwhMCksbi5yaWdodCYmZyhsLnN0YXRlbWVudHMsbnVsbCwhMCksZC5zdHJpcC5sZWZ0JiZoKGwuc3RhdGVtZW50cyxudWxsLCEwKSxlKGIuc3RhdGVtZW50cykmJmYobC5zdGF0ZW1lbnRzKSYmKGgoYi5zdGF0ZW1lbnRzKSxnKGwuc3RhdGVtZW50cykpfWVsc2UgZC5zdHJpcC5sZWZ0JiZoKGIuc3RhdGVtZW50cyxudWxsLCEwKTtyZXR1cm4gaT9uZXcgdGhpcy5CbG9ja05vZGUoYSxsLGIsbSxrKTpuZXcgdGhpcy5CbG9ja05vZGUoYSxiLGwsbSxrKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKXt2YXIgaT1hW2NdLGo9aS5zdHJpcDtpZihqKXt2YXIgaz1lKGEsYyxiLCJwYXJ0aWFsIj09PWkudHlwZSksbD1mKGEsYyxiKSxtPWoub3BlblN0YW5kYWxvbmUmJmssbj1qLmNsb3NlU3RhbmRhbG9uZSYmbCxvPWouaW5saW5lU3RhbmRhbG9uZSYmayYmbDtqLnJpZ2h0JiZnKGEsYywhMCksai5sZWZ0JiZoKGEsYywhMCksbyYmKGcoYSxjKSxoKGEsYykmJiJwYXJ0aWFsIj09PWkudHlwZSYmKGkuaW5kZW50PS8oWyBcdF0rJCkvLmV4ZWMoYVtjLTFdLm9yaWdpbmFsKT9SZWdFeHAuJDE6IiIpKSxtJiYoZygoaS5wcm9ncmFtfHxpLmludmVyc2UpLnN0YXRlbWVudHMpLGgoYSxjKSksbiYmKGcoYSxjKSxoKChpLmludmVyc2V8fGkucHJvZ3JhbSkuc3RhdGVtZW50cykpfX1yZXR1cm4gYX1mdW5jdGlvbiBlKGEsYixjKXt2b2lkIDA9PT1iJiYoYj1hLmxlbmd0aCk7dmFyIGQ9YVtiLTFdLGU9YVtiLTJdO3JldHVybiBkPyJjb250ZW50Ij09PWQudHlwZT8oZXx8IWM/L1xyP1xuXHMqPyQvOi8oXnxccj9cbilccyo/JC8pLnRlc3QoZC5vcmlnaW5hbCk6dm9pZCAwOmN9ZnVuY3Rpb24gZihhLGIsYyl7dm9pZCAwPT09YiYmKGI9LTEpO3ZhciBkPWFbYisxXSxlPWFbYisyXTtyZXR1cm4gZD8iY29udGVudCI9PT1kLnR5cGU/KGV8fCFjPy9eXHMqP1xyP1xuLzovXlxzKj8oXHI/XG58JCkvKS50ZXN0KGQub3JpZ2luYWwpOnZvaWQgMDpjfWZ1bmN0aW9uIGcoYSxiLGMpe3ZhciBkPWFbbnVsbD09Yj8wOmIrMV07aWYoZCYmImNvbnRlbnQiPT09ZC50eXBlJiYoY3x8IWQucmlnaHRTdHJpcHBlZCkpe3ZhciBlPWQuc3RyaW5nO2Quc3RyaW5nPWQuc3RyaW5nLnJlcGxhY2UoYz8vXlxzKy86L15bIFx0XSpccj9cbj8vLCIiKSxkLnJpZ2h0U3RyaXBwZWQ9ZC5zdHJpbmchPT1lfX1mdW5jdGlvbiBoKGEsYixjKXt2YXIgZD1hW251bGw9PWI/YS5sZW5ndGgtMTpiLTFdO2lmKGQmJiJjb250ZW50Ij09PWQudHlwZSYmKGN8fCFkLmxlZnRTdHJpcHBlZCkpe3ZhciBlPWQuc3RyaW5nO3JldHVybiBkLnN0cmluZz1kLnN0cmluZy5yZXBsYWNlKGM/L1xzKyQvOi9bIFx0XSskLywiIiksZC5sZWZ0U3RyaXBwZWQ9ZC5zdHJpbmchPT1lLGQubGVmdFN0cmlwcGVkfX12YXIgaT17fSxqPWE7cmV0dXJuIGkuc3RyaXBGbGFncz1iLGkucHJlcGFyZUJsb2NrPWMsaS5wcmVwYXJlUHJvZ3JhbT1kLGl9KGMpLGo9ZnVuY3Rpb24oYSxiLGMsZCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGEuY29uc3RydWN0b3I9PT1oLlByb2dyYW1Ob2RlP2E6KGcueXk9ayxnLnBhcnNlKGEpKX12YXIgZj17fSxnPWEsaD1iLGk9YyxqPWQuZXh0ZW5kO2YucGFyc2VyPWc7dmFyIGs9e307cmV0dXJuIGooayxpLGgpLGYucGFyc2U9ZSxmfShoLGcsaSxiKSxrPWZ1bmN0aW9uKGEsYil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGMoKXt9ZnVuY3Rpb24gZChhLGIsYyl7aWYobnVsbD09YXx8InN0cmluZyIhPXR5cGVvZiBhJiZhLmNvbnN0cnVjdG9yIT09Yy5BU1QuUHJvZ3JhbU5vZGUpdGhyb3cgbmV3IGgoIllvdSBtdXN0IHBhc3MgYSBzdHJpbmcgb3IgSGFuZGxlYmFycyBBU1QgdG8gSGFuZGxlYmFycy5wcmVjb21waWxlLiBZb3UgcGFzc2VkICIrYSk7Yj1ifHx7fSwiZGF0YSJpbiBifHwoYi5kYXRhPSEwKSxiLmNvbXBhdCYmKGIudXNlRGVwdGhzPSEwKTt2YXIgZD1jLnBhcnNlKGEpLGU9KG5ldyBjLkNvbXBpbGVyKS5jb21waWxlKGQsYik7cmV0dXJuKG5ldyBjLkphdmFTY3JpcHRDb21waWxlcikuY29tcGlsZShlLGIpfWZ1bmN0aW9uIGUoYSxiLGMpe2Z1bmN0aW9uIGQoKXt2YXIgZD1jLnBhcnNlKGEpLGU9KG5ldyBjLkNvbXBpbGVyKS5jb21waWxlKGQsYiksZj0obmV3IGMuSmF2YVNjcmlwdENvbXBpbGVyKS5jb21waWxlKGUsYix2b2lkIDAsITApO3JldHVybiBjLnRlbXBsYXRlKGYpfWlmKG51bGw9PWF8fCJzdHJpbmciIT10eXBlb2YgYSYmYS5jb25zdHJ1Y3RvciE9PWMuQVNULlByb2dyYW1Ob2RlKXRocm93IG5ldyBoKCJZb3UgbXVzdCBwYXNzIGEgc3RyaW5nIG9yIEhhbmRsZWJhcnMgQVNUIHRvIEhhbmRsZWJhcnMuY29tcGlsZS4gWW91IHBhc3NlZCAiK2EpO2I9Ynx8e30sImRhdGEiaW4gYnx8KGIuZGF0YT0hMCksYi5jb21wYXQmJihiLnVzZURlcHRocz0hMCk7dmFyIGUsZj1mdW5jdGlvbihhLGIpe3JldHVybiBlfHwoZT1kKCkpLGUuY2FsbCh0aGlzLGEsYil9O3JldHVybiBmLl9zZXR1cD1mdW5jdGlvbihhKXtyZXR1cm4gZXx8KGU9ZCgpKSxlLl9zZXR1cChhKX0sZi5fY2hpbGQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBlfHwoZT1kKCkpLGUuX2NoaWxkKGEsYixjKX0sZn1mdW5jdGlvbiBmKGEsYil7aWYoYT09PWIpcmV0dXJuITA7aWYoaShhKSYmaShiKSYmYS5sZW5ndGg9PT1iLmxlbmd0aCl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoIWYoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH19dmFyIGc9e30saD1hLGk9Yi5pc0FycmF5LGo9W10uc2xpY2U7cmV0dXJuIGcuQ29tcGlsZXI9YyxjLnByb3RvdHlwZT17Y29tcGlsZXI6YyxlcXVhbHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcGNvZGVzLmxlbmd0aDtpZihhLm9wY29kZXMubGVuZ3RoIT09YilyZXR1cm4hMTtmb3IodmFyIGM9MDtiPmM7YysrKXt2YXIgZD10aGlzLm9wY29kZXNbY10sZT1hLm9wY29kZXNbY107aWYoZC5vcGNvZGUhPT1lLm9wY29kZXx8IWYoZC5hcmdzLGUuYXJncykpcmV0dXJuITF9Zm9yKGI9dGhpcy5jaGlsZHJlbi5sZW5ndGgsYz0wO2I+YztjKyspaWYoIXRoaXMuY2hpbGRyZW5bY10uZXF1YWxzKGEuY2hpbGRyZW5bY10pKXJldHVybiExO3JldHVybiEwfSxndWlkOjAsY29tcGlsZTpmdW5jdGlvbihhLGIpe3RoaXMub3Bjb2Rlcz1bXSx0aGlzLmNoaWxkcmVuPVtdLHRoaXMuZGVwdGhzPXtsaXN0OltdfSx0aGlzLm9wdGlvbnM9Yix0aGlzLnN0cmluZ1BhcmFtcz1iLnN0cmluZ1BhcmFtcyx0aGlzLnRyYWNrSWRzPWIudHJhY2tJZHM7dmFyIGM9dGhpcy5vcHRpb25zLmtub3duSGVscGVycztpZih0aGlzLm9wdGlvbnMua25vd25IZWxwZXJzPXtoZWxwZXJNaXNzaW5nOiEwLGJsb2NrSGVscGVyTWlzc2luZzohMCxlYWNoOiEwLCJpZiI6ITAsdW5sZXNzOiEwLCJ3aXRoIjohMCxsb2c6ITAsbG9va3VwOiEwfSxjKWZvcih2YXIgZCBpbiBjKXRoaXMub3B0aW9ucy5rbm93bkhlbHBlcnNbZF09Y1tkXTtyZXR1cm4gdGhpcy5hY2NlcHQoYSl9LGFjY2VwdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thLnR5cGVdKGEpfSxwcm9ncmFtOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLnN0YXRlbWVudHMsYz0wLGQ9Yi5sZW5ndGg7ZD5jO2MrKyl0aGlzLmFjY2VwdChiW2NdKTtyZXR1cm4gdGhpcy5pc1NpbXBsZT0xPT09ZCx0aGlzLmRlcHRocy5saXN0PXRoaXMuZGVwdGhzLmxpc3Quc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KSx0aGlzfSxjb21waWxlUHJvZ3JhbTpmdW5jdGlvbihhKXt2YXIgYixjPShuZXcgdGhpcy5jb21waWxlcikuY29tcGlsZShhLHRoaXMub3B0aW9ucyksZD10aGlzLmd1aWQrKzsKdGhpcy51c2VQYXJ0aWFsPXRoaXMudXNlUGFydGlhbHx8Yy51c2VQYXJ0aWFsLHRoaXMuY2hpbGRyZW5bZF09Yztmb3IodmFyIGU9MCxmPWMuZGVwdGhzLmxpc3QubGVuZ3RoO2Y+ZTtlKyspYj1jLmRlcHRocy5saXN0W2VdLDI+Ynx8dGhpcy5hZGREZXB0aChiLTEpO3JldHVybiBkfSxibG9jazpmdW5jdGlvbihhKXt2YXIgYj1hLm11c3RhY2hlLGM9YS5wcm9ncmFtLGQ9YS5pbnZlcnNlO2MmJihjPXRoaXMuY29tcGlsZVByb2dyYW0oYykpLGQmJihkPXRoaXMuY29tcGlsZVByb2dyYW0oZCkpO3ZhciBlPWIuc2V4cHIsZj10aGlzLmNsYXNzaWZ5U2V4cHIoZSk7ImhlbHBlciI9PT1mP3RoaXMuaGVscGVyU2V4cHIoZSxjLGQpOiJzaW1wbGUiPT09Zj8odGhpcy5zaW1wbGVTZXhwcihlKSx0aGlzLm9wY29kZSgicHVzaFByb2dyYW0iLGMpLHRoaXMub3Bjb2RlKCJwdXNoUHJvZ3JhbSIsZCksdGhpcy5vcGNvZGUoImVtcHR5SGFzaCIpLHRoaXMub3Bjb2RlKCJibG9ja1ZhbHVlIixlLmlkLm9yaWdpbmFsKSk6KHRoaXMuYW1iaWd1b3VzU2V4cHIoZSxjLGQpLHRoaXMub3Bjb2RlKCJwdXNoUHJvZ3JhbSIsYyksdGhpcy5vcGNvZGUoInB1c2hQcm9ncmFtIixkKSx0aGlzLm9wY29kZSgiZW1wdHlIYXNoIiksdGhpcy5vcGNvZGUoImFtYmlndW91c0Jsb2NrVmFsdWUiKSksdGhpcy5vcGNvZGUoImFwcGVuZCIpfSxoYXNoOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hLnBhaXJzO2Zvcih0aGlzLm9wY29kZSgicHVzaEhhc2giKSxiPTAsYz1kLmxlbmd0aDtjPmI7YisrKXRoaXMucHVzaFBhcmFtKGRbYl1bMV0pO2Zvcig7Yi0tOyl0aGlzLm9wY29kZSgiYXNzaWduVG9IYXNoIixkW2JdWzBdKTt0aGlzLm9wY29kZSgicG9wSGFzaCIpfSxwYXJ0aWFsOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFydGlhbE5hbWU7dGhpcy51c2VQYXJ0aWFsPSEwLGEuaGFzaD90aGlzLmFjY2VwdChhLmhhc2gpOnRoaXMub3Bjb2RlKCJwdXNoIiwidW5kZWZpbmVkIiksYS5jb250ZXh0P3RoaXMuYWNjZXB0KGEuY29udGV4dCk6KHRoaXMub3Bjb2RlKCJnZXRDb250ZXh0IiwwKSx0aGlzLm9wY29kZSgicHVzaENvbnRleHQiKSksdGhpcy5vcGNvZGUoImludm9rZVBhcnRpYWwiLGIubmFtZSxhLmluZGVudHx8IiIpLHRoaXMub3Bjb2RlKCJhcHBlbmQiKX0sY29udGVudDpmdW5jdGlvbihhKXthLnN0cmluZyYmdGhpcy5vcGNvZGUoImFwcGVuZENvbnRlbnQiLGEuc3RyaW5nKX0sbXVzdGFjaGU6ZnVuY3Rpb24oYSl7dGhpcy5zZXhwcihhLnNleHByKSxhLmVzY2FwZWQmJiF0aGlzLm9wdGlvbnMubm9Fc2NhcGU/dGhpcy5vcGNvZGUoImFwcGVuZEVzY2FwZWQiKTp0aGlzLm9wY29kZSgiYXBwZW5kIil9LGFtYmlndW91c1NleHByOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmlkLGU9ZC5wYXJ0c1swXSxmPW51bGwhPWJ8fG51bGwhPWM7dGhpcy5vcGNvZGUoImdldENvbnRleHQiLGQuZGVwdGgpLHRoaXMub3Bjb2RlKCJwdXNoUHJvZ3JhbSIsYiksdGhpcy5vcGNvZGUoInB1c2hQcm9ncmFtIixjKSx0aGlzLklEKGQpLHRoaXMub3Bjb2RlKCJpbnZva2VBbWJpZ3VvdXMiLGUsZil9LHNpbXBsZVNleHByOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaWQ7IkRBVEEiPT09Yi50eXBlP3RoaXMuREFUQShiKTpiLnBhcnRzLmxlbmd0aD90aGlzLklEKGIpOih0aGlzLmFkZERlcHRoKGIuZGVwdGgpLHRoaXMub3Bjb2RlKCJnZXRDb250ZXh0IixiLmRlcHRoKSx0aGlzLm9wY29kZSgicHVzaENvbnRleHQiKSksdGhpcy5vcGNvZGUoInJlc29sdmVQb3NzaWJsZUxhbWJkYSIpfSxoZWxwZXJTZXhwcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zZXR1cEZ1bGxNdXN0YWNoZVBhcmFtcyhhLGIsYyksZT1hLmlkLGY9ZS5wYXJ0c1swXTtpZih0aGlzLm9wdGlvbnMua25vd25IZWxwZXJzW2ZdKXRoaXMub3Bjb2RlKCJpbnZva2VLbm93bkhlbHBlciIsZC5sZW5ndGgsZik7ZWxzZXtpZih0aGlzLm9wdGlvbnMua25vd25IZWxwZXJzT25seSl0aHJvdyBuZXcgaCgiWW91IHNwZWNpZmllZCBrbm93bkhlbHBlcnNPbmx5LCBidXQgdXNlZCB0aGUgdW5rbm93biBoZWxwZXIgIitmLGEpO2UuZmFsc3k9ITAsdGhpcy5JRChlKSx0aGlzLm9wY29kZSgiaW52b2tlSGVscGVyIixkLmxlbmd0aCxlLm9yaWdpbmFsLGUuaXNTaW1wbGUpfX0sc2V4cHI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbGFzc2lmeVNleHByKGEpOyJzaW1wbGUiPT09Yj90aGlzLnNpbXBsZVNleHByKGEpOiJoZWxwZXIiPT09Yj90aGlzLmhlbHBlclNleHByKGEpOnRoaXMuYW1iaWd1b3VzU2V4cHIoYSl9LElEOmZ1bmN0aW9uKGEpe3RoaXMuYWRkRGVwdGgoYS5kZXB0aCksdGhpcy5vcGNvZGUoImdldENvbnRleHQiLGEuZGVwdGgpO3ZhciBiPWEucGFydHNbMF07Yj90aGlzLm9wY29kZSgibG9va3VwT25Db250ZXh0IixhLnBhcnRzLGEuZmFsc3ksYS5pc1Njb3BlZCk6dGhpcy5vcGNvZGUoInB1c2hDb250ZXh0Iil9LERBVEE6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zLmRhdGE9ITAsdGhpcy5vcGNvZGUoImxvb2t1cERhdGEiLGEuaWQuZGVwdGgsYS5pZC5wYXJ0cyl9LFNUUklORzpmdW5jdGlvbihhKXt0aGlzLm9wY29kZSgicHVzaFN0cmluZyIsYS5zdHJpbmcpfSxOVU1CRVI6ZnVuY3Rpb24oYSl7dGhpcy5vcGNvZGUoInB1c2hMaXRlcmFsIixhLm51bWJlcil9LEJPT0xFQU46ZnVuY3Rpb24oYSl7dGhpcy5vcGNvZGUoInB1c2hMaXRlcmFsIixhLmJvb2wpfSxjb21tZW50OmZ1bmN0aW9uKCl7fSxvcGNvZGU6ZnVuY3Rpb24oYSl7dGhpcy5vcGNvZGVzLnB1c2goe29wY29kZTphLGFyZ3M6ai5jYWxsKGFyZ3VtZW50cywxKX0pfSxhZGREZXB0aDpmdW5jdGlvbihhKXswIT09YSYmKHRoaXMuZGVwdGhzW2FdfHwodGhpcy5kZXB0aHNbYV09ITAsdGhpcy5kZXB0aHMubGlzdC5wdXNoKGEpKSl9LGNsYXNzaWZ5U2V4cHI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5pc0hlbHBlcixjPWEuZWxpZ2libGVIZWxwZXIsZD10aGlzLm9wdGlvbnM7aWYoYyYmIWIpe3ZhciBlPWEuaWQucGFydHNbMF07ZC5rbm93bkhlbHBlcnNbZV0/Yj0hMDpkLmtub3duSGVscGVyc09ubHkmJihjPSExKX1yZXR1cm4gYj8iaGVscGVyIjpjPyJhbWJpZ3VvdXMiOiJzaW1wbGUifSxwdXNoUGFyYW1zOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7Yz5iO2IrKyl0aGlzLnB1c2hQYXJhbShhW2JdKX0scHVzaFBhcmFtOmZ1bmN0aW9uKGEpe3RoaXMuc3RyaW5nUGFyYW1zPyhhLmRlcHRoJiZ0aGlzLmFkZERlcHRoKGEuZGVwdGgpLHRoaXMub3Bjb2RlKCJnZXRDb250ZXh0IixhLmRlcHRofHwwKSx0aGlzLm9wY29kZSgicHVzaFN0cmluZ1BhcmFtIixhLnN0cmluZ01vZGVWYWx1ZSxhLnR5cGUpLCJzZXhwciI9PT1hLnR5cGUmJnRoaXMuc2V4cHIoYSkpOih0aGlzLnRyYWNrSWRzJiZ0aGlzLm9wY29kZSgicHVzaElkIixhLnR5cGUsYS5pZE5hbWV8fGEuc3RyaW5nTW9kZVZhbHVlKSx0aGlzLmFjY2VwdChhKSl9LHNldHVwRnVsbE11c3RhY2hlUGFyYW1zOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnBhcmFtcztyZXR1cm4gdGhpcy5wdXNoUGFyYW1zKGQpLHRoaXMub3Bjb2RlKCJwdXNoUHJvZ3JhbSIsYiksdGhpcy5vcGNvZGUoInB1c2hQcm9ncmFtIixjKSxhLmhhc2g/dGhpcy5oYXNoKGEuaGFzaCk6dGhpcy5vcGNvZGUoImVtcHR5SGFzaCIpLGR9fSxnLnByZWNvbXBpbGU9ZCxnLmNvbXBpbGU9ZSxnfShjLGIpLGw9ZnVuY3Rpb24oYSxiKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYyhhKXt0aGlzLnZhbHVlPWF9ZnVuY3Rpb24gZCgpe312YXIgZSxmPWEuQ09NUElMRVJfUkVWSVNJT04sZz1hLlJFVklTSU9OX0NIQU5HRVMsaD1iO2QucHJvdG90eXBlPXtuYW1lTG9va3VwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuaXNWYWxpZEphdmFTY3JpcHRWYXJpYWJsZU5hbWUoYik/YSsiLiIrYjphKyJbJyIrYisiJ10ifSxkZXB0aGVkTG9va3VwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFsaWFzZXMubG9va3VwPSJ0aGlzLmxvb2t1cCIsJ2xvb2t1cChkZXB0aHMsICInK2ErJyIpJ30sY29tcGlsZXJJbmZvOmZ1bmN0aW9uKCl7dmFyIGE9ZixiPWdbYV07cmV0dXJuW2EsYl19LGFwcGVuZFRvQnVmZmVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVudmlyb25tZW50LmlzU2ltcGxlPyJyZXR1cm4gIithKyI7Ijp7YXBwZW5kVG9CdWZmZXI6ITAsY29udGVudDphLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuImJ1ZmZlciArPSAiK2ErIjsifX19LGluaXRpYWxpemVCdWZmZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdW90ZWRTdHJpbmcoIiIpfSxuYW1lc3BhY2U6IkhhbmRsZWJhcnMiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5lbnZpcm9ubWVudD1hLHRoaXMub3B0aW9ucz1iLHRoaXMuc3RyaW5nUGFyYW1zPXRoaXMub3B0aW9ucy5zdHJpbmdQYXJhbXMsdGhpcy50cmFja0lkcz10aGlzLm9wdGlvbnMudHJhY2tJZHMsdGhpcy5wcmVjb21waWxlPSFkLHRoaXMubmFtZT10aGlzLmVudmlyb25tZW50Lm5hbWUsdGhpcy5pc0NoaWxkPSEhYyx0aGlzLmNvbnRleHQ9Y3x8e3Byb2dyYW1zOltdLGVudmlyb25tZW50czpbXX0sdGhpcy5wcmVhbWJsZSgpLHRoaXMuc3RhY2tTbG90PTAsdGhpcy5zdGFja1ZhcnM9W10sdGhpcy5hbGlhc2VzPXt9LHRoaXMucmVnaXN0ZXJzPXtsaXN0OltdfSx0aGlzLmhhc2hlcz1bXSx0aGlzLmNvbXBpbGVTdGFjaz1bXSx0aGlzLmlubGluZVN0YWNrPVtdLHRoaXMuY29tcGlsZUNoaWxkcmVuKGEsYiksdGhpcy51c2VEZXB0aHM9dGhpcy51c2VEZXB0aHN8fGEuZGVwdGhzLmxpc3QubGVuZ3RofHx0aGlzLm9wdGlvbnMuY29tcGF0O3ZhciBlLGYsZyxpPWEub3Bjb2Rlcztmb3IoZj0wLGc9aS5sZW5ndGg7Zz5mO2YrKyllPWlbZl0sdGhpc1tlLm9wY29kZV0uYXBwbHkodGhpcyxlLmFyZ3MpO2lmKHRoaXMucHVzaFNvdXJjZSgiIiksdGhpcy5zdGFja1Nsb3R8fHRoaXMuaW5saW5lU3RhY2subGVuZ3RofHx0aGlzLmNvbXBpbGVTdGFjay5sZW5ndGgpdGhyb3cgbmV3IGgoIkNvbXBpbGUgY29tcGxldGVkIHdpdGggY29udGVudCBsZWZ0IG9uIHN0YWNrIik7dmFyIGo9dGhpcy5jcmVhdGVGdW5jdGlvbkNvbnRleHQoZCk7aWYodGhpcy5pc0NoaWxkKXJldHVybiBqO3ZhciBrPXtjb21waWxlcjp0aGlzLmNvbXBpbGVySW5mbygpLG1haW46an0sbD10aGlzLmNvbnRleHQucHJvZ3JhbXM7Zm9yKGY9MCxnPWwubGVuZ3RoO2c+ZjtmKyspbFtmXSYmKGtbZl09bFtmXSk7cmV0dXJuIHRoaXMuZW52aXJvbm1lbnQudXNlUGFydGlhbCYmKGsudXNlUGFydGlhbD0hMCksdGhpcy5vcHRpb25zLmRhdGEmJihrLnVzZURhdGE9ITApLHRoaXMudXNlRGVwdGhzJiYoay51c2VEZXB0aHM9ITApLHRoaXMub3B0aW9ucy5jb21wYXQmJihrLmNvbXBhdD0hMCksZHx8KGsuY29tcGlsZXI9SlNPTi5zdHJpbmdpZnkoay5jb21waWxlciksaz10aGlzLm9iamVjdExpdGVyYWwoaykpLGt9LHByZWFtYmxlOmZ1bmN0aW9uKCl7dGhpcy5sYXN0Q29udGV4dD0wLHRoaXMuc291cmNlPVtdfSxjcmVhdGVGdW5jdGlvbkNvbnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYz10aGlzLnN0YWNrVmFycy5jb25jYXQodGhpcy5yZWdpc3RlcnMubGlzdCk7Yy5sZW5ndGg+MCYmKGIrPSIsICIrYy5qb2luKCIsICIpKTtmb3IodmFyIGQgaW4gdGhpcy5hbGlhc2VzKXRoaXMuYWxpYXNlcy5oYXNPd25Qcm9wZXJ0eShkKSYmKGIrPSIsICIrZCsiPSIrdGhpcy5hbGlhc2VzW2RdKTt2YXIgZT1bImRlcHRoMCIsImhlbHBlcnMiLCJwYXJ0aWFscyIsImRhdGEiXTt0aGlzLnVzZURlcHRocyYmZS5wdXNoKCJkZXB0aHMiKTt2YXIgZj10aGlzLm1lcmdlU291cmNlKGIpO3JldHVybiBhPyhlLnB1c2goZiksRnVuY3Rpb24uYXBwbHkodGhpcyxlKSk6ImZ1bmN0aW9uKCIrZS5qb2luKCIsIikrIikge1xuICAiK2YrIn0ifSxtZXJnZVNvdXJjZTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPSIiLGU9IXRoaXMuZm9yY2VCdWZmZXIsZj0wLGc9dGhpcy5zb3VyY2UubGVuZ3RoO2c+ZjtmKyspe3ZhciBoPXRoaXMuc291cmNlW2ZdO2guYXBwZW5kVG9CdWZmZXI/Yj1iP2IrIlxuICAgICsgIitoLmNvbnRlbnQ6aC5jb250ZW50OihiJiYoZD9kKz0iYnVmZmVyICs9ICIrYisiO1xuICAiOihjPSEwLGQ9YisiO1xuICAiKSxiPXZvaWQgMCksZCs9aCsiXG4gICIsdGhpcy5lbnZpcm9ubWVudC5pc1NpbXBsZXx8KGU9ITEpKX1yZXR1cm4gZT8oYnx8IWQpJiYoZCs9InJldHVybiAiKyhifHwnIiInKSsiO1xuIik6KGErPSIsIGJ1ZmZlciA9ICIrKGM/IiI6dGhpcy5pbml0aWFsaXplQnVmZmVyKCkpLGQrPWI/InJldHVybiBidWZmZXIgKyAiK2IrIjtcbiI6InJldHVybiBidWZmZXI7XG4iKSxhJiYoZD0idmFyICIrYS5zdWJzdHJpbmcoMikrKGM/IiI6IjtcbiAgIikrZCksZH0sYmxvY2tWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmFsaWFzZXMuYmxvY2tIZWxwZXJNaXNzaW5nPSJoZWxwZXJzLmJsb2NrSGVscGVyTWlzc2luZyI7dmFyIGI9W3RoaXMuY29udGV4dE5hbWUoMCldO3RoaXMuc2V0dXBQYXJhbXMoYSwwLGIpO3ZhciBjPXRoaXMucG9wU3RhY2soKTtiLnNwbGljZSgxLDAsYyksdGhpcy5wdXNoKCJibG9ja0hlbHBlck1pc3NpbmcuY2FsbCgiK2Iuam9pbigiLCAiKSsiKSIpfSxhbWJpZ3VvdXNCbG9ja1ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hbGlhc2VzLmJsb2NrSGVscGVyTWlzc2luZz0iaGVscGVycy5ibG9ja0hlbHBlck1pc3NpbmciO3ZhciBhPVt0aGlzLmNvbnRleHROYW1lKDApXTt0aGlzLnNldHVwUGFyYW1zKCIiLDAsYSwhMCksdGhpcy5mbHVzaElubGluZSgpO3ZhciBiPXRoaXMudG9wU3RhY2soKTthLnNwbGljZSgxLDAsYiksdGhpcy5wdXNoU291cmNlKCJpZiAoISIrdGhpcy5sYXN0SGVscGVyKyIpIHsgIitiKyIgPSBibG9ja0hlbHBlck1pc3NpbmcuY2FsbCgiK2Euam9pbigiLCAiKSsiKTsgfSIpfSxhcHBlbmRDb250ZW50OmZ1bmN0aW9uKGEpe3RoaXMucGVuZGluZ0NvbnRlbnQmJihhPXRoaXMucGVuZGluZ0NvbnRlbnQrYSksdGhpcy5wZW5kaW5nQ29udGVudD1hfSxhcHBlbmQ6ZnVuY3Rpb24oKXt0aGlzLmZsdXNoSW5saW5lKCk7dmFyIGE9dGhpcy5wb3BTdGFjaygpO3RoaXMucHVzaFNvdXJjZSgiaWYgKCIrYSsiICE9IG51bGwpIHsgIit0aGlzLmFwcGVuZFRvQnVmZmVyKGEpKyIgfSIpLHRoaXMuZW52aXJvbm1lbnQuaXNTaW1wbGUmJnRoaXMucHVzaFNvdXJjZSgiZWxzZSB7ICIrdGhpcy5hcHBlbmRUb0J1ZmZlcigiJyciKSsiIH0iKX0sYXBwZW5kRXNjYXBlZDpmdW5jdGlvbigpe3RoaXMuYWxpYXNlcy5lc2NhcGVFeHByZXNzaW9uPSJ0aGlzLmVzY2FwZUV4cHJlc3Npb24iLHRoaXMucHVzaFNvdXJjZSh0aGlzLmFwcGVuZFRvQnVmZmVyKCJlc2NhcGVFeHByZXNzaW9uKCIrdGhpcy5wb3BTdGFjaygpKyIpIikpfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGEpe3RoaXMubGFzdENvbnRleHQ9YX0scHVzaENvbnRleHQ6ZnVuY3Rpb24oKXt0aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5jb250ZXh0TmFtZSh0aGlzLmxhc3RDb250ZXh0KSl9LGxvb2t1cE9uQ29udGV4dDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9MCxlPWEubGVuZ3RoO2ZvcihjfHwhdGhpcy5vcHRpb25zLmNvbXBhdHx8dGhpcy5sYXN0Q29udGV4dD90aGlzLnB1c2hDb250ZXh0KCk6dGhpcy5wdXNoKHRoaXMuZGVwdGhlZExvb2t1cChhW2QrK10pKTtlPmQ7ZCsrKXRoaXMucmVwbGFjZVN0YWNrKGZ1bmN0aW9uKGMpe3ZhciBlPXRoaXMubmFtZUxvb2t1cChjLGFbZF0sImNvbnRleHQiKTtyZXR1cm4gYj8iICYmICIrZToiICE9IG51bGwgPyAiK2UrIiA6ICIrY30pfSxsb29rdXBEYXRhOmZ1bmN0aW9uKGEsYil7YT90aGlzLnB1c2hTdGFja0xpdGVyYWwoInRoaXMuZGF0YShkYXRhLCAiK2ErIikiKTp0aGlzLnB1c2hTdGFja0xpdGVyYWwoImRhdGEiKTtmb3IodmFyIGM9Yi5sZW5ndGgsZD0wO2M+ZDtkKyspdGhpcy5yZXBsYWNlU3RhY2soZnVuY3Rpb24oYSl7cmV0dXJuIiAmJiAiK3RoaXMubmFtZUxvb2t1cChhLGJbZF0sImRhdGEiKX0pfSxyZXNvbHZlUG9zc2libGVMYW1iZGE6ZnVuY3Rpb24oKXt0aGlzLmFsaWFzZXMubGFtYmRhPSJ0aGlzLmxhbWJkYSIsdGhpcy5wdXNoKCJsYW1iZGEoIit0aGlzLnBvcFN0YWNrKCkrIiwgIit0aGlzLmNvbnRleHROYW1lKDApKyIpIil9LHB1c2hTdHJpbmdQYXJhbTpmdW5jdGlvbihhLGIpe3RoaXMucHVzaENvbnRleHQoKSx0aGlzLnB1c2hTdHJpbmcoYiksInNleHByIiE9PWImJigic3RyaW5nIj09dHlwZW9mIGE/dGhpcy5wdXNoU3RyaW5nKGEpOnRoaXMucHVzaFN0YWNrTGl0ZXJhbChhKSl9LGVtcHR5SGFzaDpmdW5jdGlvbigpe3RoaXMucHVzaFN0YWNrTGl0ZXJhbCgie30iKSx0aGlzLnRyYWNrSWRzJiZ0aGlzLnB1c2goInt9IiksdGhpcy5zdHJpbmdQYXJhbXMmJih0aGlzLnB1c2goInt9IiksdGhpcy5wdXNoKCJ7fSIpKX0scHVzaEhhc2g6ZnVuY3Rpb24oKXt0aGlzLmhhc2gmJnRoaXMuaGFzaGVzLnB1c2godGhpcy5oYXNoKSx0aGlzLmhhc2g9e3ZhbHVlczpbXSx0eXBlczpbXSxjb250ZXh0czpbXSxpZHM6W119fSxwb3BIYXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oYXNoO3RoaXMuaGFzaD10aGlzLmhhc2hlcy5wb3AoKSx0aGlzLnRyYWNrSWRzJiZ0aGlzLnB1c2goInsiK2EuaWRzLmpvaW4oIiwiKSsifSIpLHRoaXMuc3RyaW5nUGFyYW1zJiYodGhpcy5wdXNoKCJ7IithLmNvbnRleHRzLmpvaW4oIiwiKSsifSIpLHRoaXMucHVzaCgieyIrYS50eXBlcy5qb2luKCIsIikrIn0iKSksdGhpcy5wdXNoKCJ7XG4gICAgIithLnZhbHVlcy5qb2luKCIsXG4gICAgIikrIlxuICB9Iil9LHB1c2hTdHJpbmc6ZnVuY3Rpb24oYSl7dGhpcy5wdXNoU3RhY2tMaXRlcmFsKHRoaXMucXVvdGVkU3RyaW5nKGEpKX0scHVzaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbmxpbmVTdGFjay5wdXNoKGEpLGF9LHB1c2hMaXRlcmFsOmZ1bmN0aW9uKGEpe3RoaXMucHVzaFN0YWNrTGl0ZXJhbChhKX0scHVzaFByb2dyYW06ZnVuY3Rpb24oYSl7bnVsbCE9YT90aGlzLnB1c2hTdGFja0xpdGVyYWwodGhpcy5wcm9ncmFtRXhwcmVzc2lvbihhKSk6dGhpcy5wdXNoU3RhY2tMaXRlcmFsKG51bGwpfSxpbnZva2VIZWxwZXI6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYWxpYXNlcy5oZWxwZXJNaXNzaW5nPSJoZWxwZXJzLmhlbHBlck1pc3NpbmciO3ZhciBkPXRoaXMucG9wU3RhY2soKSxlPXRoaXMuc2V0dXBIZWxwZXIoYSxiKSxmPShjP2UubmFtZSsiIHx8ICI6IiIpK2QrIiB8fCBoZWxwZXJNaXNzaW5nIjt0aGlzLnB1c2goIigoIitmKyIpLmNhbGwoIitlLmNhbGxQYXJhbXMrIikpIil9LGludm9rZUtub3duSGVscGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zZXR1cEhlbHBlcihhLGIpO3RoaXMucHVzaChjLm5hbWUrIi5jYWxsKCIrYy5jYWxsUGFyYW1zKyIpIil9LGludm9rZUFtYmlndW91czpmdW5jdGlvbihhLGIpe3RoaXMuYWxpYXNlcy5mdW5jdGlvblR5cGU9JyJmdW5jdGlvbiInLHRoaXMuYWxpYXNlcy5oZWxwZXJNaXNzaW5nPSJoZWxwZXJzLmhlbHBlck1pc3NpbmciLHRoaXMudXNlUmVnaXN0ZXIoImhlbHBlciIpO3ZhciBjPXRoaXMucG9wU3RhY2soKTt0aGlzLmVtcHR5SGFzaCgpO3ZhciBkPXRoaXMuc2V0dXBIZWxwZXIoMCxhLGIpLGU9dGhpcy5sYXN0SGVscGVyPXRoaXMubmFtZUxvb2t1cCgiaGVscGVycyIsYSwiaGVscGVyIik7dGhpcy5wdXNoKCIoKGhlbHBlciA9IChoZWxwZXIgPSAiK2UrIiB8fCAiK2MrIikgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmciKyhkLnBhcmFtc0luaXQ/IiksKCIrZC5wYXJhbXNJbml0OiIiKSsiKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoIitkLmNhbGxQYXJhbXMrIikgOiBoZWxwZXIpKSIpfSxpbnZva2VQYXJ0aWFsOmZ1bmN0aW9uKGEsYil7dmFyIGM9W3RoaXMubmFtZUxvb2t1cCgicGFydGlhbHMiLGEsInBhcnRpYWwiKSwiJyIrYisiJyIsIiciK2ErIiciLHRoaXMucG9wU3RhY2soKSx0aGlzLnBvcFN0YWNrKCksImhlbHBlcnMiLCJwYXJ0aWFscyJdO3RoaXMub3B0aW9ucy5kYXRhP2MucHVzaCgiZGF0YSIpOnRoaXMub3B0aW9ucy5jb21wYXQmJmMucHVzaCgidW5kZWZpbmVkIiksdGhpcy5vcHRpb25zLmNvbXBhdCYmYy5wdXNoKCJkZXB0aHMiKSx0aGlzLnB1c2goInRoaXMuaW52b2tlUGFydGlhbCgiK2Muam9pbigiLCAiKSsiKSIpfSxhc3NpZ25Ub0hhc2g6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpcy5wb3BTdGFjaygpO3RoaXMudHJhY2tJZHMmJihkPXRoaXMucG9wU3RhY2soKSksdGhpcy5zdHJpbmdQYXJhbXMmJihjPXRoaXMucG9wU3RhY2soKSxiPXRoaXMucG9wU3RhY2soKSk7dmFyIGY9dGhpcy5oYXNoO2ImJmYuY29udGV4dHMucHVzaCgiJyIrYSsiJzogIitiKSxjJiZmLnR5cGVzLnB1c2goIiciK2ErIic6ICIrYyksZCYmZi5pZHMucHVzaCgiJyIrYSsiJzogIitkKSxmLnZhbHVlcy5wdXNoKCInIithKyInOiAoIitlKyIpIil9LHB1c2hJZDpmdW5jdGlvbihhLGIpeyJJRCI9PT1hfHwiREFUQSI9PT1hP3RoaXMucHVzaFN0cmluZyhiKToic2V4cHIiPT09YT90aGlzLnB1c2hTdGFja0xpdGVyYWwoInRydWUiKTp0aGlzLnB1c2hTdGFja0xpdGVyYWwoIm51bGwiKX0sY29tcGlsZXI6ZCxjb21waWxlQ2hpbGRyZW46ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWEuY2hpbGRyZW4sZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKyl7Yz1lW2ZdLGQ9bmV3IHRoaXMuY29tcGlsZXI7dmFyIGg9dGhpcy5tYXRjaEV4aXN0aW5nUHJvZ3JhbShjKTtudWxsPT1oPyh0aGlzLmNvbnRleHQucHJvZ3JhbXMucHVzaCgiIiksaD10aGlzLmNvbnRleHQucHJvZ3JhbXMubGVuZ3RoLGMuaW5kZXg9aCxjLm5hbWU9InByb2dyYW0iK2gsdGhpcy5jb250ZXh0LnByb2dyYW1zW2hdPWQuY29tcGlsZShjLGIsdGhpcy5jb250ZXh0LCF0aGlzLnByZWNvbXBpbGUpLHRoaXMuY29udGV4dC5lbnZpcm9ubWVudHNbaF09Yyx0aGlzLnVzZURlcHRocz10aGlzLnVzZURlcHRoc3x8ZC51c2VEZXB0aHMpOihjLmluZGV4PWgsYy5uYW1lPSJwcm9ncmFtIitoKX19LG1hdGNoRXhpc3RpbmdQcm9ncmFtOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5jb250ZXh0LmVudmlyb25tZW50cy5sZW5ndGg7Yz5iO2IrKyl7dmFyIGQ9dGhpcy5jb250ZXh0LmVudmlyb25tZW50c1tiXTtpZihkJiZkLmVxdWFscyhhKSlyZXR1cm4gYn19LHByb2dyYW1FeHByZXNzaW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZW52aXJvbm1lbnQuY2hpbGRyZW5bYV0sYz0oYi5kZXB0aHMubGlzdCx0aGlzLnVzZURlcHRocyksZD1bYi5pbmRleCwiZGF0YSJdO3JldHVybiBjJiZkLnB1c2goImRlcHRocyIpLCJ0aGlzLnByb2dyYW0oIitkLmpvaW4oIiwgIikrIikifSx1c2VSZWdpc3RlcjpmdW5jdGlvbihhKXt0aGlzLnJlZ2lzdGVyc1thXXx8KHRoaXMucmVnaXN0ZXJzW2FdPSEwLHRoaXMucmVnaXN0ZXJzLmxpc3QucHVzaChhKSl9LHB1c2hTdGFja0xpdGVyYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaChuZXcgYyhhKSl9LHB1c2hTb3VyY2U6ZnVuY3Rpb24oYSl7dGhpcy5wZW5kaW5nQ29udGVudCYmKHRoaXMuc291cmNlLnB1c2godGhpcy5hcHBlbmRUb0J1ZmZlcih0aGlzLnF1b3RlZFN0cmluZyh0aGlzLnBlbmRpbmdDb250ZW50KSkpLHRoaXMucGVuZGluZ0NvbnRlbnQ9dm9pZCAwKSxhJiZ0aGlzLnNvdXJjZS5wdXNoKGEpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7dGhpcy5mbHVzaElubGluZSgpO3ZhciBiPXRoaXMuaW5jclN0YWNrKCk7cmV0dXJuIHRoaXMucHVzaFNvdXJjZShiKyIgPSAiK2ErIjsiKSx0aGlzLmNvbXBpbGVTdGFjay5wdXNoKGIpLGJ9LHJlcGxhY2VTdGFjazpmdW5jdGlvbihhKXt7dmFyIGIsZCxlLGY9IiI7dGhpcy5pc0lubGluZSgpfWlmKCF0aGlzLmlzSW5saW5lKCkpdGhyb3cgbmV3IGgoInJlcGxhY2VTdGFjayBvbiBub24taW5saW5lIik7dmFyIGc9dGhpcy5wb3BTdGFjayghMCk7aWYoZyBpbnN0YW5jZW9mIGMpZj1iPWcudmFsdWUsZT0hMDtlbHNle2Q9IXRoaXMuc3RhY2tTbG90O3ZhciBpPWQ/dGhpcy5pbmNyU3RhY2soKTp0aGlzLnRvcFN0YWNrTmFtZSgpO2Y9IigiK3RoaXMucHVzaChpKSsiID0gIitnKyIpIixiPXRoaXMudG9wU3RhY2soKX12YXIgaj1hLmNhbGwodGhpcyxiKTtlfHx0aGlzLnBvcFN0YWNrKCksZCYmdGhpcy5zdGFja1Nsb3QtLSx0aGlzLnB1c2goIigiK2YraisiKSIpfSxpbmNyU3RhY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1Nsb3QrKyx0aGlzLnN0YWNrU2xvdD50aGlzLnN0YWNrVmFycy5sZW5ndGgmJnRoaXMuc3RhY2tWYXJzLnB1c2goInN0YWNrIit0aGlzLnN0YWNrU2xvdCksdGhpcy50b3BTdGFja05hbWUoKX0sdG9wU3RhY2tOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuInN0YWNrIit0aGlzLnN0YWNrU2xvdH0sZmx1c2hJbmxpbmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmlubGluZVN0YWNrO2lmKGEubGVuZ3RoKXt0aGlzLmlubGluZVN0YWNrPVtdO2Zvcih2YXIgYj0wLGQ9YS5sZW5ndGg7ZD5iO2IrKyl7dmFyIGU9YVtiXTtlIGluc3RhbmNlb2YgYz90aGlzLmNvbXBpbGVTdGFjay5wdXNoKGUpOnRoaXMucHVzaFN0YWNrKGUpfX19LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5saW5lU3RhY2subGVuZ3RofSxwb3BTdGFjazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzSW5saW5lKCksZD0oYj90aGlzLmlubGluZVN0YWNrOnRoaXMuY29tcGlsZVN0YWNrKS5wb3AoKTtpZighYSYmZCBpbnN0YW5jZW9mIGMpcmV0dXJuIGQudmFsdWU7aWYoIWIpe2lmKCF0aGlzLnN0YWNrU2xvdCl0aHJvdyBuZXcgaCgiSW52YWxpZCBzdGFjayBwb3AiKTt0aGlzLnN0YWNrU2xvdC0tfXJldHVybiBkfSx0b3BTdGFjazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaXNJbmxpbmUoKT90aGlzLmlubGluZVN0YWNrOnRoaXMuY29tcGlsZVN0YWNrLGI9YVthLmxlbmd0aC0xXTtyZXR1cm4gYiBpbnN0YW5jZW9mIGM/Yi52YWx1ZTpifSxjb250ZXh0TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51c2VEZXB0aHMmJmE/ImRlcHRoc1siK2ErIl0iOiJkZXB0aCIrYX0scXVvdGVkU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiciJythLnJlcGxhY2UoL1xcL2csIlxcXFwiKS5yZXBsYWNlKC8iL2csJ1xcIicpLnJlcGxhY2UoL1xuL2csIlxcbiIpLnJlcGxhY2UoL1xyL2csIlxcciIpLnJlcGxhY2UoL1x1MjAyOC9nLCJcXHUyMDI4IikucmVwbGFjZSgvXHUyMDI5L2csIlxcdTIwMjkiKSsnIid9LG9iamVjdExpdGVyYWw6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5wdXNoKHRoaXMucXVvdGVkU3RyaW5nKGMpKyI6IithW2NdKTtyZXR1cm4ieyIrYi5qb2luKCIsIikrIn0ifSxzZXR1cEhlbHBlcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT10aGlzLnNldHVwUGFyYW1zKGIsYSxkLGMpLGY9dGhpcy5uYW1lTG9va3VwKCJoZWxwZXJzIixiLCJoZWxwZXIiKTtyZXR1cm57cGFyYW1zOmQscGFyYW1zSW5pdDplLG5hbWU6ZixjYWxsUGFyYW1zOlt0aGlzLmNvbnRleHROYW1lKDApXS5jb25jYXQoZCkuam9pbigiLCAiKX19LHNldHVwT3B0aW9uczpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9e30saD1bXSxpPVtdLGo9W107Zy5uYW1lPXRoaXMucXVvdGVkU3RyaW5nKGEpLGcuaGFzaD10aGlzLnBvcFN0YWNrKCksdGhpcy50cmFja0lkcyYmKGcuaGFzaElkcz10aGlzLnBvcFN0YWNrKCkpLHRoaXMuc3RyaW5nUGFyYW1zJiYoZy5oYXNoVHlwZXM9dGhpcy5wb3BTdGFjaygpLGcuaGFzaENvbnRleHRzPXRoaXMucG9wU3RhY2soKSksZT10aGlzLnBvcFN0YWNrKCksZj10aGlzLnBvcFN0YWNrKCksKGZ8fGUpJiYoZnx8KGY9InRoaXMubm9vcCIpLGV8fChlPSJ0aGlzLm5vb3AiKSxnLmZuPWYsZy5pbnZlcnNlPWUpO2Zvcih2YXIgaz1iO2stLTspZD10aGlzLnBvcFN0YWNrKCksY1trXT1kLHRoaXMudHJhY2tJZHMmJihqW2tdPXRoaXMucG9wU3RhY2soKSksdGhpcy5zdHJpbmdQYXJhbXMmJihpW2tdPXRoaXMucG9wU3RhY2soKSxoW2tdPXRoaXMucG9wU3RhY2soKSk7cmV0dXJuIHRoaXMudHJhY2tJZHMmJihnLmlkcz0iWyIrai5qb2luKCIsIikrIl0iKSx0aGlzLnN0cmluZ1BhcmFtcyYmKGcudHlwZXM9IlsiK2kuam9pbigiLCIpKyJdIixnLmNvbnRleHRzPSJbIitoLmpvaW4oIiwiKSsiXSIpLHRoaXMub3B0aW9ucy5kYXRhJiYoZy5kYXRhPSJkYXRhIiksZ30sc2V0dXBQYXJhbXM6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5vYmplY3RMaXRlcmFsKHRoaXMuc2V0dXBPcHRpb25zKGEsYixjKSk7cmV0dXJuIGQ/KHRoaXMudXNlUmVnaXN0ZXIoIm9wdGlvbnMiKSxjLnB1c2goIm9wdGlvbnMiKSwib3B0aW9ucz0iK2UpOihjLnB1c2goZSksIiIpfX07Zm9yKHZhciBpPSJicmVhayBlbHNlIG5ldyB2YXIgY2FzZSBmaW5hbGx5IHJldHVybiB2b2lkIGNhdGNoIGZvciBzd2l0Y2ggd2hpbGUgY29udGludWUgZnVuY3Rpb24gdGhpcyB3aXRoIGRlZmF1bHQgaWYgdGhyb3cgZGVsZXRlIGluIHRyeSBkbyBpbnN0YW5jZW9mIHR5cGVvZiBhYnN0cmFjdCBlbnVtIGludCBzaG9ydCBib29sZWFuIGV4cG9ydCBpbnRlcmZhY2Ugc3RhdGljIGJ5dGUgZXh0ZW5kcyBsb25nIHN1cGVyIGNoYXIgZmluYWwgbmF0aXZlIHN5bmNocm9uaXplZCBjbGFzcyBmbG9hdCBwYWNrYWdlIHRocm93cyBjb25zdCBnb3RvIHByaXZhdGUgdHJhbnNpZW50IGRlYnVnZ2VyIGltcGxlbWVudHMgcHJvdGVjdGVkIHZvbGF0aWxlIGRvdWJsZSBpbXBvcnQgcHVibGljIGxldCB5aWVsZCIuc3BsaXQoIiAiKSxqPWQuUkVTRVJWRURfV09SRFM9e30saz0wLGw9aS5sZW5ndGg7bD5rO2srKylqW2lba11dPSEwO3JldHVybiBkLmlzVmFsaWRKYXZhU2NyaXB0VmFyaWFibGVOYW1lPWZ1bmN0aW9uKGEpe3JldHVybiFkLlJFU0VSVkVEX1dPUkRTW2FdJiYvXlthLXpBLVpfJF1bMC05YS16QS1aXyRdKiQvLnRlc3QoYSl9LGU9ZH0oZCxjKSxtPWZ1bmN0aW9uKGEsYixjLGQsZSl7InVzZSBzdHJpY3QiO3ZhciBmLGc9YSxoPWIsaT1jLnBhcnNlcixqPWMucGFyc2Usaz1kLkNvbXBpbGVyLGw9ZC5jb21waWxlLG09ZC5wcmVjb21waWxlLG49ZSxvPWcuY3JlYXRlLHA9ZnVuY3Rpb24oKXt2YXIgYT1vKCk7cmV0dXJuIGEuY29tcGlsZT1mdW5jdGlvbihiLGMpe3JldHVybiBsKGIsYyxhKX0sYS5wcmVjb21waWxlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG0oYixjLGEpfSxhLkFTVD1oLGEuQ29tcGlsZXI9ayxhLkphdmFTY3JpcHRDb21waWxlcj1uLGEuUGFyc2VyPWksYS5wYXJzZT1qLGF9O3JldHVybiBnPXAoKSxnLmNyZWF0ZT1wLGdbImRlZmF1bHQiXT1nLGY9Z30oZixnLGosayxsKTtyZXR1cm4gbX0pOw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887871" offset="0" length="13800" />
          <PacketInfo time="2972887933" offset="13800" length="2138" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="140" hostname="10.239.251.82" path="/swagger-static/lib/underscore-min.js" url="http://10.239.251.82:8080/swagger-static/lib/underscore-min.js" ip="10.239.251.82" port="8080" connectionId="11" origin="HTML" frame="1" startTime="2972887809" endTime="2972887887">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvdW5kZXJzY29yZS1taW4uanMgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiAqLyoNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KUmVmZXJlcjogaHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHNkY2gNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjU0YmU2MWJiNmNlY2EwYWYwYTk2NTM5N2Y5MWYzN2QxLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NTI3NQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiNTRiZTYxYmI2Y2VjYTBhZjBhOTY1Mzk3ZjkxZjM3ZDEtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogNTI3NQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ly8gICAgIFVuZGVyc2NvcmUuanMgMS43LjAKLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnCi8vICAgICAoYykgMjAwOS0yMDE0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzCi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgooZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5fLHI9QXJyYXkucHJvdG90eXBlLGU9T2JqZWN0LnByb3RvdHlwZSx1PUZ1bmN0aW9uLnByb3RvdHlwZSxpPXIucHVzaCxhPXIuc2xpY2Usbz1yLmNvbmNhdCxsPWUudG9TdHJpbmcsYz1lLmhhc093blByb3BlcnR5LGY9QXJyYXkuaXNBcnJheSxzPU9iamVjdC5rZXlzLHA9dS5iaW5kLGg9ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBoP246dGhpcyBpbnN0YW5jZW9mIGg/dm9pZCh0aGlzLl93cmFwcGVkPW4pOm5ldyBoKG4pfTsidW5kZWZpbmVkIiE9dHlwZW9mIGV4cG9ydHM/KCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmKGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9aCksZXhwb3J0cy5fPWgpOm4uXz1oLGguVkVSU0lPTj0iMS43LjAiO3ZhciBnPWZ1bmN0aW9uKG4sdCxyKXtpZih0PT09dm9pZCAwKXJldHVybiBuO3N3aXRjaChudWxsPT1yPzM6cil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbi5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixlKXtyZXR1cm4gbi5jYWxsKHQscixlKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLGUsdSl7cmV0dXJuIG4uY2FsbCh0LHIsZSx1KX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbihyLGUsdSxpKXtyZXR1cm4gbi5jYWxsKHQscixlLHUsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHQsYXJndW1lbnRzKX19O2guaXRlcmF0ZWU9ZnVuY3Rpb24obix0LHIpe3JldHVybiBudWxsPT1uP2guaWRlbnRpdHk6aC5pc0Z1bmN0aW9uKG4pP2cobix0LHIpOmguaXNPYmplY3Qobik/aC5tYXRjaGVzKG4pOmgucHJvcGVydHkobil9LGguZWFjaD1oLmZvckVhY2g9ZnVuY3Rpb24obix0LHIpe2lmKG51bGw9PW4pcmV0dXJuIG47dD1nKHQscik7dmFyIGUsdT1uLmxlbmd0aDtpZih1PT09K3UpZm9yKGU9MDt1PmU7ZSsrKXQobltlXSxlLG4pO2Vsc2V7dmFyIGk9aC5rZXlzKG4pO2ZvcihlPTAsdT1pLmxlbmd0aDt1PmU7ZSsrKXQobltpW2VdXSxpW2VdLG4pfXJldHVybiBufSxoLm1hcD1oLmNvbGxlY3Q9ZnVuY3Rpb24obix0LHIpe2lmKG51bGw9PW4pcmV0dXJuW107dD1oLml0ZXJhdGVlKHQscik7Zm9yKHZhciBlLHU9bi5sZW5ndGghPT0rbi5sZW5ndGgmJmgua2V5cyhuKSxpPSh1fHxuKS5sZW5ndGgsYT1BcnJheShpKSxvPTA7aT5vO28rKyllPXU/dVtvXTpvLGFbb109dChuW2VdLGUsbik7cmV0dXJuIGF9O3ZhciB2PSJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIjtoLnJlZHVjZT1oLmZvbGRsPWguaW5qZWN0PWZ1bmN0aW9uKG4sdCxyLGUpe251bGw9PW4mJihuPVtdKSx0PWcodCxlLDQpO3ZhciB1LGk9bi5sZW5ndGghPT0rbi5sZW5ndGgmJmgua2V5cyhuKSxhPShpfHxuKS5sZW5ndGgsbz0wO2lmKGFyZ3VtZW50cy5sZW5ndGg8Myl7aWYoIWEpdGhyb3cgbmV3IFR5cGVFcnJvcih2KTtyPW5baT9pW28rK106bysrXX1mb3IoO2E+bztvKyspdT1pP2lbb106byxyPXQocixuW3VdLHUsbik7cmV0dXJuIHJ9LGgucmVkdWNlUmlnaHQ9aC5mb2xkcj1mdW5jdGlvbihuLHQscixlKXtudWxsPT1uJiYobj1bXSksdD1nKHQsZSw0KTt2YXIgdSxpPW4ubGVuZ3RoIT09K24ubGVuZ3RoJiZoLmtleXMobiksYT0oaXx8bikubGVuZ3RoO2lmKGFyZ3VtZW50cy5sZW5ndGg8Myl7aWYoIWEpdGhyb3cgbmV3IFR5cGVFcnJvcih2KTtyPW5baT9pWy0tYV06LS1hXX1mb3IoO2EtLTspdT1pP2lbYV06YSxyPXQocixuW3VdLHUsbik7cmV0dXJuIHJ9LGguZmluZD1oLmRldGVjdD1mdW5jdGlvbihuLHQscil7dmFyIGU7cmV0dXJuIHQ9aC5pdGVyYXRlZSh0LHIpLGguc29tZShuLGZ1bmN0aW9uKG4scix1KXtyZXR1cm4gdChuLHIsdSk/KGU9biwhMCk6dm9pZCAwfSksZX0saC5maWx0ZXI9aC5zZWxlY3Q9ZnVuY3Rpb24obix0LHIpe3ZhciBlPVtdO3JldHVybiBudWxsPT1uP2U6KHQ9aC5pdGVyYXRlZSh0LHIpLGguZWFjaChuLGZ1bmN0aW9uKG4scix1KXt0KG4scix1KSYmZS5wdXNoKG4pfSksZSl9LGgucmVqZWN0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaC5maWx0ZXIobixoLm5lZ2F0ZShoLml0ZXJhdGVlKHQpKSxyKX0saC5ldmVyeT1oLmFsbD1mdW5jdGlvbihuLHQscil7aWYobnVsbD09bilyZXR1cm4hMDt0PWguaXRlcmF0ZWUodCxyKTt2YXIgZSx1LGk9bi5sZW5ndGghPT0rbi5sZW5ndGgmJmgua2V5cyhuKSxhPShpfHxuKS5sZW5ndGg7Zm9yKGU9MDthPmU7ZSsrKWlmKHU9aT9pW2VdOmUsIXQoblt1XSx1LG4pKXJldHVybiExO3JldHVybiEwfSxoLnNvbWU9aC5hbnk9ZnVuY3Rpb24obix0LHIpe2lmKG51bGw9PW4pcmV0dXJuITE7dD1oLml0ZXJhdGVlKHQscik7dmFyIGUsdSxpPW4ubGVuZ3RoIT09K24ubGVuZ3RoJiZoLmtleXMobiksYT0oaXx8bikubGVuZ3RoO2ZvcihlPTA7YT5lO2UrKylpZih1PWk/aVtlXTplLHQoblt1XSx1LG4pKXJldHVybiEwO3JldHVybiExfSxoLmNvbnRhaW5zPWguaW5jbHVkZT1mdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uPyExOihuLmxlbmd0aCE9PStuLmxlbmd0aCYmKG49aC52YWx1ZXMobikpLGguaW5kZXhPZihuLHQpPj0wKX0saC5pbnZva2U9ZnVuY3Rpb24obix0KXt2YXIgcj1hLmNhbGwoYXJndW1lbnRzLDIpLGU9aC5pc0Z1bmN0aW9uKHQpO3JldHVybiBoLm1hcChuLGZ1bmN0aW9uKG4pe3JldHVybihlP3Q6blt0XSkuYXBwbHkobixyKX0pfSxoLnBsdWNrPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGgubWFwKG4saC5wcm9wZXJ0eSh0KSl9LGgud2hlcmU9ZnVuY3Rpb24obix0KXtyZXR1cm4gaC5maWx0ZXIobixoLm1hdGNoZXModCkpfSxoLmZpbmRXaGVyZT1mdW5jdGlvbihuLHQpe3JldHVybiBoLmZpbmQobixoLm1hdGNoZXModCkpfSxoLm1heD1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpPS0xLzAsYT0tMS8wO2lmKG51bGw9PXQmJm51bGwhPW4pe249bi5sZW5ndGg9PT0rbi5sZW5ndGg/bjpoLnZhbHVlcyhuKTtmb3IodmFyIG89MCxsPW4ubGVuZ3RoO2w+bztvKyspZT1uW29dLGU+aSYmKGk9ZSl9ZWxzZSB0PWguaXRlcmF0ZWUodCxyKSxoLmVhY2gobixmdW5jdGlvbihuLHIsZSl7dT10KG4scixlKSwodT5hfHx1PT09LTEvMCYmaT09PS0xLzApJiYoaT1uLGE9dSl9KTtyZXR1cm4gaX0saC5taW49ZnVuY3Rpb24obix0LHIpe3ZhciBlLHUsaT0xLzAsYT0xLzA7aWYobnVsbD09dCYmbnVsbCE9bil7bj1uLmxlbmd0aD09PStuLmxlbmd0aD9uOmgudmFsdWVzKG4pO2Zvcih2YXIgbz0wLGw9bi5sZW5ndGg7bD5vO28rKyllPW5bb10saT5lJiYoaT1lKX1lbHNlIHQ9aC5pdGVyYXRlZSh0LHIpLGguZWFjaChuLGZ1bmN0aW9uKG4scixlKXt1PXQobixyLGUpLChhPnV8fDEvMD09PXUmJjEvMD09PWkpJiYoaT1uLGE9dSl9KTtyZXR1cm4gaX0saC5zaHVmZmxlPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxyPW4mJm4ubGVuZ3RoPT09K24ubGVuZ3RoP246aC52YWx1ZXMobiksZT1yLmxlbmd0aCx1PUFycmF5KGUpLGk9MDtlPmk7aSsrKXQ9aC5yYW5kb20oMCxpKSx0IT09aSYmKHVbaV09dVt0XSksdVt0XT1yW2ldO3JldHVybiB1fSxoLnNhbXBsZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PXR8fHI/KG4ubGVuZ3RoIT09K24ubGVuZ3RoJiYobj1oLnZhbHVlcyhuKSksbltoLnJhbmRvbShuLmxlbmd0aC0xKV0pOmguc2h1ZmZsZShuKS5zbGljZSgwLE1hdGgubWF4KDAsdCkpfSxoLnNvcnRCeT1mdW5jdGlvbihuLHQscil7cmV0dXJuIHQ9aC5pdGVyYXRlZSh0LHIpLGgucGx1Y2soaC5tYXAobixmdW5jdGlvbihuLHIsZSl7cmV0dXJue3ZhbHVlOm4saW5kZXg6cixjcml0ZXJpYTp0KG4scixlKX19KS5zb3J0KGZ1bmN0aW9uKG4sdCl7dmFyIHI9bi5jcml0ZXJpYSxlPXQuY3JpdGVyaWE7aWYociE9PWUpe2lmKHI+ZXx8cj09PXZvaWQgMClyZXR1cm4gMTtpZihlPnJ8fGU9PT12b2lkIDApcmV0dXJuLTF9cmV0dXJuIG4uaW5kZXgtdC5pbmRleH0pLCJ2YWx1ZSIpfTt2YXIgbT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxyLGUpe3ZhciB1PXt9O3JldHVybiByPWguaXRlcmF0ZWUocixlKSxoLmVhY2godCxmdW5jdGlvbihlLGkpe3ZhciBhPXIoZSxpLHQpO24odSxlLGEpfSksdX19O2guZ3JvdXBCeT1tKGZ1bmN0aW9uKG4sdCxyKXtoLmhhcyhuLHIpP25bcl0ucHVzaCh0KTpuW3JdPVt0XX0pLGguaW5kZXhCeT1tKGZ1bmN0aW9uKG4sdCxyKXtuW3JdPXR9KSxoLmNvdW50Qnk9bShmdW5jdGlvbihuLHQscil7aC5oYXMobixyKT9uW3JdKys6bltyXT0xfSksaC5zb3J0ZWRJbmRleD1mdW5jdGlvbihuLHQscixlKXtyPWguaXRlcmF0ZWUocixlLDEpO2Zvcih2YXIgdT1yKHQpLGk9MCxhPW4ubGVuZ3RoO2E+aTspe3ZhciBvPWkrYT4+PjE7cihuW29dKTx1P2k9bysxOmE9b31yZXR1cm4gaX0saC50b0FycmF5PWZ1bmN0aW9uKG4pe3JldHVybiBuP2guaXNBcnJheShuKT9hLmNhbGwobik6bi5sZW5ndGg9PT0rbi5sZW5ndGg/aC5tYXAobixoLmlkZW50aXR5KTpoLnZhbHVlcyhuKTpbXX0saC5zaXplPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPzA6bi5sZW5ndGg9PT0rbi5sZW5ndGg/bi5sZW5ndGg6aC5rZXlzKG4pLmxlbmd0aH0saC5wYXJ0aXRpb249ZnVuY3Rpb24obix0LHIpe3Q9aC5pdGVyYXRlZSh0LHIpO3ZhciBlPVtdLHU9W107cmV0dXJuIGguZWFjaChuLGZ1bmN0aW9uKG4scixpKXsodChuLHIsaSk/ZTp1KS5wdXNoKG4pfSksW2UsdV19LGguZmlyc3Q9aC5oZWFkPWgudGFrZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PW4/dm9pZCAwOm51bGw9PXR8fHI/blswXTowPnQ/W106YS5jYWxsKG4sMCx0KX0saC5pbml0aWFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYS5jYWxsKG4sMCxNYXRoLm1heCgwLG4ubGVuZ3RoLShudWxsPT10fHxyPzE6dCkpKX0saC5sYXN0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09bj92b2lkIDA6bnVsbD09dHx8cj9uW24ubGVuZ3RoLTFdOmEuY2FsbChuLE1hdGgubWF4KG4ubGVuZ3RoLXQsMCkpfSxoLnJlc3Q9aC50YWlsPWguZHJvcD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGEuY2FsbChuLG51bGw9PXR8fHI/MTp0KX0saC5jb21wYWN0PWZ1bmN0aW9uKG4pe3JldHVybiBoLmZpbHRlcihuLGguaWRlbnRpdHkpfTt2YXIgeT1mdW5jdGlvbihuLHQscixlKXtpZih0JiZoLmV2ZXJ5KG4saC5pc0FycmF5KSlyZXR1cm4gby5hcHBseShlLG4pO2Zvcih2YXIgdT0wLGE9bi5sZW5ndGg7YT51O3UrKyl7dmFyIGw9blt1XTtoLmlzQXJyYXkobCl8fGguaXNBcmd1bWVudHMobCk/dD9pLmFwcGx5KGUsbCk6eShsLHQscixlKTpyfHxlLnB1c2gobCl9cmV0dXJuIGV9O2guZmxhdHRlbj1mdW5jdGlvbihuLHQpe3JldHVybiB5KG4sdCwhMSxbXSl9LGgud2l0aG91dD1mdW5jdGlvbihuKXtyZXR1cm4gaC5kaWZmZXJlbmNlKG4sYS5jYWxsKGFyZ3VtZW50cywxKSl9LGgudW5pcT1oLnVuaXF1ZT1mdW5jdGlvbihuLHQscixlKXtpZihudWxsPT1uKXJldHVybltdO2guaXNCb29sZWFuKHQpfHwoZT1yLHI9dCx0PSExKSxudWxsIT1yJiYocj1oLml0ZXJhdGVlKHIsZSkpO2Zvcih2YXIgdT1bXSxpPVtdLGE9MCxvPW4ubGVuZ3RoO28+YTthKyspe3ZhciBsPW5bYV07aWYodClhJiZpPT09bHx8dS5wdXNoKGwpLGk9bDtlbHNlIGlmKHIpe3ZhciBjPXIobCxhLG4pO2guaW5kZXhPZihpLGMpPDAmJihpLnB1c2goYyksdS5wdXNoKGwpKX1lbHNlIGguaW5kZXhPZih1LGwpPDAmJnUucHVzaChsKX1yZXR1cm4gdX0saC51bmlvbj1mdW5jdGlvbigpe3JldHVybiBoLnVuaXEoeShhcmd1bWVudHMsITAsITAsW10pKX0saC5pbnRlcnNlY3Rpb249ZnVuY3Rpb24obil7aWYobnVsbD09bilyZXR1cm5bXTtmb3IodmFyIHQ9W10scj1hcmd1bWVudHMubGVuZ3RoLGU9MCx1PW4ubGVuZ3RoO3U+ZTtlKyspe3ZhciBpPW5bZV07aWYoIWguY29udGFpbnModCxpKSl7Zm9yKHZhciBhPTE7cj5hJiZoLmNvbnRhaW5zKGFyZ3VtZW50c1thXSxpKTthKyspO2E9PT1yJiZ0LnB1c2goaSl9fXJldHVybiB0fSxoLmRpZmZlcmVuY2U9ZnVuY3Rpb24obil7dmFyIHQ9eShhLmNhbGwoYXJndW1lbnRzLDEpLCEwLCEwLFtdKTtyZXR1cm4gaC5maWx0ZXIobixmdW5jdGlvbihuKXtyZXR1cm4haC5jb250YWlucyh0LG4pfSl9LGguemlwPWZ1bmN0aW9uKG4pe2lmKG51bGw9PW4pcmV0dXJuW107Zm9yKHZhciB0PWgubWF4KGFyZ3VtZW50cywibGVuZ3RoIikubGVuZ3RoLHI9QXJyYXkodCksZT0wO3Q+ZTtlKyspcltlXT1oLnBsdWNrKGFyZ3VtZW50cyxlKTtyZXR1cm4gcn0saC5vYmplY3Q9ZnVuY3Rpb24obix0KXtpZihudWxsPT1uKXJldHVybnt9O2Zvcih2YXIgcj17fSxlPTAsdT1uLmxlbmd0aDt1PmU7ZSsrKXQ/cltuW2VdXT10W2VdOnJbbltlXVswXV09bltlXVsxXTtyZXR1cm4gcn0saC5pbmRleE9mPWZ1bmN0aW9uKG4sdCxyKXtpZihudWxsPT1uKXJldHVybi0xO3ZhciBlPTAsdT1uLmxlbmd0aDtpZihyKXtpZigibnVtYmVyIiE9dHlwZW9mIHIpcmV0dXJuIGU9aC5zb3J0ZWRJbmRleChuLHQpLG5bZV09PT10P2U6LTE7ZT0wPnI/TWF0aC5tYXgoMCx1K3IpOnJ9Zm9yKDt1PmU7ZSsrKWlmKG5bZV09PT10KXJldHVybiBlO3JldHVybi0xfSxoLmxhc3RJbmRleE9mPWZ1bmN0aW9uKG4sdCxyKXtpZihudWxsPT1uKXJldHVybi0xO3ZhciBlPW4ubGVuZ3RoO2ZvcigibnVtYmVyIj09dHlwZW9mIHImJihlPTA+cj9lK3IrMTpNYXRoLm1pbihlLHIrMSkpOy0tZT49MDspaWYobltlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9LGgucmFuZ2U9ZnVuY3Rpb24obix0LHIpe2FyZ3VtZW50cy5sZW5ndGg8PTEmJih0PW58fDAsbj0wKSxyPXJ8fDE7Zm9yKHZhciBlPU1hdGgubWF4KE1hdGguY2VpbCgodC1uKS9yKSwwKSx1PUFycmF5KGUpLGk9MDtlPmk7aSsrLG4rPXIpdVtpXT1uO3JldHVybiB1fTt2YXIgZD1mdW5jdGlvbigpe307aC5iaW5kPWZ1bmN0aW9uKG4sdCl7dmFyIHIsZTtpZihwJiZuLmJpbmQ9PT1wKXJldHVybiBwLmFwcGx5KG4sYS5jYWxsKGFyZ3VtZW50cywxKSk7aWYoIWguaXNGdW5jdGlvbihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24iKTtyZXR1cm4gcj1hLmNhbGwoYXJndW1lbnRzLDIpLGU9ZnVuY3Rpb24oKXtpZighKHRoaXMgaW5zdGFuY2VvZiBlKSlyZXR1cm4gbi5hcHBseSh0LHIuY29uY2F0KGEuY2FsbChhcmd1bWVudHMpKSk7ZC5wcm90b3R5cGU9bi5wcm90b3R5cGU7dmFyIHU9bmV3IGQ7ZC5wcm90b3R5cGU9bnVsbDt2YXIgaT1uLmFwcGx5KHUsci5jb25jYXQoYS5jYWxsKGFyZ3VtZW50cykpKTtyZXR1cm4gaC5pc09iamVjdChpKT9pOnV9fSxoLnBhcnRpYWw9ZnVuY3Rpb24obil7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9MCxlPXQuc2xpY2UoKSx1PTAsaT1lLmxlbmd0aDtpPnU7dSsrKWVbdV09PT1oJiYoZVt1XT1hcmd1bWVudHNbcisrXSk7Zm9yKDtyPGFyZ3VtZW50cy5sZW5ndGg7KWUucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIG4uYXBwbHkodGhpcyxlKX19LGguYmluZEFsbD1mdW5jdGlvbihuKXt2YXIgdCxyLGU9YXJndW1lbnRzLmxlbmd0aDtpZigxPj1lKXRocm93IG5ldyBFcnJvcigiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcyIpO2Zvcih0PTE7ZT50O3QrKylyPWFyZ3VtZW50c1t0XSxuW3JdPWguYmluZChuW3JdLG4pO3JldHVybiBufSxoLm1lbW9pemU9ZnVuY3Rpb24obix0KXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdT1yLmNhY2hlLGk9dD90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTplO3JldHVybiBoLmhhcyh1LGkpfHwodVtpXT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksdVtpXX07cmV0dXJuIHIuY2FjaGU9e30scn0saC5kZWxheT1mdW5jdGlvbihuLHQpe3ZhciByPWEuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseShudWxsLHIpfSx0KX0saC5kZWZlcj1mdW5jdGlvbihuKXtyZXR1cm4gaC5kZWxheS5hcHBseShoLFtuLDFdLmNvbmNhdChhLmNhbGwoYXJndW1lbnRzLDEpKSl9LGgudGhyb3R0bGU9ZnVuY3Rpb24obix0LHIpe3ZhciBlLHUsaSxhPW51bGwsbz0wO3J8fChyPXt9KTt2YXIgbD1mdW5jdGlvbigpe289ci5sZWFkaW5nPT09ITE/MDpoLm5vdygpLGE9bnVsbCxpPW4uYXBwbHkoZSx1KSxhfHwoZT11PW51bGwpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1oLm5vdygpO298fHIubGVhZGluZyE9PSExfHwobz1jKTt2YXIgZj10LShjLW8pO3JldHVybiBlPXRoaXMsdT1hcmd1bWVudHMsMD49Znx8Zj50PyhjbGVhclRpbWVvdXQoYSksYT1udWxsLG89YyxpPW4uYXBwbHkoZSx1KSxhfHwoZT11PW51bGwpKTphfHxyLnRyYWlsaW5nPT09ITF8fChhPXNldFRpbWVvdXQobCxmKSksaX19LGguZGVib3VuY2U9ZnVuY3Rpb24obix0LHIpe3ZhciBlLHUsaSxhLG8sbD1mdW5jdGlvbigpe3ZhciBjPWgubm93KCktYTt0PmMmJmM+MD9lPXNldFRpbWVvdXQobCx0LWMpOihlPW51bGwscnx8KG89bi5hcHBseShpLHUpLGV8fChpPXU9bnVsbCkpKX07cmV0dXJuIGZ1bmN0aW9uKCl7aT10aGlzLHU9YXJndW1lbnRzLGE9aC5ub3coKTt2YXIgYz1yJiYhZTtyZXR1cm4gZXx8KGU9c2V0VGltZW91dChsLHQpKSxjJiYobz1uLmFwcGx5KGksdSksaT11PW51bGwpLG99fSxoLndyYXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gaC5wYXJ0aWFsKHQsbil9LGgubmVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiFuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGguY29tcG9zZT1mdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cyx0PW4ubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPXQsZT1uW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyLS07KWU9bltyXS5jYWxsKHRoaXMsZSk7cmV0dXJuIGV9fSxoLmFmdGVyPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS1uPDE/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0saC5iZWZvcmU9ZnVuY3Rpb24obix0KXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLW4+MD9yPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpOnQ9bnVsbCxyfX0saC5vbmNlPWgucGFydGlhbChoLmJlZm9yZSwyKSxoLmtleXM9ZnVuY3Rpb24obil7aWYoIWguaXNPYmplY3QobikpcmV0dXJuW107aWYocylyZXR1cm4gcyhuKTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbiloLmhhcyhuLHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9LGgudmFsdWVzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1oLmtleXMobikscj10Lmxlbmd0aCxlPUFycmF5KHIpLHU9MDtyPnU7dSsrKWVbdV09blt0W3VdXTtyZXR1cm4gZX0saC5wYWlycz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9aC5rZXlzKG4pLHI9dC5sZW5ndGgsZT1BcnJheShyKSx1PTA7cj51O3UrKyllW3VdPVt0W3VdLG5bdFt1XV1dO3JldHVybiBlfSxoLmludmVydD1mdW5jdGlvbihuKXtmb3IodmFyIHQ9e30scj1oLmtleXMobiksZT0wLHU9ci5sZW5ndGg7dT5lO2UrKyl0W25bcltlXV1dPXJbZV07cmV0dXJuIHR9LGguZnVuY3Rpb25zPWgubWV0aG9kcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbiloLmlzRnVuY3Rpb24obltyXSkmJnQucHVzaChyKTtyZXR1cm4gdC5zb3J0KCl9LGguZXh0ZW5kPWZ1bmN0aW9uKG4pe2lmKCFoLmlzT2JqZWN0KG4pKXJldHVybiBuO2Zvcih2YXIgdCxyLGU9MSx1PWFyZ3VtZW50cy5sZW5ndGg7dT5lO2UrKyl7dD1hcmd1bWVudHNbZV07Zm9yKHIgaW4gdCljLmNhbGwodCxyKSYmKG5bcl09dFtyXSl9cmV0dXJuIG59LGgucGljaz1mdW5jdGlvbihuLHQscil7dmFyIGUsdT17fTtpZihudWxsPT1uKXJldHVybiB1O2lmKGguaXNGdW5jdGlvbih0KSl7dD1nKHQscik7Zm9yKGUgaW4gbil7dmFyIGk9bltlXTt0KGksZSxuKSYmKHVbZV09aSl9fWVsc2V7dmFyIGw9by5hcHBseShbXSxhLmNhbGwoYXJndW1lbnRzLDEpKTtuPW5ldyBPYmplY3Qobik7Zm9yKHZhciBjPTAsZj1sLmxlbmd0aDtmPmM7YysrKWU9bFtjXSxlIGluIG4mJih1W2VdPW5bZV0pfXJldHVybiB1fSxoLm9taXQ9ZnVuY3Rpb24obix0LHIpe2lmKGguaXNGdW5jdGlvbih0KSl0PWgubmVnYXRlKHQpO2Vsc2V7dmFyIGU9aC5tYXAoby5hcHBseShbXSxhLmNhbGwoYXJndW1lbnRzLDEpKSxTdHJpbmcpO3Q9ZnVuY3Rpb24obix0KXtyZXR1cm4haC5jb250YWlucyhlLHQpfX1yZXR1cm4gaC5waWNrKG4sdCxyKX0saC5kZWZhdWx0cz1mdW5jdGlvbihuKXtpZighaC5pc09iamVjdChuKSlyZXR1cm4gbjtmb3IodmFyIHQ9MSxyPWFyZ3VtZW50cy5sZW5ndGg7cj50O3QrKyl7dmFyIGU9YXJndW1lbnRzW3RdO2Zvcih2YXIgdSBpbiBlKW5bdV09PT12b2lkIDAmJihuW3VdPWVbdV0pfXJldHVybiBufSxoLmNsb25lPWZ1bmN0aW9uKG4pe3JldHVybiBoLmlzT2JqZWN0KG4pP2guaXNBcnJheShuKT9uLnNsaWNlKCk6aC5leHRlbmQoe30sbik6bn0saC50YXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gdChuKSxufTt2YXIgYj1mdW5jdGlvbihuLHQscixlKXtpZihuPT09dClyZXR1cm4gMCE9PW58fDEvbj09PTEvdDtpZihudWxsPT1ufHxudWxsPT10KXJldHVybiBuPT09dDtuIGluc3RhbmNlb2YgaCYmKG49bi5fd3JhcHBlZCksdCBpbnN0YW5jZW9mIGgmJih0PXQuX3dyYXBwZWQpO3ZhciB1PWwuY2FsbChuKTtpZih1IT09bC5jYWxsKHQpKXJldHVybiExO3N3aXRjaCh1KXtjYXNlIltvYmplY3QgUmVnRXhwXSI6Y2FzZSJbb2JqZWN0IFN0cmluZ10iOnJldHVybiIiK249PSIiK3Q7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybituIT09K24/K3QhPT0rdDowPT09K24/MS8rbj09PTEvdDorbj09PSt0O2Nhc2UiW29iamVjdCBEYXRlXSI6Y2FzZSJbb2JqZWN0IEJvb2xlYW5dIjpyZXR1cm4rbj09PSt0fWlmKCJvYmplY3QiIT10eXBlb2Ygbnx8Im9iamVjdCIhPXR5cGVvZiB0KXJldHVybiExO2Zvcih2YXIgaT1yLmxlbmd0aDtpLS07KWlmKHJbaV09PT1uKXJldHVybiBlW2ldPT09dDt2YXIgYT1uLmNvbnN0cnVjdG9yLG89dC5jb25zdHJ1Y3RvcjtpZihhIT09byYmImNvbnN0cnVjdG9yImluIG4mJiJjb25zdHJ1Y3RvciJpbiB0JiYhKGguaXNGdW5jdGlvbihhKSYmYSBpbnN0YW5jZW9mIGEmJmguaXNGdW5jdGlvbihvKSYmbyBpbnN0YW5jZW9mIG8pKXJldHVybiExO3IucHVzaChuKSxlLnB1c2godCk7dmFyIGMsZjtpZigiW29iamVjdCBBcnJheV0iPT09dSl7aWYoYz1uLmxlbmd0aCxmPWM9PT10Lmxlbmd0aClmb3IoO2MtLSYmKGY9YihuW2NdLHRbY10scixlKSk7KTt9ZWxzZXt2YXIgcyxwPWgua2V5cyhuKTtpZihjPXAubGVuZ3RoLGY9aC5rZXlzKHQpLmxlbmd0aD09PWMpZm9yKDtjLS0mJihzPXBbY10sZj1oLmhhcyh0LHMpJiZiKG5bc10sdFtzXSxyLGUpKTspO31yZXR1cm4gci5wb3AoKSxlLnBvcCgpLGZ9O2guaXNFcXVhbD1mdW5jdGlvbihuLHQpe3JldHVybiBiKG4sdCxbXSxbXSl9LGguaXNFbXB0eT1mdW5jdGlvbihuKXtpZihudWxsPT1uKXJldHVybiEwO2lmKGguaXNBcnJheShuKXx8aC5pc1N0cmluZyhuKXx8aC5pc0FyZ3VtZW50cyhuKSlyZXR1cm4gMD09PW4ubGVuZ3RoO2Zvcih2YXIgdCBpbiBuKWlmKGguaGFzKG4sdCkpcmV0dXJuITE7cmV0dXJuITB9LGguaXNFbGVtZW50PWZ1bmN0aW9uKG4pe3JldHVybiEoIW58fDEhPT1uLm5vZGVUeXBlKX0saC5pc0FycmF5PWZ8fGZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1sLmNhbGwobil9LGguaXNPYmplY3Q9ZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuImZ1bmN0aW9uIj09PXR8fCJvYmplY3QiPT09dCYmISFufSxoLmVhY2goWyJBcmd1bWVudHMiLCJGdW5jdGlvbiIsIlN0cmluZyIsIk51bWJlciIsIkRhdGUiLCJSZWdFeHAiXSxmdW5jdGlvbihuKXtoWyJpcyIrbl09ZnVuY3Rpb24odCl7cmV0dXJuIGwuY2FsbCh0KT09PSJbb2JqZWN0ICIrbisiXSJ9fSksaC5pc0FyZ3VtZW50cyhhcmd1bWVudHMpfHwoaC5pc0FyZ3VtZW50cz1mdW5jdGlvbihuKXtyZXR1cm4gaC5oYXMobiwiY2FsbGVlIil9KSwiZnVuY3Rpb24iIT10eXBlb2YvLi8mJihoLmlzRnVuY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG58fCExfSksaC5pc0Zpbml0ZT1mdW5jdGlvbihuKXtyZXR1cm4gaXNGaW5pdGUobikmJiFpc05hTihwYXJzZUZsb2F0KG4pKX0saC5pc05hTj1mdW5jdGlvbihuKXtyZXR1cm4gaC5pc051bWJlcihuKSYmbiE9PStufSxoLmlzQm9vbGVhbj1mdW5jdGlvbihuKXtyZXR1cm4gbj09PSEwfHxuPT09ITF8fCJbb2JqZWN0IEJvb2xlYW5dIj09PWwuY2FsbChuKX0saC5pc051bGw9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PT1ufSxoLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKG4pe3JldHVybiBuPT09dm9pZCAwfSxoLmhhcz1mdW5jdGlvbihuLHQpe3JldHVybiBudWxsIT1uJiZjLmNhbGwobix0KX0saC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uXz10LHRoaXN9LGguaWRlbnRpdHk9ZnVuY3Rpb24obil7cmV0dXJuIG59LGguY29uc3RhbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG59fSxoLm5vb3A9ZnVuY3Rpb24oKXt9LGgucHJvcGVydHk9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0W25dfX0saC5tYXRjaGVzPWZ1bmN0aW9uKG4pe3ZhciB0PWgucGFpcnMobikscj10Lmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24obil7aWYobnVsbD09bilyZXR1cm4hcjtuPW5ldyBPYmplY3Qobik7Zm9yKHZhciBlPTA7cj5lO2UrKyl7dmFyIHU9dFtlXSxpPXVbMF07aWYodVsxXSE9PW5baV18fCEoaSBpbiBuKSlyZXR1cm4hMX1yZXR1cm4hMH19LGgudGltZXM9ZnVuY3Rpb24obix0LHIpe3ZhciBlPUFycmF5KE1hdGgubWF4KDAsbikpO3Q9Zyh0LHIsMSk7Zm9yKHZhciB1PTA7bj51O3UrKyllW3VdPXQodSk7cmV0dXJuIGV9LGgucmFuZG9tPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXQmJih0PW4sbj0wKSxuK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoodC1uKzEpKX0saC5ub3c9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBfPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiN4Mjc7IiwiYCI6IiYjeDYwOyJ9LHc9aC5pbnZlcnQoXyksaj1mdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gblt0XX0scj0iKD86IitoLmtleXMobikuam9pbigifCIpKyIpIixlPVJlZ0V4cChyKSx1PVJlZ0V4cChyLCJnIik7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuPW51bGw9PW4/IiI6IiIrbixlLnRlc3Qobik/bi5yZXBsYWNlKHUsdCk6bn19O2guZXNjYXBlPWooXyksaC51bmVzY2FwZT1qKHcpLGgucmVzdWx0PWZ1bmN0aW9uKG4sdCl7aWYobnVsbD09bilyZXR1cm4gdm9pZCAwO3ZhciByPW5bdF07cmV0dXJuIGguaXNGdW5jdGlvbihyKT9uW3RdKCk6cn07dmFyIHg9MDtoLnVuaXF1ZUlkPWZ1bmN0aW9uKG4pe3ZhciB0PSsreCsiIjtyZXR1cm4gbj9uK3Q6dH0saC50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xzXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcc1xTXSs/KSU+L2csZXNjYXBlOi88JS0oW1xzXFNdKz8pJT4vZ307dmFyIEE9LyguKV4vLGs9eyInIjoiJyIsIlxcIjoiXFwiLCJcciI6InIiLCJcbiI6Im4iLCJcdTIwMjgiOiJ1MjAyOCIsIlx1MjAyOSI6InUyMDI5In0sTz0vXFx8J3xccnxcbnxcdTIwMjh8XHUyMDI5L2csRj1mdW5jdGlvbihuKXtyZXR1cm4iXFwiK2tbbl19O2gudGVtcGxhdGU9ZnVuY3Rpb24obix0LHIpeyF0JiZyJiYodD1yKSx0PWguZGVmYXVsdHMoe30sdCxoLnRlbXBsYXRlU2V0dGluZ3MpO3ZhciBlPVJlZ0V4cChbKHQuZXNjYXBlfHxBKS5zb3VyY2UsKHQuaW50ZXJwb2xhdGV8fEEpLnNvdXJjZSwodC5ldmFsdWF0ZXx8QSkuc291cmNlXS5qb2luKCJ8IikrInwkIiwiZyIpLHU9MCxpPSJfX3ArPSciO24ucmVwbGFjZShlLGZ1bmN0aW9uKHQscixlLGEsbyl7cmV0dXJuIGkrPW4uc2xpY2UodSxvKS5yZXBsYWNlKE8sRiksdT1vK3QubGVuZ3RoLHI/aSs9IicrXG4oKF9fdD0oIityKyIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcbiciOmU/aSs9IicrXG4oKF9fdD0oIitlKyIpKT09bnVsbD8nJzpfX3QpK1xuJyI6YSYmKGkrPSInO1xuIithKyJcbl9fcCs9JyIpLHR9KSxpKz0iJztcbiIsdC52YXJpYWJsZXx8KGk9IndpdGgob2JqfHx7fSl7XG4iK2krIn1cbiIpLGk9InZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbiwiKyJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xuIitpKyJyZXR1cm4gX19wO1xuIjt0cnl7dmFyIGE9bmV3IEZ1bmN0aW9uKHQudmFyaWFibGV8fCJvYmoiLCJfIixpKX1jYXRjaChvKXt0aHJvdyBvLnNvdXJjZT1pLG99dmFyIGw9ZnVuY3Rpb24obil7cmV0dXJuIGEuY2FsbCh0aGlzLG4saCl9LGM9dC52YXJpYWJsZXx8Im9iaiI7cmV0dXJuIGwuc291cmNlPSJmdW5jdGlvbigiK2MrIil7XG4iK2krIn0iLGx9LGguY2hhaW49ZnVuY3Rpb24obil7dmFyIHQ9aChuKTtyZXR1cm4gdC5fY2hhaW49ITAsdH07dmFyIEU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2NoYWluP2gobikuY2hhaW4oKTpufTtoLm1peGluPWZ1bmN0aW9uKG4pe2guZWFjaChoLmZ1bmN0aW9ucyhuKSxmdW5jdGlvbih0KXt2YXIgcj1oW3RdPW5bdF07aC5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgbj1bdGhpcy5fd3JhcHBlZF07cmV0dXJuIGkuYXBwbHkobixhcmd1bWVudHMpLEUuY2FsbCh0aGlzLHIuYXBwbHkoaCxuKSl9fSl9LGgubWl4aW4oaCksaC5lYWNoKFsicG9wIiwicHVzaCIsInJldmVyc2UiLCJzaGlmdCIsInNvcnQiLCJzcGxpY2UiLCJ1bnNoaWZ0Il0sZnVuY3Rpb24obil7dmFyIHQ9cltuXTtoLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3ZhciByPXRoaXMuX3dyYXBwZWQ7cmV0dXJuIHQuYXBwbHkocixhcmd1bWVudHMpLCJzaGlmdCIhPT1uJiYic3BsaWNlIiE9PW58fDAhPT1yLmxlbmd0aHx8ZGVsZXRlIHJbMF0sRS5jYWxsKHRoaXMscil9fSksaC5lYWNoKFsiY29uY2F0Iiwiam9pbiIsInNsaWNlIl0sZnVuY3Rpb24obil7dmFyIHQ9cltuXTtoLnByb3RvdHlwZVtuXT1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyx0LmFwcGx5KHRoaXMuX3dyYXBwZWQsYXJndW1lbnRzKSl9fSksaC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcHBlZH0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJ1bmRlcnNjb3JlIixbXSxmdW5jdGlvbigpe3JldHVybiBofSl9KS5jYWxsKHRoaXMpOw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887871" offset="0" length="5532" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="142" hostname="10.239.251.82" path="/swagger-static/lib/backbone-min.js" url="http://10.239.251.82:8080/swagger-static/lib/backbone-min.js" ip="10.239.251.82" port="8080" connectionId="8" origin="HTML" frame="1" startTime="2972887809" endTime="2972887887">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvYmFja2JvbmUtbWluLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjMzODY3ZGVkYjlkM2E1N2VhMjI0NDI5NWE1MTk4MmQwLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NjgzOA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiMzM4NjdkZWRiOWQzYTU3ZWEyMjQ0Mjk1YTUxOTgyZDAtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogNjgzOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ly8gQmFja2JvbmUuanMgMS4xLjIKCihmdW5jdGlvbih0LGUpe2lmKHR5cGVvZiBkZWZpbmU9PT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kKXtkZWZpbmUoWyJ1bmRlcnNjb3JlIiwianF1ZXJ5IiwiZXhwb3J0cyJdLGZ1bmN0aW9uKGkscixzKXt0LkJhY2tib25lPWUodCxzLGkscil9KX1lbHNlIGlmKHR5cGVvZiBleHBvcnRzIT09InVuZGVmaW5lZCIpe3ZhciBpPXJlcXVpcmUoInVuZGVyc2NvcmUiKTtlKHQsZXhwb3J0cyxpKX1lbHNle3QuQmFja2JvbmU9ZSh0LHt9LHQuXyx0LmpRdWVyeXx8dC5aZXB0b3x8dC5lbmRlcnx8dC4kKX19KSh0aGlzLGZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzPXQuQmFja2JvbmU7dmFyIG49W107dmFyIGE9bi5wdXNoO3ZhciBvPW4uc2xpY2U7dmFyIGg9bi5zcGxpY2U7ZS5WRVJTSU9OPSIxLjEuMiI7ZS4kPXI7ZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7dC5CYWNrYm9uZT1zO3JldHVybiB0aGlzfTtlLmVtdWxhdGVIVFRQPWZhbHNlO2UuZW11bGF0ZUpTT049ZmFsc2U7dmFyIHU9ZS5FdmVudHM9e29uOmZ1bmN0aW9uKHQsZSxpKXtpZighYyh0aGlzLCJvbiIsdCxbZSxpXSl8fCFlKXJldHVybiB0aGlzO3RoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSk7dmFyIHI9dGhpcy5fZXZlbnRzW3RdfHwodGhpcy5fZXZlbnRzW3RdPVtdKTtyLnB1c2goe2NhbGxiYWNrOmUsY29udGV4dDppLGN0eDppfHx0aGlzfSk7cmV0dXJuIHRoaXN9LG9uY2U6ZnVuY3Rpb24odCxlLHIpe2lmKCFjKHRoaXMsIm9uY2UiLHQsW2Uscl0pfHwhZSlyZXR1cm4gdGhpczt2YXIgcz10aGlzO3ZhciBuPWkub25jZShmdW5jdGlvbigpe3Mub2ZmKHQsbik7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtuLl9jYWxsYmFjaz1lO3JldHVybiB0aGlzLm9uKHQsbixyKX0sb2ZmOmZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxuLGEsbyxoLHUsbCxmO2lmKCF0aGlzLl9ldmVudHN8fCFjKHRoaXMsIm9mZiIsdCxbZSxyXSkpcmV0dXJuIHRoaXM7aWYoIXQmJiFlJiYhcil7dGhpcy5fZXZlbnRzPXZvaWQgMDtyZXR1cm4gdGhpc31vPXQ/W3RdOmkua2V5cyh0aGlzLl9ldmVudHMpO2ZvcihoPTAsdT1vLmxlbmd0aDtoPHU7aCsrKXt0PW9baF07aWYoYT10aGlzLl9ldmVudHNbdF0pe3RoaXMuX2V2ZW50c1t0XT1zPVtdO2lmKGV8fHIpe2ZvcihsPTAsZj1hLmxlbmd0aDtsPGY7bCsrKXtuPWFbbF07aWYoZSYmZSE9PW4uY2FsbGJhY2smJmUhPT1uLmNhbGxiYWNrLl9jYWxsYmFja3x8ciYmciE9PW4uY29udGV4dCl7cy5wdXNoKG4pfX19aWYoIXMubGVuZ3RoKWRlbGV0ZSB0aGlzLl9ldmVudHNbdF19fXJldHVybiB0aGlzfSx0cmlnZ2VyOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7dmFyIGU9by5jYWxsKGFyZ3VtZW50cywxKTtpZighYyh0aGlzLCJ0cmlnZ2VyIix0LGUpKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuX2V2ZW50c1t0XTt2YXIgcj10aGlzLl9ldmVudHMuYWxsO2lmKGkpZihpLGUpO2lmKHIpZihyLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LHN0b3BMaXN0ZW5pbmc6ZnVuY3Rpb24odCxlLHIpe3ZhciBzPXRoaXMuX2xpc3RlbmluZ1RvO2lmKCFzKXJldHVybiB0aGlzO3ZhciBuPSFlJiYhcjtpZighciYmdHlwZW9mIGU9PT0ib2JqZWN0IilyPXRoaXM7aWYodCkocz17fSlbdC5fbGlzdGVuSWRdPXQ7Zm9yKHZhciBhIGluIHMpe3Q9c1thXTt0Lm9mZihlLHIsdGhpcyk7aWYobnx8aS5pc0VtcHR5KHQuX2V2ZW50cykpZGVsZXRlIHRoaXMuX2xpc3RlbmluZ1RvW2FdfXJldHVybiB0aGlzfX07dmFyIGw9L1xzKy87dmFyIGM9ZnVuY3Rpb24odCxlLGkscil7aWYoIWkpcmV0dXJuIHRydWU7aWYodHlwZW9mIGk9PT0ib2JqZWN0Iil7Zm9yKHZhciBzIGluIGkpe3RbZV0uYXBwbHkodCxbcyxpW3NdXS5jb25jYXQocikpfXJldHVybiBmYWxzZX1pZihsLnRlc3QoaSkpe3ZhciBuPWkuc3BsaXQobCk7Zm9yKHZhciBhPTAsbz1uLmxlbmd0aDthPG87YSsrKXt0W2VdLmFwcGx5KHQsW25bYV1dLmNvbmNhdChyKSl9cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfTt2YXIgZj1mdW5jdGlvbih0LGUpe3ZhciBpLHI9LTEscz10Lmxlbmd0aCxuPWVbMF0sYT1lWzFdLG89ZVsyXTtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDp3aGlsZSgrK3I8cykoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4KTtyZXR1cm47Y2FzZSAxOndoaWxlKCsrcjxzKShpPXRbcl0pLmNhbGxiYWNrLmNhbGwoaS5jdHgsbik7cmV0dXJuO2Nhc2UgMjp3aGlsZSgrK3I8cykoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4LG4sYSk7cmV0dXJuO2Nhc2UgMzp3aGlsZSgrK3I8cykoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4LG4sYSxvKTtyZXR1cm47ZGVmYXVsdDp3aGlsZSgrK3I8cykoaT10W3JdKS5jYWxsYmFjay5hcHBseShpLmN0eCxlKTtyZXR1cm59fTt2YXIgZD17bGlzdGVuVG86Im9uIixsaXN0ZW5Ub09uY2U6Im9uY2UifTtpLmVhY2goZCxmdW5jdGlvbih0LGUpe3VbZV09ZnVuY3Rpb24oZSxyLHMpe3ZhciBuPXRoaXMuX2xpc3RlbmluZ1RvfHwodGhpcy5fbGlzdGVuaW5nVG89e30pO3ZhciBhPWUuX2xpc3RlbklkfHwoZS5fbGlzdGVuSWQ9aS51bmlxdWVJZCgibCIpKTtuW2FdPWU7aWYoIXMmJnR5cGVvZiByPT09Im9iamVjdCIpcz10aGlzO2VbdF0ocixzLHRoaXMpO3JldHVybiB0aGlzfX0pO3UuYmluZD11Lm9uO3UudW5iaW5kPXUub2ZmO2kuZXh0ZW5kKGUsdSk7dmFyIHA9ZS5Nb2RlbD1mdW5jdGlvbih0LGUpe3ZhciByPXR8fHt9O2V8fChlPXt9KTt0aGlzLmNpZD1pLnVuaXF1ZUlkKCJjIik7dGhpcy5hdHRyaWJ1dGVzPXt9O2lmKGUuY29sbGVjdGlvbil0aGlzLmNvbGxlY3Rpb249ZS5jb2xsZWN0aW9uO2lmKGUucGFyc2Upcj10aGlzLnBhcnNlKHIsZSl8fHt9O3I9aS5kZWZhdWx0cyh7fSxyLGkucmVzdWx0KHRoaXMsImRlZmF1bHRzIikpO3RoaXMuc2V0KHIsZSk7dGhpcy5jaGFuZ2VkPXt9O3RoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2kuZXh0ZW5kKHAucHJvdG90eXBlLHUse2NoYW5nZWQ6bnVsbCx2YWxpZGF0aW9uRXJyb3I6bnVsbCxpZEF0dHJpYnV0ZToiaWQiLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHRvSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gaS5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW3RdfSxlc2NhcGU6ZnVuY3Rpb24odCl7cmV0dXJuIGkuZXNjYXBlKHRoaXMuZ2V0KHQpKX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldCh0KSE9bnVsbH0sc2V0OmZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxuLGEsbyxoLHUsbCxjO2lmKHQ9PW51bGwpcmV0dXJuIHRoaXM7aWYodHlwZW9mIHQ9PT0ib2JqZWN0Iil7bj10O3I9ZX1lbHNleyhuPXt9KVt0XT1lfXJ8fChyPXt9KTtpZighdGhpcy5fdmFsaWRhdGUobixyKSlyZXR1cm4gZmFsc2U7YT1yLnVuc2V0O2g9ci5zaWxlbnQ7bz1bXTt1PXRoaXMuX2NoYW5naW5nO3RoaXMuX2NoYW5naW5nPXRydWU7aWYoIXUpe3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlcz1pLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7dGhpcy5jaGFuZ2VkPXt9fWM9dGhpcy5hdHRyaWJ1dGVzLGw9dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzO2lmKHRoaXMuaWRBdHRyaWJ1dGUgaW4gbil0aGlzLmlkPW5bdGhpcy5pZEF0dHJpYnV0ZV07Zm9yKHMgaW4gbil7ZT1uW3NdO2lmKCFpLmlzRXF1YWwoY1tzXSxlKSlvLnB1c2gocyk7aWYoIWkuaXNFcXVhbChsW3NdLGUpKXt0aGlzLmNoYW5nZWRbc109ZX1lbHNle2RlbGV0ZSB0aGlzLmNoYW5nZWRbc119YT9kZWxldGUgY1tzXTpjW3NdPWV9aWYoIWgpe2lmKG8ubGVuZ3RoKXRoaXMuX3BlbmRpbmc9cjtmb3IodmFyIGY9MCxkPW8ubGVuZ3RoO2Y8ZDtmKyspe3RoaXMudHJpZ2dlcigiY2hhbmdlOiIrb1tmXSx0aGlzLGNbb1tmXV0scil9fWlmKHUpcmV0dXJuIHRoaXM7aWYoIWgpe3doaWxlKHRoaXMuX3BlbmRpbmcpe3I9dGhpcy5fcGVuZGluZzt0aGlzLl9wZW5kaW5nPWZhbHNlO3RoaXMudHJpZ2dlcigiY2hhbmdlIix0aGlzLHIpfX10aGlzLl9wZW5kaW5nPWZhbHNlO3RoaXMuX2NoYW5naW5nPWZhbHNlO3JldHVybiB0aGlzfSx1bnNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldCh0LHZvaWQgMCxpLmV4dGVuZCh7fSxlLHt1bnNldDp0cnVlfSkpfSxjbGVhcjpmdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIHIgaW4gdGhpcy5hdHRyaWJ1dGVzKWVbcl09dm9pZCAwO3JldHVybiB0aGlzLnNldChlLGkuZXh0ZW5kKHt9LHQse3Vuc2V0OnRydWV9KSl9LGhhc0NoYW5nZWQ6ZnVuY3Rpb24odCl7aWYodD09bnVsbClyZXR1cm4haS5pc0VtcHR5KHRoaXMuY2hhbmdlZCk7cmV0dXJuIGkuaGFzKHRoaXMuY2hhbmdlZCx0KX0sY2hhbmdlZEF0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpP2kuY2xvbmUodGhpcy5jaGFuZ2VkKTpmYWxzZTt2YXIgZSxyPWZhbHNlO3ZhciBzPXRoaXMuX2NoYW5naW5nP3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlczp0aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBuIGluIHQpe2lmKGkuaXNFcXVhbChzW25dLGU9dFtuXSkpY29udGludWU7KHJ8fChyPXt9KSlbbl09ZX1yZXR1cm4gcn0scHJldmlvdXM6ZnVuY3Rpb24odCl7aWYodD09bnVsbHx8IXRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcylyZXR1cm4gbnVsbDtyZXR1cm4gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW3RdfSxwcmV2aW91c0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gaS5jbG9uZSh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpfSxmZXRjaDpmdW5jdGlvbih0KXt0PXQ/aS5jbG9uZSh0KTp7fTtpZih0LnBhcnNlPT09dm9pZCAwKXQucGFyc2U9dHJ1ZTt2YXIgZT10aGlzO3ZhciByPXQuc3VjY2Vzczt0LnN1Y2Nlc3M9ZnVuY3Rpb24oaSl7aWYoIWUuc2V0KGUucGFyc2UoaSx0KSx0KSlyZXR1cm4gZmFsc2U7aWYocilyKGUsaSx0KTtlLnRyaWdnZXIoInN5bmMiLGUsaSx0KX07cSh0aGlzLHQpO3JldHVybiB0aGlzLnN5bmMoInJlYWQiLHRoaXMsdCl9LHNhdmU6ZnVuY3Rpb24odCxlLHIpe3ZhciBzLG4sYSxvPXRoaXMuYXR0cmlidXRlcztpZih0PT1udWxsfHx0eXBlb2YgdD09PSJvYmplY3QiKXtzPXQ7cj1lfWVsc2V7KHM9e30pW3RdPWV9cj1pLmV4dGVuZCh7dmFsaWRhdGU6dHJ1ZX0scik7aWYocyYmIXIud2FpdCl7aWYoIXRoaXMuc2V0KHMscikpcmV0dXJuIGZhbHNlfWVsc2V7aWYoIXRoaXMuX3ZhbGlkYXRlKHMscikpcmV0dXJuIGZhbHNlfWlmKHMmJnIud2FpdCl7dGhpcy5hdHRyaWJ1dGVzPWkuZXh0ZW5kKHt9LG8scyl9aWYoci5wYXJzZT09PXZvaWQgMClyLnBhcnNlPXRydWU7dmFyIGg9dGhpczt2YXIgdT1yLnN1Y2Nlc3M7ci5zdWNjZXNzPWZ1bmN0aW9uKHQpe2guYXR0cmlidXRlcz1vO3ZhciBlPWgucGFyc2UodCxyKTtpZihyLndhaXQpZT1pLmV4dGVuZChzfHx7fSxlKTtpZihpLmlzT2JqZWN0KGUpJiYhaC5zZXQoZSxyKSl7cmV0dXJuIGZhbHNlfWlmKHUpdShoLHQscik7aC50cmlnZ2VyKCJzeW5jIixoLHQscil9O3EodGhpcyxyKTtuPXRoaXMuaXNOZXcoKT8iY3JlYXRlIjpyLnBhdGNoPyJwYXRjaCI6InVwZGF0ZSI7aWYobj09PSJwYXRjaCIpci5hdHRycz1zO2E9dGhpcy5zeW5jKG4sdGhpcyxyKTtpZihzJiZyLndhaXQpdGhpcy5hdHRyaWJ1dGVzPW87cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24odCl7dD10P2kuY2xvbmUodCk6e307dmFyIGU9dGhpczt2YXIgcj10LnN1Y2Nlc3M7dmFyIHM9ZnVuY3Rpb24oKXtlLnRyaWdnZXIoImRlc3Ryb3kiLGUsZS5jb2xsZWN0aW9uLHQpfTt0LnN1Y2Nlc3M9ZnVuY3Rpb24oaSl7aWYodC53YWl0fHxlLmlzTmV3KCkpcygpO2lmKHIpcihlLGksdCk7aWYoIWUuaXNOZXcoKSllLnRyaWdnZXIoInN5bmMiLGUsaSx0KX07aWYodGhpcy5pc05ldygpKXt0LnN1Y2Nlc3MoKTtyZXR1cm4gZmFsc2V9cSh0aGlzLHQpO3ZhciBuPXRoaXMuc3luYygiZGVsZXRlIix0aGlzLHQpO2lmKCF0LndhaXQpcygpO3JldHVybiBufSx1cmw6ZnVuY3Rpb24oKXt2YXIgdD1pLnJlc3VsdCh0aGlzLCJ1cmxSb290Iil8fGkucmVzdWx0KHRoaXMuY29sbGVjdGlvbiwidXJsIil8fE0oKTtpZih0aGlzLmlzTmV3KCkpcmV0dXJuIHQ7cmV0dXJuIHQucmVwbGFjZSgvKFteXC9dKSQvLCIkMS8iKStlbmNvZGVVUklDb21wb25lbnQodGhpcy5pZCl9LHBhcnNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlcyl9LGlzTmV3OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaGFzKHRoaXMuaWRBdHRyaWJ1dGUpfSxpc1ZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWxpZGF0ZSh7fSxpLmV4dGVuZCh0fHx7fSx7dmFsaWRhdGU6dHJ1ZX0pKX0sX3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7aWYoIWUudmFsaWRhdGV8fCF0aGlzLnZhbGlkYXRlKXJldHVybiB0cnVlO3Q9aS5leHRlbmQoe30sdGhpcy5hdHRyaWJ1dGVzLHQpO3ZhciByPXRoaXMudmFsaWRhdGlvbkVycm9yPXRoaXMudmFsaWRhdGUodCxlKXx8bnVsbDtpZighcilyZXR1cm4gdHJ1ZTt0aGlzLnRyaWdnZXIoImludmFsaWQiLHRoaXMscixpLmV4dGVuZChlLHt2YWxpZGF0aW9uRXJyb3I6cn0pKTtyZXR1cm4gZmFsc2V9fSk7dmFyIHY9WyJrZXlzIiwidmFsdWVzIiwicGFpcnMiLCJpbnZlcnQiLCJwaWNrIiwib21pdCJdO2kuZWFjaCh2LGZ1bmN0aW9uKHQpe3AucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIGU9by5jYWxsKGFyZ3VtZW50cyk7ZS51bnNoaWZ0KHRoaXMuYXR0cmlidXRlcyk7cmV0dXJuIGlbdF0uYXBwbHkoaSxlKX19KTt2YXIgZz1lLkNvbGxlY3Rpb249ZnVuY3Rpb24odCxlKXtlfHwoZT17fSk7aWYoZS5tb2RlbCl0aGlzLm1vZGVsPWUubW9kZWw7aWYoZS5jb21wYXJhdG9yIT09dm9pZCAwKXRoaXMuY29tcGFyYXRvcj1lLmNvbXBhcmF0b3I7dGhpcy5fcmVzZXQoKTt0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHQpdGhpcy5yZXNldCh0LGkuZXh0ZW5kKHtzaWxlbnQ6dHJ1ZX0sZSkpfTt2YXIgbT17YWRkOnRydWUscmVtb3ZlOnRydWUsbWVyZ2U6dHJ1ZX07dmFyIHk9e2FkZDp0cnVlLHJlbW92ZTpmYWxzZX07aS5leHRlbmQoZy5wcm90b3R5cGUsdSx7bW9kZWw6cCxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvSlNPTih0KX0pfSxzeW5jOmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldCh0LGkuZXh0ZW5kKHttZXJnZTpmYWxzZX0sZSx5KSl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3ZhciByPSFpLmlzQXJyYXkodCk7dD1yP1t0XTppLmNsb25lKHQpO2V8fChlPXt9KTt2YXIgcyxuLGEsbztmb3Iocz0wLG49dC5sZW5ndGg7czxuO3MrKyl7bz10W3NdPXRoaXMuZ2V0KHRbc10pO2lmKCFvKWNvbnRpbnVlO2RlbGV0ZSB0aGlzLl9ieUlkW28uaWRdO2RlbGV0ZSB0aGlzLl9ieUlkW28uY2lkXTthPXRoaXMuaW5kZXhPZihvKTt0aGlzLm1vZGVscy5zcGxpY2UoYSwxKTt0aGlzLmxlbmd0aC0tO2lmKCFlLnNpbGVudCl7ZS5pbmRleD1hO28udHJpZ2dlcigicmVtb3ZlIixvLHRoaXMsZSl9dGhpcy5fcmVtb3ZlUmVmZXJlbmNlKG8sZSl9cmV0dXJuIHI/dFswXTp0fSxzZXQ6ZnVuY3Rpb24odCxlKXtlPWkuZGVmYXVsdHMoe30sZSxtKTtpZihlLnBhcnNlKXQ9dGhpcy5wYXJzZSh0LGUpO3ZhciByPSFpLmlzQXJyYXkodCk7dD1yP3Q/W3RdOltdOmkuY2xvbmUodCk7dmFyIHMsbixhLG8saCx1LGw7dmFyIGM9ZS5hdDt2YXIgZj10aGlzLm1vZGVsO3ZhciBkPXRoaXMuY29tcGFyYXRvciYmYz09bnVsbCYmZS5zb3J0IT09ZmFsc2U7dmFyIHY9aS5pc1N0cmluZyh0aGlzLmNvbXBhcmF0b3IpP3RoaXMuY29tcGFyYXRvcjpudWxsO3ZhciBnPVtdLHk9W10sXz17fTt2YXIgYj1lLmFkZCx3PWUubWVyZ2UseD1lLnJlbW92ZTt2YXIgRT0hZCYmYiYmeD9bXTpmYWxzZTtmb3Iocz0wLG49dC5sZW5ndGg7czxuO3MrKyl7aD10W3NdfHx7fTtpZihoIGluc3RhbmNlb2YgcCl7YT1vPWh9ZWxzZXthPWhbZi5wcm90b3R5cGUuaWRBdHRyaWJ1dGV8fCJpZCJdfWlmKHU9dGhpcy5nZXQoYSkpe2lmKHgpX1t1LmNpZF09dHJ1ZTtpZih3KXtoPWg9PT1vP28uYXR0cmlidXRlczpoO2lmKGUucGFyc2UpaD11LnBhcnNlKGgsZSk7dS5zZXQoaCxlKTtpZihkJiYhbCYmdS5oYXNDaGFuZ2VkKHYpKWw9dHJ1ZX10W3NdPXV9ZWxzZSBpZihiKXtvPXRbc109dGhpcy5fcHJlcGFyZU1vZGVsKGgsZSk7aWYoIW8pY29udGludWU7Zy5wdXNoKG8pO3RoaXMuX2FkZFJlZmVyZW5jZShvLGUpfW89dXx8bztpZihFJiYoby5pc05ldygpfHwhX1tvLmlkXSkpRS5wdXNoKG8pO19bby5pZF09dHJ1ZX1pZih4KXtmb3Iocz0wLG49dGhpcy5sZW5ndGg7czxuOysrcyl7aWYoIV9bKG89dGhpcy5tb2RlbHNbc10pLmNpZF0peS5wdXNoKG8pfWlmKHkubGVuZ3RoKXRoaXMucmVtb3ZlKHksZSl9aWYoZy5sZW5ndGh8fEUmJkUubGVuZ3RoKXtpZihkKWw9dHJ1ZTt0aGlzLmxlbmd0aCs9Zy5sZW5ndGg7aWYoYyE9bnVsbCl7Zm9yKHM9MCxuPWcubGVuZ3RoO3M8bjtzKyspe3RoaXMubW9kZWxzLnNwbGljZShjK3MsMCxnW3NdKX19ZWxzZXtpZihFKXRoaXMubW9kZWxzLmxlbmd0aD0wO3ZhciBrPUV8fGc7Zm9yKHM9MCxuPWsubGVuZ3RoO3M8bjtzKyspe3RoaXMubW9kZWxzLnB1c2goa1tzXSl9fX1pZihsKXRoaXMuc29ydCh7c2lsZW50OnRydWV9KTtpZighZS5zaWxlbnQpe2ZvcihzPTAsbj1nLmxlbmd0aDtzPG47cysrKXsobz1nW3NdKS50cmlnZ2VyKCJhZGQiLG8sdGhpcyxlKX1pZihsfHxFJiZFLmxlbmd0aCl0aGlzLnRyaWdnZXIoInNvcnQiLHRoaXMsZSl9cmV0dXJuIHI/dFswXTp0fSxyZXNldDpmdW5jdGlvbih0LGUpe2V8fChlPXt9KTtmb3IodmFyIHI9MCxzPXRoaXMubW9kZWxzLmxlbmd0aDtyPHM7cisrKXt0aGlzLl9yZW1vdmVSZWZlcmVuY2UodGhpcy5tb2RlbHNbcl0sZSl9ZS5wcmV2aW91c01vZGVscz10aGlzLm1vZGVsczt0aGlzLl9yZXNldCgpO3Q9dGhpcy5hZGQodCxpLmV4dGVuZCh7c2lsZW50OnRydWV9LGUpKTtpZighZS5zaWxlbnQpdGhpcy50cmlnZ2VyKCJyZXNldCIsdGhpcyxlKTtyZXR1cm4gdH0scHVzaDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCh0LGkuZXh0ZW5kKHthdDp0aGlzLmxlbmd0aH0sZSkpfSxwb3A6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hdCh0aGlzLmxlbmd0aC0xKTt0aGlzLnJlbW92ZShlLHQpO3JldHVybiBlfSx1bnNoaWZ0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkKHQsaS5leHRlbmQoe2F0OjB9LGUpKX0sc2hpZnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hdCgwKTt0aGlzLnJlbW92ZShlLHQpO3JldHVybiBlfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMubW9kZWxzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbih0KXtpZih0PT1udWxsKXJldHVybiB2b2lkIDA7cmV0dXJuIHRoaXMuX2J5SWRbdF18fHRoaXMuX2J5SWRbdC5pZF18fHRoaXMuX2J5SWRbdC5jaWRdfSxhdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tb2RlbHNbdF19LHdoZXJlOmZ1bmN0aW9uKHQsZSl7aWYoaS5pc0VtcHR5KHQpKXJldHVybiBlP3ZvaWQgMDpbXTtyZXR1cm4gdGhpc1tlPyJmaW5kIjoiZmlsdGVyIl0oZnVuY3Rpb24oZSl7Zm9yKHZhciBpIGluIHQpe2lmKHRbaV0hPT1lLmdldChpKSlyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9KX0sZmluZFdoZXJlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndoZXJlKHQsdHJ1ZSl9LHNvcnQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuY29tcGFyYXRvcil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBzb3J0IGEgc2V0IHdpdGhvdXQgYSBjb21wYXJhdG9yIik7dHx8KHQ9e30pO2lmKGkuaXNTdHJpbmcodGhpcy5jb21wYXJhdG9yKXx8dGhpcy5jb21wYXJhdG9yLmxlbmd0aD09PTEpe3RoaXMubW9kZWxzPXRoaXMuc29ydEJ5KHRoaXMuY29tcGFyYXRvcix0aGlzKX1lbHNle3RoaXMubW9kZWxzLnNvcnQoaS5iaW5kKHRoaXMuY29tcGFyYXRvcix0aGlzKSl9aWYoIXQuc2lsZW50KXRoaXMudHJpZ2dlcigic29ydCIsdGhpcyx0KTtyZXR1cm4gdGhpc30scGx1Y2s6ZnVuY3Rpb24odCl7cmV0dXJuIGkuaW52b2tlKHRoaXMubW9kZWxzLCJnZXQiLHQpfSxmZXRjaDpmdW5jdGlvbih0KXt0PXQ/aS5jbG9uZSh0KTp7fTtpZih0LnBhcnNlPT09dm9pZCAwKXQucGFyc2U9dHJ1ZTt2YXIgZT10LnN1Y2Nlc3M7dmFyIHI9dGhpczt0LnN1Y2Nlc3M9ZnVuY3Rpb24oaSl7dmFyIHM9dC5yZXNldD8icmVzZXQiOiJzZXQiO3Jbc10oaSx0KTtpZihlKWUocixpLHQpO3IudHJpZ2dlcigic3luYyIscixpLHQpfTtxKHRoaXMsdCk7cmV0dXJuIHRoaXMuc3luYygicmVhZCIsdGhpcyx0KX0sY3JlYXRlOmZ1bmN0aW9uKHQsZSl7ZT1lP2kuY2xvbmUoZSk6e307aWYoISh0PXRoaXMuX3ByZXBhcmVNb2RlbCh0LGUpKSlyZXR1cm4gZmFsc2U7aWYoIWUud2FpdCl0aGlzLmFkZCh0LGUpO3ZhciByPXRoaXM7dmFyIHM9ZS5zdWNjZXNzO2Uuc3VjY2Vzcz1mdW5jdGlvbih0LGkpe2lmKGUud2FpdClyLmFkZCh0LGUpO2lmKHMpcyh0LGksZSl9O3Quc2F2ZShudWxsLGUpO3JldHVybiB0fSxwYXJzZTpmdW5jdGlvbih0LGUpe3JldHVybiB0fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLm1vZGVscyl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMubGVuZ3RoPTA7dGhpcy5tb2RlbHM9W107dGhpcy5fYnlJZD17fX0sX3ByZXBhcmVNb2RlbDpmdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBwKXJldHVybiB0O2U9ZT9pLmNsb25lKGUpOnt9O2UuY29sbGVjdGlvbj10aGlzO3ZhciByPW5ldyB0aGlzLm1vZGVsKHQsZSk7aWYoIXIudmFsaWRhdGlvbkVycm9yKXJldHVybiByO3RoaXMudHJpZ2dlcigiaW52YWxpZCIsdGhpcyxyLnZhbGlkYXRpb25FcnJvcixlKTtyZXR1cm4gZmFsc2V9LF9hZGRSZWZlcmVuY2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9ieUlkW3QuY2lkXT10O2lmKHQuaWQhPW51bGwpdGhpcy5fYnlJZFt0LmlkXT10O2lmKCF0LmNvbGxlY3Rpb24pdC5jb2xsZWN0aW9uPXRoaXM7dC5vbigiYWxsIix0aGlzLl9vbk1vZGVsRXZlbnQsdGhpcyl9LF9yZW1vdmVSZWZlcmVuY2U6ZnVuY3Rpb24odCxlKXtpZih0aGlzPT09dC5jb2xsZWN0aW9uKWRlbGV0ZSB0LmNvbGxlY3Rpb247dC5vZmYoImFsbCIsdGhpcy5fb25Nb2RlbEV2ZW50LHRoaXMpfSxfb25Nb2RlbEV2ZW50OmZ1bmN0aW9uKHQsZSxpLHIpe2lmKCh0PT09ImFkZCJ8fHQ9PT0icmVtb3ZlIikmJmkhPT10aGlzKXJldHVybjtpZih0PT09ImRlc3Ryb3kiKXRoaXMucmVtb3ZlKGUscik7aWYoZSYmdD09PSJjaGFuZ2U6IitlLmlkQXR0cmlidXRlKXtkZWxldGUgdGhpcy5fYnlJZFtlLnByZXZpb3VzKGUuaWRBdHRyaWJ1dGUpXTtpZihlLmlkIT1udWxsKXRoaXMuX2J5SWRbZS5pZF09ZX10aGlzLnRyaWdnZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciBfPVsiZm9yRWFjaCIsImVhY2giLCJtYXAiLCJjb2xsZWN0IiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbHRlciIsInNlbGVjdCIsInJlamVjdCIsImV2ZXJ5IiwiYWxsIiwic29tZSIsImFueSIsImluY2x1ZGUiLCJjb250YWlucyIsImludm9rZSIsIm1heCIsIm1pbiIsInRvQXJyYXkiLCJzaXplIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJyZXN0IiwidGFpbCIsImRyb3AiLCJsYXN0Iiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJpbmRleE9mIiwic2h1ZmZsZSIsImxhc3RJbmRleE9mIiwiaXNFbXB0eSIsImNoYWluIiwic2FtcGxlIl07aS5lYWNoKF8sZnVuY3Rpb24odCl7Zy5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwoYXJndW1lbnRzKTtlLnVuc2hpZnQodGhpcy5tb2RlbHMpO3JldHVybiBpW3RdLmFwcGx5KGksZSl9fSk7dmFyIGI9WyJncm91cEJ5IiwiY291bnRCeSIsInNvcnRCeSIsImluZGV4QnkiXTtpLmVhY2goYixmdW5jdGlvbih0KXtnLnByb3RvdHlwZVt0XT1mdW5jdGlvbihlLHIpe3ZhciBzPWkuaXNGdW5jdGlvbihlKT9lOmZ1bmN0aW9uKHQpe3JldHVybiB0LmdldChlKX07cmV0dXJuIGlbdF0odGhpcy5tb2RlbHMscyxyKX19KTt2YXIgdz1lLlZpZXc9ZnVuY3Rpb24odCl7dGhpcy5jaWQ9aS51bmlxdWVJZCgidmlldyIpO3R8fCh0PXt9KTtpLmV4dGVuZCh0aGlzLGkucGljayh0LEUpKTt0aGlzLl9lbnN1cmVFbGVtZW50KCk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRlbGVnYXRlRXZlbnRzKCl9O3ZhciB4PS9eKFxTKylccyooLiopJC87dmFyIEU9WyJtb2RlbCIsImNvbGxlY3Rpb24iLCJlbCIsImlkIiwiYXR0cmlidXRlcyIsImNsYXNzTmFtZSIsInRhZ05hbWUiLCJldmVudHMiXTtpLmV4dGVuZCh3LnByb3RvdHlwZSx1LHt0YWdOYW1lOiJkaXYiLCQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuJGVsLmZpbmQodCl9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLiRlbC5yZW1vdmUoKTt0aGlzLnN0b3BMaXN0ZW5pbmcoKTtyZXR1cm4gdGhpc30sc2V0RWxlbWVudDpmdW5jdGlvbih0LGkpe2lmKHRoaXMuJGVsKXRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO3RoaXMuJGVsPXQgaW5zdGFuY2VvZiBlLiQ/dDplLiQodCk7dGhpcy5lbD10aGlzLiRlbFswXTtpZihpIT09ZmFsc2UpdGhpcy5kZWxlZ2F0ZUV2ZW50cygpO3JldHVybiB0aGlzfSxkZWxlZ2F0ZUV2ZW50czpmdW5jdGlvbih0KXtpZighKHR8fCh0PWkucmVzdWx0KHRoaXMsImV2ZW50cyIpKSkpcmV0dXJuIHRoaXM7dGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7Zm9yKHZhciBlIGluIHQpe3ZhciByPXRbZV07aWYoIWkuaXNGdW5jdGlvbihyKSlyPXRoaXNbdFtlXV07aWYoIXIpY29udGludWU7dmFyIHM9ZS5tYXRjaCh4KTt2YXIgbj1zWzFdLGE9c1syXTtyPWkuYmluZChyLHRoaXMpO24rPSIuZGVsZWdhdGVFdmVudHMiK3RoaXMuY2lkO2lmKGE9PT0iIil7dGhpcy4kZWwub24obixyKX1lbHNle3RoaXMuJGVsLm9uKG4sYSxyKX19cmV0dXJuIHRoaXN9LHVuZGVsZWdhdGVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLiRlbC5vZmYoIi5kZWxlZ2F0ZUV2ZW50cyIrdGhpcy5jaWQpO3JldHVybiB0aGlzfSxfZW5zdXJlRWxlbWVudDpmdW5jdGlvbigpe2lmKCF0aGlzLmVsKXt2YXIgdD1pLmV4dGVuZCh7fSxpLnJlc3VsdCh0aGlzLCJhdHRyaWJ1dGVzIikpO2lmKHRoaXMuaWQpdC5pZD1pLnJlc3VsdCh0aGlzLCJpZCIpO2lmKHRoaXMuY2xhc3NOYW1lKXRbImNsYXNzIl09aS5yZXN1bHQodGhpcywiY2xhc3NOYW1lIik7dmFyIHI9ZS4kKCI8IitpLnJlc3VsdCh0aGlzLCJ0YWdOYW1lIikrIj4iKS5hdHRyKHQpO3RoaXMuc2V0RWxlbWVudChyLGZhbHNlKX1lbHNle3RoaXMuc2V0RWxlbWVudChpLnJlc3VsdCh0aGlzLCJlbCIpLGZhbHNlKX19fSk7ZS5zeW5jPWZ1bmN0aW9uKHQscixzKXt2YXIgbj1UW3RdO2kuZGVmYXVsdHMoc3x8KHM9e30pLHtlbXVsYXRlSFRUUDplLmVtdWxhdGVIVFRQLGVtdWxhdGVKU09OOmUuZW11bGF0ZUpTT059KTt2YXIgYT17dHlwZTpuLGRhdGFUeXBlOiJqc29uIn07aWYoIXMudXJsKXthLnVybD1pLnJlc3VsdChyLCJ1cmwiKXx8TSgpfWlmKHMuZGF0YT09bnVsbCYmciYmKHQ9PT0iY3JlYXRlInx8dD09PSJ1cGRhdGUifHx0PT09InBhdGNoIikpe2EuY29udGVudFR5cGU9ImFwcGxpY2F0aW9uL2pzb24iO2EuZGF0YT1KU09OLnN0cmluZ2lmeShzLmF0dHJzfHxyLnRvSlNPTihzKSl9aWYocy5lbXVsYXRlSlNPTil7YS5jb250ZW50VHlwZT0iYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIjthLmRhdGE9YS5kYXRhP3ttb2RlbDphLmRhdGF9Ont9fWlmKHMuZW11bGF0ZUhUVFAmJihuPT09IlBVVCJ8fG49PT0iREVMRVRFInx8bj09PSJQQVRDSCIpKXthLnR5cGU9IlBPU1QiO2lmKHMuZW11bGF0ZUpTT04pYS5kYXRhLl9tZXRob2Q9bjt2YXIgbz1zLmJlZm9yZVNlbmQ7cy5iZWZvcmVTZW5kPWZ1bmN0aW9uKHQpe3Quc2V0UmVxdWVzdEhlYWRlcigiWC1IVFRQLU1ldGhvZC1PdmVycmlkZSIsbik7aWYobylyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWlmKGEudHlwZSE9PSJHRVQiJiYhcy5lbXVsYXRlSlNPTil7YS5wcm9jZXNzRGF0YT1mYWxzZX1pZihhLnR5cGU9PT0iUEFUQ0giJiZrKXthLnhocj1mdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX19dmFyIGg9cy54aHI9ZS5hamF4KGkuZXh0ZW5kKGEscykpO3IudHJpZ2dlcigicmVxdWVzdCIscixoLHMpO3JldHVybiBofTt2YXIgaz10eXBlb2Ygd2luZG93IT09InVuZGVmaW5lZCImJiEhd2luZG93LkFjdGl2ZVhPYmplY3QmJiEod2luZG93LlhNTEh0dHBSZXF1ZXN0JiYobmV3IFhNTEh0dHBSZXF1ZXN0KS5kaXNwYXRjaEV2ZW50KTt2YXIgVD17Y3JlYXRlOiJQT1NUIix1cGRhdGU6IlBVVCIscGF0Y2g6IlBBVENIIiwiZGVsZXRlIjoiREVMRVRFIixyZWFkOiJHRVQifTtlLmFqYXg9ZnVuY3Rpb24oKXtyZXR1cm4gZS4kLmFqYXguYXBwbHkoZS4kLGFyZ3VtZW50cyl9O3ZhciAkPWUuUm91dGVyPWZ1bmN0aW9uKHQpe3R8fCh0PXt9KTtpZih0LnJvdXRlcyl0aGlzLnJvdXRlcz10LnJvdXRlczt0aGlzLl9iaW5kUm91dGVzKCk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIFM9L1woKC4qPylcKS9nO3ZhciBIPS8oXChcPyk/Olx3Ky9nO3ZhciBBPS9cKlx3Ky9nO3ZhciBJPS9bXC17fVxbXF0rPy4sXFxcXiR8I1xzXS9nO2kuZXh0ZW5kKCQucHJvdG90eXBlLHUse2luaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHJvdXRlOmZ1bmN0aW9uKHQscixzKXtpZighaS5pc1JlZ0V4cCh0KSl0PXRoaXMuX3JvdXRlVG9SZWdFeHAodCk7aWYoaS5pc0Z1bmN0aW9uKHIpKXtzPXI7cj0iIn1pZighcylzPXRoaXNbcl07dmFyIG49dGhpcztlLmhpc3Rvcnkucm91dGUodCxmdW5jdGlvbihpKXt2YXIgYT1uLl9leHRyYWN0UGFyYW1ldGVycyh0LGkpO24uZXhlY3V0ZShzLGEpO24udHJpZ2dlci5hcHBseShuLFsicm91dGU6IityXS5jb25jYXQoYSkpO24udHJpZ2dlcigicm91dGUiLHIsYSk7ZS5oaXN0b3J5LnRyaWdnZXIoInJvdXRlIixuLHIsYSl9KTtyZXR1cm4gdGhpc30sZXhlY3V0ZTpmdW5jdGlvbih0LGUpe2lmKHQpdC5hcHBseSh0aGlzLGUpfSxuYXZpZ2F0ZTpmdW5jdGlvbih0LGkpe2UuaGlzdG9yeS5uYXZpZ2F0ZSh0LGkpO3JldHVybiB0aGlzfSxfYmluZFJvdXRlczpmdW5jdGlvbigpe2lmKCF0aGlzLnJvdXRlcylyZXR1cm47dGhpcy5yb3V0ZXM9aS5yZXN1bHQodGhpcywicm91dGVzIik7dmFyIHQsZT1pLmtleXModGhpcy5yb3V0ZXMpO3doaWxlKCh0PWUucG9wKCkpIT1udWxsKXt0aGlzLnJvdXRlKHQsdGhpcy5yb3V0ZXNbdF0pfX0sX3JvdXRlVG9SZWdFeHA6ZnVuY3Rpb24odCl7dD10LnJlcGxhY2UoSSwiXFwkJiIpLnJlcGxhY2UoUywiKD86JDEpPyIpLnJlcGxhY2UoSCxmdW5jdGlvbih0LGUpe3JldHVybiBlP3Q6IihbXi8/XSspIn0pLnJlcGxhY2UoQSwiKFteP10qPykiKTtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrdCsiKD86XFw/KFtcXHNcXFNdKikpPyQiKX0sX2V4dHJhY3RQYXJhbWV0ZXJzOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5leGVjKGUpLnNsaWNlKDEpO3JldHVybiBpLm1hcChyLGZ1bmN0aW9uKHQsZSl7aWYoZT09PXIubGVuZ3RoLTEpcmV0dXJuIHR8fG51bGw7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHQpOm51bGx9KX19KTt2YXIgTj1lLkhpc3Rvcnk9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzPVtdO2kuYmluZEFsbCh0aGlzLCJjaGVja1VybCIpO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7dGhpcy5sb2NhdGlvbj13aW5kb3cubG9jYXRpb247dGhpcy5oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fX07dmFyIFI9L15bI1wvXXxccyskL2c7dmFyIE89L15cLyt8XC8rJC9nO3ZhciBQPS9tc2llIFtcdy5dKy87dmFyIEM9L1wvJC87dmFyIGo9LyMuKiQvO04uc3RhcnRlZD1mYWxzZTtpLmV4dGVuZChOLnByb3RvdHlwZSx1LHtpbnRlcnZhbDo1MCxhdFJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9bXlwvXSQvLCIkJi8iKT09PXRoaXMucm9vdH0sZ2V0SGFzaDpmdW5jdGlvbih0KXt2YXIgZT0odHx8dGhpcykubG9jYXRpb24uaHJlZi5tYXRjaCgvIyguKikkLyk7cmV0dXJuIGU/ZVsxXToiIn0sZ2V0RnJhZ21lbnQ6ZnVuY3Rpb24odCxlKXtpZih0PT1udWxsKXtpZih0aGlzLl9oYXNQdXNoU3RhdGV8fCF0aGlzLl93YW50c0hhc2hDaGFuZ2V8fGUpe3Q9ZGVjb2RlVVJJKHRoaXMubG9jYXRpb24ucGF0aG5hbWUrdGhpcy5sb2NhdGlvbi5zZWFyY2gpO3ZhciBpPXRoaXMucm9vdC5yZXBsYWNlKEMsIiIpO2lmKCF0LmluZGV4T2YoaSkpdD10LnNsaWNlKGkubGVuZ3RoKX1lbHNle3Q9dGhpcy5nZXRIYXNoKCl9fXJldHVybiB0LnJlcGxhY2UoUiwiIil9LHN0YXJ0OmZ1bmN0aW9uKHQpe2lmKE4uc3RhcnRlZCl0aHJvdyBuZXcgRXJyb3IoIkJhY2tib25lLmhpc3RvcnkgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIik7Ti5zdGFydGVkPXRydWU7dGhpcy5vcHRpb25zPWkuZXh0ZW5kKHtyb290OiIvIn0sdGhpcy5vcHRpb25zLHQpO3RoaXMucm9vdD10aGlzLm9wdGlvbnMucm9vdDt0aGlzLl93YW50c0hhc2hDaGFuZ2U9dGhpcy5vcHRpb25zLmhhc2hDaGFuZ2UhPT1mYWxzZTt0aGlzLl93YW50c1B1c2hTdGF0ZT0hIXRoaXMub3B0aW9ucy5wdXNoU3RhdGU7dGhpcy5faGFzUHVzaFN0YXRlPSEhKHRoaXMub3B0aW9ucy5wdXNoU3RhdGUmJnRoaXMuaGlzdG9yeSYmdGhpcy5oaXN0b3J5LnB1c2hTdGF0ZSk7dmFyIHI9dGhpcy5nZXRGcmFnbWVudCgpO3ZhciBzPWRvY3VtZW50LmRvY3VtZW50TW9kZTt2YXIgbj1QLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSYmKCFzfHxzPD03KTt0aGlzLnJvb3Q9KCIvIit0aGlzLnJvb3QrIi8iKS5yZXBsYWNlKE8sIi8iKTtpZihuJiZ0aGlzLl93YW50c0hhc2hDaGFuZ2Upe3ZhciBhPWUuJCgnPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6MCIgdGFiaW5kZXg9Ii0xIj4nKTt0aGlzLmlmcmFtZT1hLmhpZGUoKS5hcHBlbmRUbygiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3c7dGhpcy5uYXZpZ2F0ZShyKX1pZih0aGlzLl9oYXNQdXNoU3RhdGUpe2UuJCh3aW5kb3cpLm9uKCJwb3BzdGF0ZSIsdGhpcy5jaGVja1VybCl9ZWxzZSBpZih0aGlzLl93YW50c0hhc2hDaGFuZ2UmJiJvbmhhc2hjaGFuZ2UiaW4gd2luZG93JiYhbil7ZS4kKHdpbmRvdykub24oImhhc2hjaGFuZ2UiLHRoaXMuY2hlY2tVcmwpfWVsc2UgaWYodGhpcy5fd2FudHNIYXNoQ2hhbmdlKXt0aGlzLl9jaGVja1VybEludGVydmFsPXNldEludGVydmFsKHRoaXMuY2hlY2tVcmwsdGhpcy5pbnRlcnZhbCl9dGhpcy5mcmFnbWVudD1yO3ZhciBvPXRoaXMubG9jYXRpb247aWYodGhpcy5fd2FudHNIYXNoQ2hhbmdlJiZ0aGlzLl93YW50c1B1c2hTdGF0ZSl7aWYoIXRoaXMuX2hhc1B1c2hTdGF0ZSYmIXRoaXMuYXRSb290KCkpe3RoaXMuZnJhZ21lbnQ9dGhpcy5nZXRGcmFnbWVudChudWxsLHRydWUpO3RoaXMubG9jYXRpb24ucmVwbGFjZSh0aGlzLnJvb3QrIiMiK3RoaXMuZnJhZ21lbnQpO3JldHVybiB0cnVlfWVsc2UgaWYodGhpcy5faGFzUHVzaFN0YXRlJiZ0aGlzLmF0Um9vdCgpJiZvLmhhc2gpe3RoaXMuZnJhZ21lbnQ9dGhpcy5nZXRIYXNoKCkucmVwbGFjZShSLCIiKTt0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LGRvY3VtZW50LnRpdGxlLHRoaXMucm9vdCt0aGlzLmZyYWdtZW50KX19aWYoIXRoaXMub3B0aW9ucy5zaWxlbnQpcmV0dXJuIHRoaXMubG9hZFVybCgpfSxzdG9wOmZ1bmN0aW9uKCl7ZS4kKHdpbmRvdykub2ZmKCJwb3BzdGF0ZSIsdGhpcy5jaGVja1VybCkub2ZmKCJoYXNoY2hhbmdlIix0aGlzLmNoZWNrVXJsKTtpZih0aGlzLl9jaGVja1VybEludGVydmFsKWNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tVcmxJbnRlcnZhbCk7Ti5zdGFydGVkPWZhbHNlfSxyb3V0ZTpmdW5jdGlvbih0LGUpe3RoaXMuaGFuZGxlcnMudW5zaGlmdCh7cm91dGU6dCxjYWxsYmFjazplfSl9LGNoZWNrVXJsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0RnJhZ21lbnQoKTtpZihlPT09dGhpcy5mcmFnbWVudCYmdGhpcy5pZnJhbWUpe2U9dGhpcy5nZXRGcmFnbWVudCh0aGlzLmdldEhhc2godGhpcy5pZnJhbWUpKX1pZihlPT09dGhpcy5mcmFnbWVudClyZXR1cm4gZmFsc2U7aWYodGhpcy5pZnJhbWUpdGhpcy5uYXZpZ2F0ZShlKTt0aGlzLmxvYWRVcmwoKX0sbG9hZFVybDpmdW5jdGlvbih0KXt0PXRoaXMuZnJhZ21lbnQ9dGhpcy5nZXRGcmFnbWVudCh0KTtyZXR1cm4gaS5hbnkodGhpcy5oYW5kbGVycyxmdW5jdGlvbihlKXtpZihlLnJvdXRlLnRlc3QodCkpe2UuY2FsbGJhY2sodCk7cmV0dXJuIHRydWV9fSl9LG5hdmlnYXRlOmZ1bmN0aW9uKHQsZSl7aWYoIU4uc3RhcnRlZClyZXR1cm4gZmFsc2U7aWYoIWV8fGU9PT10cnVlKWU9e3RyaWdnZXI6ISFlfTt2YXIgaT10aGlzLnJvb3QrKHQ9dGhpcy5nZXRGcmFnbWVudCh0fHwiIikpO3Q9dC5yZXBsYWNlKGosIiIpO2lmKHRoaXMuZnJhZ21lbnQ9PT10KXJldHVybjt0aGlzLmZyYWdtZW50PXQ7aWYodD09PSIiJiZpIT09Ii8iKWk9aS5zbGljZSgwLC0xKTtpZih0aGlzLl9oYXNQdXNoU3RhdGUpe3RoaXMuaGlzdG9yeVtlLnJlcGxhY2U/InJlcGxhY2VTdGF0ZSI6InB1c2hTdGF0ZSJdKHt9LGRvY3VtZW50LnRpdGxlLGkpfWVsc2UgaWYodGhpcy5fd2FudHNIYXNoQ2hhbmdlKXt0aGlzLl91cGRhdGVIYXNoKHRoaXMubG9jYXRpb24sdCxlLnJlcGxhY2UpO2lmKHRoaXMuaWZyYW1lJiZ0IT09dGhpcy5nZXRGcmFnbWVudCh0aGlzLmdldEhhc2godGhpcy5pZnJhbWUpKSl7aWYoIWUucmVwbGFjZSl0aGlzLmlmcmFtZS5kb2N1bWVudC5vcGVuKCkuY2xvc2UoKTt0aGlzLl91cGRhdGVIYXNoKHRoaXMuaWZyYW1lLmxvY2F0aW9uLHQsZS5yZXBsYWNlKX19ZWxzZXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5hc3NpZ24oaSl9aWYoZS50cmlnZ2VyKXJldHVybiB0aGlzLmxvYWRVcmwodCl9LF91cGRhdGVIYXNoOmZ1bmN0aW9uKHQsZSxpKXtpZihpKXt2YXIgcj10LmhyZWYucmVwbGFjZSgvKGphdmFzY3JpcHQ6fCMpLiokLywiIik7dC5yZXBsYWNlKHIrIiMiK2UpfWVsc2V7dC5oYXNoPSIjIitlfX19KTtlLmhpc3Rvcnk9bmV3IE47dmFyIFU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3ZhciBzO2lmKHQmJmkuaGFzKHQsImNvbnN0cnVjdG9yIikpe3M9dC5jb25zdHJ1Y3Rvcn1lbHNle3M9ZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWkuZXh0ZW5kKHMscixlKTt2YXIgbj1mdW5jdGlvbigpe3RoaXMuY29uc3RydWN0b3I9c307bi5wcm90b3R5cGU9ci5wcm90b3R5cGU7cy5wcm90b3R5cGU9bmV3IG47aWYodClpLmV4dGVuZChzLnByb3RvdHlwZSx0KTtzLl9fc3VwZXJfXz1yLnByb3RvdHlwZTtyZXR1cm4gc307cC5leHRlbmQ9Zy5leHRlbmQ9JC5leHRlbmQ9dy5leHRlbmQ9Ti5leHRlbmQ9VTt2YXIgTT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignQSAidXJsIiBwcm9wZXJ0eSBvciBmdW5jdGlvbiBtdXN0IGJlIHNwZWNpZmllZCcpfTt2YXIgcT1mdW5jdGlvbih0LGUpe3ZhciBpPWUuZXJyb3I7ZS5lcnJvcj1mdW5jdGlvbihyKXtpZihpKWkodCxyLGUpO3QudHJpZ2dlcigiZXJyb3IiLHQscixlKX19O3JldHVybiBlfSk7CgovLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5NDMxNTUyCi8vIENvbXBhdGliaWxpdHkgb3ZlcnJpZGUgLSBCYWNrYm9uZSAxLjEgZ290IHJpZCBvZiB0aGUgJ29wdGlvbnMnIGJpbmRpbmcKLy8gYXV0b21hdGljYWxseSB0byB2aWV3cyBpbiB0aGUgY29uc3RydWN0b3IgLSB3ZSBuZWVkIHRvIGtlZXAgdGhhdC4KQmFja2JvbmUuVmlldyA9IChmdW5jdGlvbihWaWV3KSB7CiAgIHJldHVybiBWaWV3LmV4dGVuZCh7CiAgICAgICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgICAgVmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0pOwp9KShCYWNrYm9uZS5WaWV3KTs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887887" offset="0" length="7095" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="145" hostname="10.239.251.82" path="/swagger-static/swagger-ui.js" url="http://10.239.251.82:8080/swagger-static/swagger-ui.js" ip="10.239.251.82" port="8080" connectionId="10" origin="HTML" frame="1" startTime="2972887855" endTime="2972887918">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9zd2FnZ2VyLXVpLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ijc0NGY0ZDgzNGU2ZmE0YzliY2NkMDFkZmVlOTVhMjA2LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTYxMTA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiNzQ0ZjRkODM0ZTZmYTRjOWJjY2QwMWRmZWU5NWEyMDYtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMTYxMTANCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoqCiAqIHN3YWdnZXItdWkgLSBTd2FnZ2VyIFVJIGlzIGEgZGVwZW5kZW5jeS1mcmVlIGNvbGxlY3Rpb24gb2YgSFRNTCwgSmF2YXNjcmlwdCwgYW5kIENTUyBhc3NldHMgdGhhdCBkeW5hbWljYWxseSBnZW5lcmF0ZSBiZWF1dGlmdWwgZG9jdW1lbnRhdGlvbiBmcm9tIGEgU3dhZ2dlci1jb21wbGlhbnQgQVBJCiAqIEB2ZXJzaW9uIHYyLjEuNC1NMQogKiBAbGluayBodHRwOi8vc3dhZ2dlci5pbwogKiBAbGljZW5zZSBBcGFjaGUgMi4wCiAqLwokKGZ1bmN0aW9uKCkgew0KDQoJLy8gSGVscGVyIGZ1bmN0aW9uIGZvciB2ZXJ0aWNhbGx5IGFsaWduaW5nIERPTSBlbGVtZW50cw0KCS8vIGh0dHA6Ly93d3cuc2VvZGVudmVyLmNvbS9zaW1wbGUtdmVydGljYWwtYWxpZ24tcGx1Z2luLWZvci1qcXVlcnkvDQoJJC5mbi52QWxpZ24gPSBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpKXsNCgkJdmFyIGFoID0gJCh0aGlzKS5oZWlnaHQoKTsNCgkJdmFyIHBoID0gJCh0aGlzKS5wYXJlbnQoKS5oZWlnaHQoKTsNCgkJdmFyIG1oID0gKHBoIC0gYWgpIC8gMjsNCgkJJCh0aGlzKS5jc3MoJ21hcmdpbi10b3AnLCBtaCk7DQoJCX0pOw0KCX07DQoNCgkkLmZuLnN0cmV0Y2hGb3JtdGFzdGljSW5wdXRXaWR0aFRvUGFyZW50ID0gZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7DQoJCXZhciBwX3dpZHRoID0gJCh0aGlzKS5jbG9zZXN0KCJmb3JtIikuaW5uZXJXaWR0aCgpOw0KCQl2YXIgcF9wYWRkaW5nID0gcGFyc2VJbnQoJCh0aGlzKS5jbG9zZXN0KCJmb3JtIikuY3NzKCdwYWRkaW5nLWxlZnQnKSAsMTApICsgcGFyc2VJbnQoJCh0aGlzKS5jbG9zZXN0KCJmb3JtIikuY3NzKCdwYWRkaW5nLXJpZ2h0JyksIDEwKTsNCgkJdmFyIHRoaXNfcGFkZGluZyA9IHBhcnNlSW50KCQodGhpcykuY3NzKCdwYWRkaW5nLWxlZnQnKSwgMTApICsgcGFyc2VJbnQoJCh0aGlzKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSwgMTApOw0KCQkkKHRoaXMpLmNzcygnd2lkdGgnLCBwX3dpZHRoIC0gcF9wYWRkaW5nIC0gdGhpc19wYWRkaW5nKTsNCgkJfSk7DQoJfTsNCg0KCSQoJ2Zvcm0uZm9ybXRhc3RpYyBsaS5zdHJpbmcgaW5wdXQsIGZvcm0uZm9ybXRhc3RpYyB0ZXh0YXJlYScpLnN0cmV0Y2hGb3JtdGFzdGljSW5wdXRXaWR0aFRvUGFyZW50KCk7DQoNCgkvLyBWZXJ0aWNhbGx5IGNlbnRlciB0aGVzZSBwYXJhZ3JhcGhzDQoJLy8gUGFyZW50IG1heSBuZWVkIGEgbWluLWhlaWdodCBmb3IgdGhpcyB0byB3b3JrLi4NCgkkKCd1bC5kb3ducGxheWVkIGxpIGRpdi5jb250ZW50IHAnKS52QWxpZ24oKTsNCg0KCS8vIFdoZW4gYSBzYW5kYm94IGZvcm0gaXMgc3VibWl0dGVkLi4NCgkkKCJmb3JtLnNhbmRib3giKS5zdWJtaXQoZnVuY3Rpb24oKXsNCg0KCQl2YXIgZXJyb3JfZnJlZSA9IHRydWU7DQoNCgkJLy8gQ3ljbGUgdGhyb3VnaCB0aGUgZm9ybXMgcmVxdWlyZWQgaW5wdXRzDQogCQkkKHRoaXMpLmZpbmQoImlucHV0LnJlcXVpcmVkIikuZWFjaChmdW5jdGlvbigpIHsNCg0KCQkJLy8gUmVtb3ZlIGFueSBleGlzdGluZyBlcnJvciBzdHlsZXMgZnJvbSB0aGUgaW5wdXQNCgkJCSQodGhpcykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7DQoNCgkJCS8vIFRhY2sgdGhlIGVycm9yIHN0eWxlIG9uIGlmIHRoZSBpbnB1dCBpcyBlbXB0eS4uDQoJCQlpZiAoJCh0aGlzKS52YWwoKSA9PSAnJykgew0KCQkJCSQodGhpcykuYWRkQ2xhc3MoJ2Vycm9yJyk7DQoJCQkJJCh0aGlzKS53aWdnbGUoKTsNCgkJCQllcnJvcl9mcmVlID0gZmFsc2U7DQoJCQl9DQoNCgkJfSk7DQoNCgkJcmV0dXJuIGVycm9yX2ZyZWU7DQoJfSk7DQoNCn0pOw0KDQpmdW5jdGlvbiBjbGlwcHlDb3BpZWRDYWxsYmFjayhhKSB7DQogICQoJyNhcGlfa2V5X2NvcGllZCcpLmZhZGVJbigpLmRlbGF5KDEwMDApLmZhZGVPdXQoKTsNCg0KICAvLyB2YXIgYiA9ICQoIiNjbGlwcHlfdG9vbHRpcF8iICsgYSk7DQogIC8vIGIubGVuZ3RoICE9IDAgJiYgKGIuYXR0cigidGl0bGUiLCAiY29waWVkISIpLnRyaWdnZXIoInRpcHN5LnJlbG9hZCIpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAvLyAgIGIuYXR0cigidGl0bGUiLCAiY29weSB0byBjbGlwYm9hcmQiKQ0KICAvLyB9LA0KICAvLyA1MDApKQ0KfQ0KDQovLyBMb2dnaW5nIGZ1bmN0aW9uIHRoYXQgYWNjb3VudHMgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgaGF2ZSB3aW5kb3cuY29uc29sZQ0KbG9nID0gZnVuY3Rpb24oKXsNCiAgbG9nLmhpc3RvcnkgPSBsb2cuaGlzdG9yeSB8fCBbXTsNCiAgbG9nLmhpc3RvcnkucHVzaChhcmd1bWVudHMpOw0KICBpZih0aGlzLmNvbnNvbGUpew0KICAgIGNvbnNvbGUubG9nKCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpWzBdICk7DQogIH0NCn07DQoNCi8vIEhhbmRsZSBicm93c2VycyB0aGF0IGRvIGNvbnNvbGUgaW5jb3JyZWN0bHkgKElFOSBhbmQgYmVsb3csIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NTM5Mzc4Lzc5MTMpDQppZiAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgJiYgY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5sb2cgPT0gIm9iamVjdCIpIHsNCiAgICBbDQogICAgICAibG9nIiwiaW5mbyIsIndhcm4iLCJlcnJvciIsImFzc2VydCIsImRpciIsImNsZWFyIiwicHJvZmlsZSIsInByb2ZpbGVFbmQiDQogICAgXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsNCiAgICAgICAgY29uc29sZVttZXRob2RdID0gdGhpcy5iaW5kKGNvbnNvbGVbbWV0aG9kXSwgY29uc29sZSk7DQogICAgfSwgRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwpOw0KfQ0KDQp2YXIgRG9jcyA9IHsNCg0KCXNoZWJhbmc6IGZ1bmN0aW9uKCkgew0KDQoJCS8vIElmIHNoZWJhbmcgaGFzIGFuIG9wZXJhdGlvbiBuaWNrbmFtZSBpbiBpdC4uDQoJCS8vIGUuZy4gL2RvY3MvIyEvd29yZHMvZ2V0X3NlYXJjaA0KCQl2YXIgZnJhZ21lbnRzID0gJC5wYXJhbS5mcmFnbWVudCgpLnNwbGl0KCcvJyk7DQoJCWZyYWdtZW50cy5zaGlmdCgpOyAvLyBnZXQgcmlkIG9mIHRoZSBiYW5nDQoNCgkJc3dpdGNoIChmcmFnbWVudHMubGVuZ3RoKSB7DQoJCQljYXNlIDE6DQoJCQkJLy8gRXhwYW5kIGFsbCBvcGVyYXRpb25zIGZvciB0aGUgcmVzb3VyY2UgYW5kIHNjcm9sbCB0byBpdA0KCQkJCXZhciBkb21faWQgPSAncmVzb3VyY2VfJyArIGZyYWdtZW50c1swXTsNCg0KCQkJCURvY3MuZXhwYW5kRW5kcG9pbnRMaXN0Rm9yUmVzb3VyY2UoZnJhZ21lbnRzWzBdKTsNCgkJCQkkKCIjIitkb21faWQpLnNsaWRldG8oe2hpZ2hsaWdodDogZmFsc2V9KTsNCgkJCQlicmVhazsNCgkJCWNhc2UgMjoNCgkJCQkvLyBSZWZlciB0byB0aGUgZW5kcG9pbnQgRE9NIGVsZW1lbnQsIGUuZy4gI3dvcmRzX2dldF9zZWFyY2gNCg0KICAgICAgICAvLyBFeHBhbmQgUmVzb3VyY2UNCiAgICAgICAgRG9jcy5leHBhbmRFbmRwb2ludExpc3RGb3JSZXNvdXJjZShmcmFnbWVudHNbMF0pOw0KICAgICAgICAkKCIjIitkb21faWQpLnNsaWRldG8oe2hpZ2hsaWdodDogZmFsc2V9KTsNCg0KICAgICAgICAvLyBFeHBhbmQgb3BlcmF0aW9uDQoJCQkJdmFyIGxpX2RvbV9pZCA9IGZyYWdtZW50cy5qb2luKCdfJyk7DQoJCQkJdmFyIGxpX2NvbnRlbnRfZG9tX2lkID0gbGlfZG9tX2lkICsgIl9jb250ZW50IjsNCg0KDQoJCQkJRG9jcy5leHBhbmRPcGVyYXRpb24oJCgnIycrbGlfY29udGVudF9kb21faWQpKTsNCgkJCQkkKCcjJytsaV9kb21faWQpLnNsaWRldG8oe2hpZ2hsaWdodDogZmFsc2V9KTsNCgkJCQlicmVhazsNCgkJfQ0KDQoJfSwNCg0KCXRvZ2dsZUVuZHBvaW50TGlzdEZvclJlc291cmNlOiBmdW5jdGlvbihyZXNvdXJjZSkgew0KCQl2YXIgZWxlbSA9ICQoJ2xpI3Jlc291cmNlXycgKyBEb2NzLmVzY2FwZVJlc291cmNlTmFtZShyZXNvdXJjZSkgKyAnIHVsLmVuZHBvaW50cycpOw0KCQlpZiAoZWxlbS5pcygnOnZpc2libGUnKSkgew0KCQkJRG9jcy5jb2xsYXBzZUVuZHBvaW50TGlzdEZvclJlc291cmNlKHJlc291cmNlKTsNCgkJfSBlbHNlIHsNCgkJCURvY3MuZXhwYW5kRW5kcG9pbnRMaXN0Rm9yUmVzb3VyY2UocmVzb3VyY2UpOw0KCQl9DQoJfSwNCg0KCS8vIEV4cGFuZCByZXNvdXJjZQ0KCWV4cGFuZEVuZHBvaW50TGlzdEZvclJlc291cmNlOiBmdW5jdGlvbihyZXNvdXJjZSkgew0KCQl2YXIgcmVzb3VyY2UgPSBEb2NzLmVzY2FwZVJlc291cmNlTmFtZShyZXNvdXJjZSk7DQoJCWlmIChyZXNvdXJjZSA9PSAnJykgew0KCQkJJCgnLnJlc291cmNlIHVsLmVuZHBvaW50cycpLnNsaWRlRG93bigpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCQ0KCQkkKCdsaSNyZXNvdXJjZV8nICsgcmVzb3VyY2UpLmFkZENsYXNzKCdhY3RpdmUnKTsNCg0KCQl2YXIgZWxlbSA9ICQoJ2xpI3Jlc291cmNlXycgKyByZXNvdXJjZSArICcgdWwuZW5kcG9pbnRzJyk7DQoJCWVsZW0uc2xpZGVEb3duKCk7DQoJfSwNCg0KCS8vIENvbGxhcHNlIHJlc291cmNlIGFuZCBtYXJrIGFzIGV4cGxpY2l0bHkgY2xvc2VkDQoJY29sbGFwc2VFbmRwb2ludExpc3RGb3JSZXNvdXJjZTogZnVuY3Rpb24ocmVzb3VyY2UpIHsNCgkJdmFyIHJlc291cmNlID0gRG9jcy5lc2NhcGVSZXNvdXJjZU5hbWUocmVzb3VyY2UpOw0KCQlpZiAocmVzb3VyY2UgPT0gJycpIHsNCgkJCSQoJy5yZXNvdXJjZSB1bC5lbmRwb2ludHMnKS5zbGlkZVVwKCk7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkkKCdsaSNyZXNvdXJjZV8nICsgcmVzb3VyY2UpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsNCg0KCQl2YXIgZWxlbSA9ICQoJ2xpI3Jlc291cmNlXycgKyByZXNvdXJjZSArICcgdWwuZW5kcG9pbnRzJyk7DQoJCWVsZW0uc2xpZGVVcCgpOw0KCX0sDQoNCglleHBhbmRPcGVyYXRpb25zRm9yUmVzb3VyY2U6IGZ1bmN0aW9uKHJlc291cmNlKSB7DQoJCS8vIE1ha2Ugc3VyZSB0aGUgcmVzb3VyY2UgY29udGFpbmVyIGlzIG9wZW4uLg0KCQlEb2NzLmV4cGFuZEVuZHBvaW50TGlzdEZvclJlc291cmNlKHJlc291cmNlKTsNCgkJDQoJCWlmIChyZXNvdXJjZSA9PSAnJykgew0KCQkJJCgnLnJlc291cmNlIHVsLmVuZHBvaW50cyBsaS5vcGVyYXRpb24gZGl2LmNvbnRlbnQnKS5zbGlkZURvd24oKTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCSQoJ2xpI3Jlc291cmNlXycgKyBEb2NzLmVzY2FwZVJlc291cmNlTmFtZShyZXNvdXJjZSkgKyAnIGxpLm9wZXJhdGlvbiBkaXYuY29udGVudCcpLmVhY2goZnVuY3Rpb24oKSB7DQoJCQlEb2NzLmV4cGFuZE9wZXJhdGlvbigkKHRoaXMpKTsNCgkJfSk7DQoJfSwNCg0KCWNvbGxhcHNlT3BlcmF0aW9uc0ZvclJlc291cmNlOiBmdW5jdGlvbihyZXNvdXJjZSkgew0KCQkvLyBNYWtlIHN1cmUgdGhlIHJlc291cmNlIGNvbnRhaW5lciBpcyBvcGVuLi4NCgkJRG9jcy5leHBhbmRFbmRwb2ludExpc3RGb3JSZXNvdXJjZShyZXNvdXJjZSk7DQoNCgkJaWYgKHJlc291cmNlID09ICcnKSB7DQoJCQkkKCcucmVzb3VyY2UgdWwuZW5kcG9pbnRzIGxpLm9wZXJhdGlvbiBkaXYuY29udGVudCcpLnNsaWRlVXAoKTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCSQoJ2xpI3Jlc291cmNlXycgKyBEb2NzLmVzY2FwZVJlc291cmNlTmFtZShyZXNvdXJjZSkgKyAnIGxpLm9wZXJhdGlvbiBkaXYuY29udGVudCcpLmVhY2goZnVuY3Rpb24oKSB7DQoJCQlEb2NzLmNvbGxhcHNlT3BlcmF0aW9uKCQodGhpcykpOw0KCQl9KTsNCgl9LA0KDQoJZXNjYXBlUmVzb3VyY2VOYW1lOiBmdW5jdGlvbihyZXNvdXJjZSkgew0KCQlyZXR1cm4gcmVzb3VyY2UucmVwbGFjZSgvWyEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xcXF1cXmB7fH1+XS9nLCAiXFwkJiIpOw0KCX0sDQoNCglleHBhbmRPcGVyYXRpb246IGZ1bmN0aW9uKGVsZW0pIHsNCgkJZWxlbS5zbGlkZURvd24oKTsNCgl9LA0KDQoJY29sbGFwc2VPcGVyYXRpb246IGZ1bmN0aW9uKGVsZW0pIHsNCgkJZWxlbS5zbGlkZVVwKCk7DQoJfQ0KfTsNCgp2YXIgU3dhZ2dlclVpLAogIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LAogIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5OwoKU3dhZ2dlclVpID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhTd2FnZ2VyVWksIF9zdXBlcik7CgogIGZ1bmN0aW9uIFN3YWdnZXJVaSgpIHsKICAgIHJldHVybiBTd2FnZ2VyVWkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBTd2FnZ2VyVWkucHJvdG90eXBlLmRvbV9pZCA9ICJzd2FnZ2VyX3VpIjsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5vcHRpb25zID0gbnVsbDsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5hcGkgPSBudWxsOwoKICBTd2FnZ2VyVWkucHJvdG90eXBlLmhlYWRlclZpZXcgPSBudWxsOwoKICBTd2FnZ2VyVWkucHJvdG90eXBlLm1haW5WaWV3ID0gbnVsbDsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24ob3B0aW9ucykgewogICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkgewogICAgICBvcHRpb25zID0ge307CiAgICB9CiAgICBpZiAob3B0aW9ucy5kb21faWQgIT0gbnVsbCkgewogICAgICB0aGlzLmRvbV9pZCA9IG9wdGlvbnMuZG9tX2lkOwogICAgICBkZWxldGUgb3B0aW9ucy5kb21faWQ7CiAgICB9CiAgICBpZiAob3B0aW9ucy5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzID09IG51bGwpIHsKICAgICAgb3B0aW9ucy5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzID0gWydnZXQnLCAncHV0JywgJ3Bvc3QnLCAnZGVsZXRlJywgJ2hlYWQnLCAnb3B0aW9ucycsICdwYXRjaCddOwogICAgfQogICAgaWYgKCQoJyMnICsgdGhpcy5kb21faWQpID09IG51bGwpIHsKICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD0iJyArIHRoaXMuZG9tX2lkICsgJyI+PC9kaXY+Jyk7CiAgICB9CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgdGhpcy5vcHRpb25zLnN1Y2Nlc3MgPSAoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBfdGhpcy5yZW5kZXIoKTsKICAgICAgfTsKICAgIH0pKHRoaXMpOwogICAgdGhpcy5vcHRpb25zLnByb2dyZXNzID0gKGZ1bmN0aW9uKF90aGlzKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnNob3dNZXNzYWdlKGQpOwogICAgICB9OwogICAgfSkodGhpcyk7CiAgICB0aGlzLm9wdGlvbnMuZmFpbHVyZSA9IChmdW5jdGlvbihfdGhpcykgewogICAgICByZXR1cm4gZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiBfdGhpcy5vbkxvYWRGYWlsdXJlKGQpOwogICAgICB9OwogICAgfSkodGhpcyk7CiAgICB0aGlzLmhlYWRlclZpZXcgPSBuZXcgSGVhZGVyVmlldyh7CiAgICAgIGVsOiAkKCcjaGVhZGVyJykKICAgIH0pOwogICAgcmV0dXJuIHRoaXMuaGVhZGVyVmlldy5vbigndXBkYXRlLXN3YWdnZXItdWknLCAoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlU3dhZ2dlclVpKGRhdGEpOwogICAgICB9OwogICAgfSkodGhpcykpOwogIH07CgogIFN3YWdnZXJVaS5wcm90b3R5cGUuc2V0T3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkgewogICAgcmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdmFsdWU7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5nZXRPcHRpb24gPSBmdW5jdGlvbihvcHRpb24pIHsKICAgIHJldHVybiB0aGlzLm9wdGlvbnNbb3B0aW9uXTsKICB9OwoKICBTd2FnZ2VyVWkucHJvdG90eXBlLnVwZGF0ZVN3YWdnZXJVaSA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIHRoaXMub3B0aW9ucy51cmwgPSBkYXRhLnVybDsKICAgIHJldHVybiB0aGlzLmxvYWQoKTsKICB9OwoKICBTd2FnZ2VyVWkucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHsKICAgIHZhciB1cmwsIF9yZWY7CiAgICBpZiAoKF9yZWYgPSB0aGlzLm1haW5WaWV3KSAhPSBudWxsKSB7CiAgICAgIF9yZWYuY2xlYXIoKTsKICAgIH0KICAgIHVybCA9IHRoaXMub3B0aW9ucy51cmw7CiAgICBpZiAodXJsICYmIHVybC5pbmRleE9mKCJodHRwIikgIT09IDApIHsKICAgICAgdXJsID0gdGhpcy5idWlsZFVybCh3aW5kb3cubG9jYXRpb24uaHJlZi50b1N0cmluZygpLCB1cmwpOwogICAgfQogICAgdGhpcy5vcHRpb25zLnVybCA9IHVybDsKICAgIHRoaXMuaGVhZGVyVmlldy51cGRhdGUodXJsKTsKICAgIHJldHVybiB0aGlzLmFwaSA9IG5ldyBTd2FnZ2VyQ2xpZW50KHRoaXMub3B0aW9ucyk7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5jb2xsYXBzZUFsbCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIERvY3MuY29sbGFwc2VFbmRwb2ludExpc3RGb3JSZXNvdXJjZSgnJyk7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5saXN0QWxsID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRG9jcy5jb2xsYXBzZU9wZXJhdGlvbnNGb3JSZXNvdXJjZSgnJyk7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5leHBhbmRBbGwgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBEb2NzLmV4cGFuZE9wZXJhdGlvbnNGb3JSZXNvdXJjZSgnJyk7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0ZpbmlzaGVkIExvYWRpbmcgUmVzb3VyY2UgSW5mb3JtYXRpb24uIFJlbmRlcmluZyBTd2FnZ2VyIFVJLi4uJyk7CiAgICB0aGlzLm1haW5WaWV3ID0gbmV3IE1haW5WaWV3KHsKICAgICAgbW9kZWw6IHRoaXMuYXBpLAogICAgICBlbDogJCgnIycgKyB0aGlzLmRvbV9pZCksCiAgICAgIHN3YWdnZXJPcHRpb25zOiB0aGlzLm9wdGlvbnMKICAgIH0pLnJlbmRlcigpOwogICAgdGhpcy5zaG93TWVzc2FnZSgpOwogICAgc3dpdGNoICh0aGlzLm9wdGlvbnMuZG9jRXhwYW5zaW9uKSB7CiAgICAgIGNhc2UgImZ1bGwiOgogICAgICAgIHRoaXMuZXhwYW5kQWxsKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgImxpc3QiOgogICAgICAgIHRoaXMubGlzdEFsbCgpOwogICAgfQogICAgdGhpcy5yZW5kZXJHRk0oKTsKICAgIGlmICh0aGlzLm9wdGlvbnMub25Db21wbGV0ZSkgewogICAgICB0aGlzLm9wdGlvbnMub25Db21wbGV0ZSh0aGlzLmFwaSwgdGhpcyk7CiAgICB9CiAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBEb2NzLnNoZWJhbmcoKTsKICAgICAgfTsKICAgIH0pKHRoaXMpLCA0MDAwKTsKICB9OwoKICBTd2FnZ2VyVWkucHJvdG90eXBlLmJ1aWxkVXJsID0gZnVuY3Rpb24oYmFzZSwgdXJsKSB7CiAgICB2YXIgZW5kT2ZQYXRoLCBwYXJ0czsKICAgIGlmICh1cmwuaW5kZXhPZigiLyIpID09PSAwKSB7CiAgICAgIHBhcnRzID0gYmFzZS5zcGxpdCgiLyIpOwogICAgICBiYXNlID0gcGFydHNbMF0gKyAiLy8iICsgcGFydHNbMl07CiAgICAgIHJldHVybiBiYXNlICsgdXJsOwogICAgfSBlbHNlIHsKICAgICAgZW5kT2ZQYXRoID0gYmFzZS5sZW5ndGg7CiAgICAgIGlmIChiYXNlLmluZGV4T2YoIj8iKSA+IC0xKSB7CiAgICAgICAgZW5kT2ZQYXRoID0gTWF0aC5taW4oZW5kT2ZQYXRoLCBiYXNlLmluZGV4T2YoIj8iKSk7CiAgICAgIH0KICAgICAgaWYgKGJhc2UuaW5kZXhPZigiIyIpID4gLTEpIHsKICAgICAgICBlbmRPZlBhdGggPSBNYXRoLm1pbihlbmRPZlBhdGgsIGJhc2UuaW5kZXhPZigiIyIpKTsKICAgICAgfQogICAgICBiYXNlID0gYmFzZS5zdWJzdHJpbmcoMCwgZW5kT2ZQYXRoKTsKICAgICAgaWYgKGJhc2UuaW5kZXhPZigiLyIsIGJhc2UubGVuZ3RoIC0gMSkgIT09IC0xKSB7CiAgICAgICAgcmV0dXJuIGJhc2UgKyB1cmw7CiAgICAgIH0KICAgICAgcmV0dXJuIGJhc2UgKyAiLyIgKyB1cmw7CiAgICB9CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5zaG93TWVzc2FnZSA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIGlmIChkYXRhID09IG51bGwpIHsKICAgICAgZGF0YSA9ICcnOwogICAgfQogICAgJCgnI21lc3NhZ2UtYmFyJykucmVtb3ZlQ2xhc3MoJ21lc3NhZ2UtZmFpbCcpOwogICAgJCgnI21lc3NhZ2UtYmFyJykuYWRkQ2xhc3MoJ21lc3NhZ2Utc3VjY2VzcycpOwogICAgcmV0dXJuICQoJyNtZXNzYWdlLWJhcicpLmh0bWwoZGF0YSk7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5vbkxvYWRGYWlsdXJlID0gZnVuY3Rpb24oZGF0YSkgewogICAgdmFyIHZhbDsKICAgIGlmIChkYXRhID09IG51bGwpIHsKICAgICAgZGF0YSA9ICcnOwogICAgfQogICAgJCgnI21lc3NhZ2UtYmFyJykucmVtb3ZlQ2xhc3MoJ21lc3NhZ2Utc3VjY2VzcycpOwogICAgJCgnI21lc3NhZ2UtYmFyJykuYWRkQ2xhc3MoJ21lc3NhZ2UtZmFpbCcpOwogICAgdmFsID0gJCgnI21lc3NhZ2UtYmFyJykuaHRtbChkYXRhKTsKICAgIGlmICh0aGlzLm9wdGlvbnMub25GYWlsdXJlICE9IG51bGwpIHsKICAgICAgdGhpcy5vcHRpb25zLm9uRmFpbHVyZShkYXRhKTsKICAgIH0KICAgIHJldHVybiB2YWw7CiAgfTsKCiAgU3dhZ2dlclVpLnByb3RvdHlwZS5yZW5kZXJHRk0gPSBmdW5jdGlvbihkYXRhKSB7CiAgICBpZiAoZGF0YSA9PSBudWxsKSB7CiAgICAgIGRhdGEgPSAnJzsKICAgIH0KICAgIHJldHVybiAkKCcubWFya2Rvd24nKS5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7CiAgICAgIHJldHVybiAkKHRoaXMpLmh0bWwobWFya2VkKCQodGhpcykuaHRtbCgpKSk7CiAgICB9KTsKICB9OwoKICByZXR1cm4gU3dhZ2dlclVpOwoKfSkoQmFja2JvbmUuUm91dGVyKTsKCndpbmRvdy5Td2FnZ2VyVWkgPSBTd2FnZ2VyVWk7Cgp0aGlzWyJIYW5kbGViYXJzIl0gPSB0aGlzWyJIYW5kbGViYXJzIl0gfHwge307CnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl0gPSB0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdIHx8IHt9Owp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJhcGlrZXlfYnV0dG9uX3ZpZXciXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIjwhLS1kaXYgY2xhc3M9J2F1dGhfYnV0dG9uJyBpZD0nYXBpa2V5X2J1dHRvbic+PGltZyBjbGFzcz0nYXV0aF9pY29uJyBhbHQ9J2FwcGx5IGFwaSBrZXknIHNyYz0naW1hZ2VzL2FwaWtleS5qcGVnJz48L2Rpdi0tPlxuPGRpdiBjbGFzcz0nYXV0aF9jb250YWluZXInIGlkPSdhcGlrZXlfY29udGFpbmVyJz5cbiAgPGRpdiBjbGFzcz0na2V5X2lucHV0X2NvbnRhaW5lcic+XG4gICAgPGRpdiBjbGFzcz0nYXV0aF9sYWJlbCc+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMua2V5TmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua2V5TmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJrZXlOYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC9kaXY+XG4gICAgPGlucHV0IHBsYWNlaG9sZGVyPVwiYXBpX2tleVwiIGNsYXNzPVwiYXV0aF9pbnB1dFwiIGlkPVwiaW5wdXRfYXBpS2V5X2VudHJ5XCIgbmFtZT1cImFwaUtleVwiIHR5cGU9XCJ0ZXh0XCIvPlxuICAgIDxkaXYgY2xhc3M9J2F1dGhfc3VibWl0Jz48YSBjbGFzcz0nYXV0aF9zdWJtaXRfYnV0dG9uJyBpZD1cImFwcGx5X2FwaV9rZXlcIiBocmVmPVwiI1wiPmFwcGx5PC9hPjwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuXG4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3Nhbml0aXplJywgZnVuY3Rpb24oaHRtbCkgewogIGh0bWwgPSBodG1sLnJlcGxhY2UoLzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksICcnKTsKICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhodG1sKTsKfSk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJiYXNpY19hdXRoX2J1dHRvbl92aWV3Il0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiPGRpdiBjbGFzcz0nYXV0aF9idXR0b24nIGlkPSdiYXNpY19hdXRoX2J1dHRvbic+PGltZyBjbGFzcz0nYXV0aF9pY29uJyBzcmM9J2ltYWdlcy9wYXNzd29yZC5qcGVnJz48L2Rpdj5cbjxkaXYgY2xhc3M9J2F1dGhfY29udGFpbmVyJyBpZD0nYmFzaWNfYXV0aF9jb250YWluZXInPlxuICA8ZGl2IGNsYXNzPSdrZXlfaW5wdXRfY29udGFpbmVyJz5cbiAgICA8ZGl2IGNsYXNzPVwiYXV0aF9sYWJlbFwiPlVzZXJuYW1lPC9kaXY+XG4gICAgPGlucHV0IHBsYWNlaG9sZGVyPVwidXNlcm5hbWVcIiBjbGFzcz1cImF1dGhfaW5wdXRcIiBpZD1cImlucHV0X3VzZXJuYW1lXCIgbmFtZT1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIi8+XG4gICAgPGRpdiBjbGFzcz1cImF1dGhfbGFiZWxcIj5QYXNzd29yZDwvZGl2PlxuICAgIDxpbnB1dCBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCIgY2xhc3M9XCJhdXRoX2lucHV0XCIgaWQ9XCJpbnB1dF9wYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiLz5cbiAgICA8ZGl2IGNsYXNzPSdhdXRoX3N1Ym1pdCc+PGEgY2xhc3M9J2F1dGhfc3VibWl0X2J1dHRvbicgaWQ9XCJhcHBseV9iYXNpY19hdXRoXCIgaHJlZj1cIiNcIj5hcHBseTwvYT48L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuIjsKICB9LCJ1c2VEYXRhIjp0cnVlfSk7CnZhciBBcGlLZXlCdXR0b24sCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpBcGlLZXlCdXR0b24gPSAoZnVuY3Rpb24oX3N1cGVyKSB7CiAgX19leHRlbmRzKEFwaUtleUJ1dHRvbiwgX3N1cGVyKTsKCiAgZnVuY3Rpb24gQXBpS2V5QnV0dG9uKCkgewogICAgcmV0dXJuIEFwaUtleUJ1dHRvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIEFwaUtleUJ1dHRvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307CgogIEFwaUtleUJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdGVtcGxhdGU7CiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUoKTsKICAgICQodGhpcy5lbCkuaHRtbCh0ZW1wbGF0ZSh0aGlzLm1vZGVsKSk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBBcGlLZXlCdXR0b24ucHJvdG90eXBlLmV2ZW50cyA9IHsKICAgICJjbGljayAjYXBpa2V5X2J1dHRvbiI6ICJ0b2dnbGVBcGlLZXlDb250YWluZXIiLAogICAgImNsaWNrICNhcHBseV9hcGlfa2V5IjogImFwcGx5QXBpS2V5IgogIH07CgogIEFwaUtleUJ1dHRvbi5wcm90b3R5cGUuYXBwbHlBcGlLZXkgPSBmdW5jdGlvbigpIHsKICAgIHZhciBlbGVtOwogICAgd2luZG93LmF1dGhvcml6YXRpb25zLmFkZCh0aGlzLm1vZGVsLm5hbWUsIG5ldyBBcGlLZXlBdXRob3JpemF0aW9uKHRoaXMubW9kZWwubmFtZSwgJCgiI2lucHV0X2FwaUtleV9lbnRyeSIpLnZhbCgpLCB0aGlzLm1vZGVsWyJpbiJdKSk7CiAgICB3aW5kb3cuc3dhZ2dlclVpLmxvYWQoKTsKICAgIHJldHVybiBlbGVtID0gJCgnI2FwaWtleV9jb250YWluZXInKS5zaG93KCk7CiAgfTsKCiAgQXBpS2V5QnV0dG9uLnByb3RvdHlwZS50b2dnbGVBcGlLZXlDb250YWluZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBlbGVtOwogICAgaWYgKCQoJyNhcGlrZXlfY29udGFpbmVyJykubGVuZ3RoID4gMCkgewogICAgICBlbGVtID0gJCgnI2FwaWtleV9jb250YWluZXInKS5maXJzdCgpOwogICAgICBpZiAoZWxlbS5pcygnOnZpc2libGUnKSkgewogICAgICAgIHJldHVybiBlbGVtLmhpZGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCcuYXV0aF9jb250YWluZXInKS5oaWRlKCk7CiAgICAgICAgcmV0dXJuIGVsZW0uc2hvdygpOwogICAgICB9CiAgICB9CiAgfTsKCiAgQXBpS2V5QnV0dG9uLnByb3RvdHlwZS50ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLmFwaWtleV9idXR0b25fdmlldzsKICB9OwoKICByZXR1cm4gQXBpS2V5QnV0dG9uOwoKfSkoQmFja2JvbmUuVmlldyk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJjb250ZW50X3R5cGUiXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyIxIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJvZHVjZXMgOiBkZXB0aDApLCB7Im5hbWUiOiJlYWNoIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMiwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlcjsKfSwiMiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgYnVmZmVyID0gIgk8b3B0aW9uIHZhbHVlPVwiIjsKICBzdGFjazEgPSBsYW1iZGEoZGVwdGgwLCBkZXB0aDApOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICJcIj4iOwogIHN0YWNrMSA9IGxhbWJkYShkZXB0aDAsIGRlcHRoMCk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvb3B0aW9uPlxuIjsKfSwiNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiICA8b3B0aW9uIHZhbHVlPVwiYXBwbGljYXRpb24vanNvblwiPmFwcGxpY2F0aW9uL2pzb248L29wdGlvbj5cbiI7CiAgfSwiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGJ1ZmZlciA9ICI8bGFiZWwgZm9yPVwiY29udGVudFR5cGVcIj48L2xhYmVsPlxuPHNlbGVjdCBuYW1lPVwiY29udGVudFR5cGVcIj5cbiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByb2R1Y2VzIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvc2VsZWN0PlxuIjsKfSwidXNlRGF0YSI6dHJ1ZX0pOwp2YXIgQmFzaWNBdXRoQnV0dG9uLAogIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LAogIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5OwoKQmFzaWNBdXRoQnV0dG9uID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhCYXNpY0F1dGhCdXR0b24sIF9zdXBlcik7CgogIGZ1bmN0aW9uIEJhc2ljQXV0aEJ1dHRvbigpIHsKICAgIHJldHVybiBCYXNpY0F1dGhCdXR0b24uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBCYXNpY0F1dGhCdXR0b24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OwoKICBCYXNpY0F1dGhCdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHRlbXBsYXRlOwogICAgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlKCk7CiAgICAkKHRoaXMuZWwpLmh0bWwodGVtcGxhdGUodGhpcy5tb2RlbCkpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgQmFzaWNBdXRoQnV0dG9uLnByb3RvdHlwZS5ldmVudHMgPSB7CiAgICAiY2xpY2sgI2Jhc2ljX2F1dGhfYnV0dG9uIjogInRvZ2dsZVBhc3N3b3JkQ29udGFpbmVyIiwKICAgICJjbGljayAjYXBwbHlfYmFzaWNfYXV0aCI6ICJhcHBseVBhc3N3b3JkIgogIH07CgogIEJhc2ljQXV0aEJ1dHRvbi5wcm90b3R5cGUuYXBwbHlQYXNzd29yZCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGVsZW0sIHBhc3N3b3JkLCB1c2VybmFtZTsKICAgIHVzZXJuYW1lID0gJCgiLmlucHV0X3VzZXJuYW1lIikudmFsKCk7CiAgICBwYXNzd29yZCA9ICQoIi5pbnB1dF9wYXNzd29yZCIpLnZhbCgpOwogICAgd2luZG93LmF1dGhvcml6YXRpb25zLmFkZCh0aGlzLm1vZGVsLnR5cGUsIG5ldyBQYXNzd29yZEF1dGhvcml6YXRpb24oImJhc2ljIiwgdXNlcm5hbWUsIHBhc3N3b3JkKSk7CiAgICB3aW5kb3cuc3dhZ2dlclVpLmxvYWQoKTsKICAgIHJldHVybiBlbGVtID0gJCgnI2Jhc2ljX2F1dGhfY29udGFpbmVyJykuaGlkZSgpOwogIH07CgogIEJhc2ljQXV0aEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlUGFzc3dvcmRDb250YWluZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBlbGVtOwogICAgaWYgKCQoJyNiYXNpY19hdXRoX2NvbnRhaW5lcicpLmxlbmd0aCA+IDApIHsKICAgICAgZWxlbSA9ICQoJyNiYXNpY19hdXRoX2NvbnRhaW5lcicpLnNob3coKTsKICAgICAgaWYgKGVsZW0uaXMoJzp2aXNpYmxlJykpIHsKICAgICAgICByZXR1cm4gZWxlbS5zbGlkZVVwKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCgnLmF1dGhfY29udGFpbmVyJykuaGlkZSgpOwogICAgICAgIHJldHVybiBlbGVtLnNob3coKTsKICAgICAgfQogICAgfQogIH07CgogIEJhc2ljQXV0aEJ1dHRvbi5wcm90b3R5cGUudGVtcGxhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBIYW5kbGViYXJzLnRlbXBsYXRlcy5iYXNpY19hdXRoX2J1dHRvbl92aWV3OwogIH07CgogIHJldHVybiBCYXNpY0F1dGhCdXR0b247Cgp9KShCYWNrYm9uZS5WaWV3KTsKCnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bIm1haW4iXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyIxIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gIiAgPGRpdiBjbGFzcz1cImluZm9fdGl0bGVcIj4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRpdGxlIDogc3RhY2sxKSwgZGVwdGgwKSkKICAgICsgIjwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiaW5mb19kZXNjcmlwdGlvbiBtYXJrZG93blwiPiI7CiAgc3RhY2sxID0gbGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmRlc2NyaXB0aW9uIDogc3RhY2sxKSwgZGVwdGgwKTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC9kaXY+XG4gICI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudGVybXNPZlNlcnZpY2VVcmwgOiBzdGFjazEpLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXG4gICI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbmZvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb250YWN0IDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5uYW1lIDogc3RhY2sxKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSg0LCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIlxuICAiOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsICgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuY29udGFjdCA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEudXJsIDogc3RhY2sxKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSg2LCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIlxuICAiOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsICgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuY29udGFjdCA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEuZW1haWwgOiBzdGFjazEpLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDgsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXG4gICI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGljZW5zZSA6IHN0YWNrMSksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTAsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXIgKyAiXG4iOwp9LCIyIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIjxkaXYgY2xhc3M9XCJpbmZvX3Rvc1wiPjxhIGhyZWY9XCIiCiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRlcm1zT2ZTZXJ2aWNlVXJsIDogc3RhY2sxKSwgZGVwdGgwKSkKICAgICsgIlwiPlRlcm1zIG9mIHNlcnZpY2U8L2E+PC9kaXY+IjsKfSwiNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICI8ZGl2IGNsYXNzPSdpbmZvX25hbWUnPkNyZWF0ZWQgYnkgIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmNvbnRhY3QgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLm5hbWUgOiBzdGFjazEpLCBkZXB0aDApKQogICAgKyAiPC9kaXY+IjsKfSwiNiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICI8ZGl2IGNsYXNzPSdpbmZvX3VybCc+U2VlIG1vcmUgYXQgPGEgaHJlZj1cIiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbmZvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb250YWN0IDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS51cmwgOiBzdGFjazEpLCBkZXB0aDApKQogICAgKyAiXCI+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmNvbnRhY3QgOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLnVybCA6IHN0YWNrMSksIGRlcHRoMCkpCiAgICArICI8L2E+PC9kaXY+IjsKfSwiOCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICI8ZGl2IGNsYXNzPSdpbmZvX2VtYWlsJz48YSBocmVmPVwibWFpbHRvOiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbmZvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb250YWN0IDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS5lbWFpbCA6IHN0YWNrMSksIGRlcHRoMCkpCiAgICArICI/c3ViamVjdD0iCiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRpdGxlIDogc3RhY2sxKSwgZGVwdGgwKSkKICAgICsgIlwiPkNvbnRhY3QgdGhlIGRldmVsb3BlcjwvYT48L2Rpdj4iOwp9LCIxMCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICI8ZGl2IGNsYXNzPSdpbmZvX2xpY2Vuc2UnPjxhIGhyZWY9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbmZvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5saWNlbnNlIDogc3RhY2sxKSkgIT0gbnVsbCA/IHN0YWNrMS51cmwgOiBzdGFjazEpLCBkZXB0aDApKQogICAgKyAiJz4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubGljZW5zZSA6IHN0YWNrMSkpICE9IG51bGwgPyBzdGFjazEubmFtZSA6IHN0YWNrMSksIGRlcHRoMCkpCiAgICArICI8L2E+PC9kaXY+IjsKfSwiMTIiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiICAgICwgPHNwYW4gc3R5bGU9XCJmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHNcIj5hcGkgdmVyc2lvbjwvc3Bhbj46ICIKICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudmVyc2lvbiA6IHN0YWNrMSksIGRlcHRoMCkpCiAgICArICJcbiAgICAiOwp9LCIxNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgPHNwYW4gc3R5bGU9XCJmbG9hdDpyaWdodFwiPjxhIGhyZWY9XCIiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy52YWxpZGF0b3JVcmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZhbGlkYXRvclVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJ2YWxpZGF0b3JVcmwiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICIvZGVidWc/dXJsPSIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InVybCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIlwiPjxpbWcgaWQ9XCJ2YWxpZGF0b3JcIiBzcmM9XCIiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy52YWxpZGF0b3JVcmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZhbGlkYXRvclVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJ2YWxpZGF0b3JVcmwiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICI/dXJsPSIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InVybCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIlwiPjwvYT5cbiAgICA8L3NwYW4+XG4iOwp9LCJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSAiPGRpdiBjbGFzcz0naW5mbycgaWQ9J2FwaV9pbmZvJz5cbiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmluZm8gOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC9kaXY+XG48ZGl2IGNsYXNzPSdjb250YWluZXInIGlkPSdyZXNvdXJjZXNfY29udGFpbmVyJz5cbiAgPHVsIGlkPSdyZXNvdXJjZXMnPjwvdWw+XG5cbiAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgIDxicj5cbiAgICA8YnI+XG4gICAgPGg0IHN0eWxlPVwiY29sb3I6ICM5OTlcIj5bIDxzcGFuIHN0eWxlPVwiZm9udC12YXJpYW50OiBzbWFsbC1jYXBzXCI+YmFzZSB1cmw8L3NwYW4+OiAiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5iYXNlUGF0aCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYmFzZVBhdGggOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiYmFzZVBhdGgiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICJcbiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW5mbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudmVyc2lvbiA6IHN0YWNrMSksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTIsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXVxuIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmFsaWRhdG9yVXJsIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxNCwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICIgICAgPC9oND5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuIjsKfSwidXNlRGF0YSI6dHJ1ZX0pOwp2YXIgQ29udGVudFR5cGVWaWV3LAogIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LAogIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5OwoKQ29udGVudFR5cGVWaWV3ID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhDb250ZW50VHlwZVZpZXcsIF9zdXBlcik7CgogIGZ1bmN0aW9uIENvbnRlbnRUeXBlVmlldygpIHsKICAgIHJldHVybiBDb250ZW50VHlwZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBDb250ZW50VHlwZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OwoKICBDb250ZW50VHlwZVZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHRlbXBsYXRlOwogICAgdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlKCk7CiAgICAkKHRoaXMuZWwpLmh0bWwodGVtcGxhdGUodGhpcy5tb2RlbCkpOwogICAgJCgnbGFiZWxbZm9yPWNvbnRlbnRUeXBlXScsICQodGhpcy5lbCkpLnRleHQoJ1Jlc3BvbnNlIENvbnRlbnQgVHlwZScpOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgQ29udGVudFR5cGVWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLmNvbnRlbnRfdHlwZTsKICB9OwoKICByZXR1cm4gQ29udGVudFR5cGVWaWV3OwoKfSkoQmFja2JvbmUuVmlldyk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJvcGVyYXRpb24iXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyIxIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgcmV0dXJuICJkZXByZWNhdGVkIjsKICB9LCIzIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgcmV0dXJuICIgICAgICAgICAgICA8aDQ+V2FybmluZzogRGVwcmVjYXRlZDwvaDQ+XG4iOwogIH0sIjUiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYnVmZmVyID0gIiAgICAgICAgPGg0PkltcGxlbWVudGF0aW9uIE5vdGVzPC9oND5cbiAgICAgICAgPHAgY2xhc3M9XCJtYXJrZG93blwiPiI7CiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5kZXNjcmlwdGlvbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiZGVzY3JpcHRpb24iLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvcD5cbiI7Cn0sIjciOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiAgICAgICAgPGRpdiBjbGFzcz1cImF1dGhcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJhcGktaWMgaWMtZXJyb3JcIj48L3NwYW4+IjsKICB9LCI5IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiAgICAgICAgICA8ZGl2IGlkPVwiYXBpX2luZm9ybWF0aW9uX3BhbmVsXCIgc3R5bGU9XCJ0b3A6IDUyNnB4OyBsZWZ0OiA3NzZweDsgZGlzcGxheTogbm9uZTtcIj5cbiI7CiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCBkZXB0aDAsIHsibmFtZSI6ImVhY2giLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxMCwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICIgICAgICAgICAgPC9kaXY+XG4iOwp9LCIxMCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGJ1ZmZlciA9ICIgICAgICAgICAgICA8ZGl2IHRpdGxlPSciOwogIHN0YWNrMSA9IGxhbWJkYSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApLCBkZXB0aDApOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICInPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNjb3BlIDogZGVwdGgwKSwgZGVwdGgwKSkKICAgICsgIjwvZGl2PlxuIjsKfSwiMTIiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIjwvZGl2PiI7CiAgfSwiMTQiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiAgICAgICAgPGRpdiBjbGFzcz0nYWNjZXNzJz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImFwaS1pYyBpYy1vZmZcIiB0aXRsZT1cImNsaWNrIHRvIGF1dGhlbnRpY2F0ZVwiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4iOwogIH0sIjE2IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIiAgICAgICAgICA8aDQ+UmVzcG9uc2UgQ2xhc3MgKFN0YXR1cyAiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5zdWNjZXNzQ29kZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc3VjY2Vzc0NvZGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoic3VjY2Vzc0NvZGUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICIpPC9oND5cbiAgICAgICAgICA8cD48c3BhbiBjbGFzcz1cIm1vZGVsLXNpZ25hdHVyZVwiIC8+PC9wPlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInJlc3BvbnNlLWNvbnRlbnQtdHlwZVwiIC8+XG4iOwp9LCIxOCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiICAgICAgICAgIDxoND5QYXJhbWV0ZXJzPC9oND5cbiAgICAgICAgICA8dGFibGUgY2xhc3M9J2Z1bGx3aWR0aCc+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoIHN0eWxlPVwid2lkdGg6IDEwMHB4OyBtYXgtd2lkdGg6IDEwMHB4XCI+UGFyYW1ldGVyPC90aD5cbiAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAzMTBweDsgbWF4LXdpZHRoOiAzMTBweFwiPlZhbHVlPC90aD5cbiAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAyMDBweDsgbWF4LXdpZHRoOiAyMDBweFwiPkRlc2NyaXB0aW9uPC90aD5cbiAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAxMDBweDsgbWF4LXdpZHRoOiAxMDBweFwiPlBhcmFtZXRlciBUeXBlPC90aD5cbiAgICAgICAgICAgIDx0aCBzdHlsZT1cIndpZHRoOiAyMjBweDsgbWF4LXdpZHRoOiAyMzBweFwiPkRhdGEgVHlwZTwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5IGNsYXNzPVwib3BlcmF0aW9uLXBhcmFtc1wiPlxuXG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuIjsKICB9LCIyMCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiICAgICAgICAgIDxkaXYgc3R5bGU9J21hcmdpbjowO3BhZGRpbmc6MDtkaXNwbGF5OmlubGluZSc+PC9kaXY+XG4gICAgICAgICAgPGg0PlJlc3BvbnNlIE1lc3NhZ2VzPC9oND5cbiAgICAgICAgICA8dGFibGUgY2xhc3M9J2Z1bGx3aWR0aCc+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5IVFRQIFN0YXR1cyBDb2RlPC90aD5cbiAgICAgICAgICAgICAgPHRoPlJlYXNvbjwvdGg+XG4gICAgICAgICAgICAgIDx0aD5SZXNwb25zZSBNb2RlbDwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keSBjbGFzcz1cIm9wZXJhdGlvbi1zdGF0dXNcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuIjsKICB9LCIyMiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiIjsKfSwiMjQiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiAgICAgICAgICA8ZGl2IGNsYXNzPSdzYW5kYm94X2hlYWRlcic+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9J3N1Ym1pdCcgbmFtZT0nY29tbWl0JyB0eXBlPSdidXR0b24nIHZhbHVlPSdUcnkgaXQgb3V0IScgLz5cbiAgICAgICAgICAgIDxhIGhyZWY9JyMnIGNsYXNzPSdyZXNwb25zZV9oaWRlcicgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+SGlkZSBSZXNwb25zZTwvYT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdyZXNwb25zZV90aHJvYmJlcicgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuIjsKICB9LCJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBvcHRpb25zLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBibG9ja0hlbHBlck1pc3Npbmc9aGVscGVycy5ibG9ja0hlbHBlck1pc3NpbmcsIGJ1ZmZlciA9ICJcbiAgPHVsIGNsYXNzPSdvcGVyYXRpb25zJyA+XG4gICAgPGxpIGNsYXNzPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5tZXRob2QgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1ldGhvZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJtZXRob2QiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICIgb3BlcmF0aW9uJyBpZD0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFyZW50SWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhcmVudElkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InBhcmVudElkIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiXyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5pY2tuYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uaWNrbmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuaWNrbmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+XG4gICAgICA8ZGl2IGNsYXNzPSdoZWFkaW5nJz5cbiAgICAgICAgPGgzPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSdodHRwX21ldGhvZCc+XG4gICAgICAgICAgPGEgaHJlZj0nIyEvIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFyZW50SWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhcmVudElkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InBhcmVudElkIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiLyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5pY2tuYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uaWNrbmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuaWNrbmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIicgY2xhc3M9XCJ0b2dnbGVPcGVyYXRpb25cIj4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5tZXRob2QgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1ldGhvZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJtZXRob2QiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICI8L2E+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPSdwYXRoJz5cbiAgICAgICAgICA8YSBocmVmPScjIS8iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYXJlbnRJZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFyZW50SWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoicGFyZW50SWQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICIvIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmlja25hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5pY2tuYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5pY2tuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJyBjbGFzcz1cInRvZ2dsZU9wZXJhdGlvbiAiOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXByZWNhdGVkIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIlwiPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBhdGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhdGggOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoicGF0aCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIjwvYT5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvaDM+XG4gICAgICAgIDx1bCBjbGFzcz0nb3B0aW9ucyc+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgIDxhIGhyZWY9JyMhLyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBhcmVudElkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYXJlbnRJZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJwYXJlbnRJZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIi8iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uaWNrbmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmlja25hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmlja25hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInIGNsYXNzPVwidG9nZ2xlT3BlcmF0aW9uXCI+IjsKICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnN1bW1hcnkgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnN1bW1hcnkgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoic3VtbWFyeSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC9hPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9J2NvbnRlbnQnIGlkPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYXJlbnRJZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFyZW50SWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoicGFyZW50SWQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICJfIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmlja25hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5pY2tuYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5pY2tuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiX2NvbnRlbnQnIHN0eWxlPSdkaXNwbGF5Om5vbmUnPlxuIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVwcmVjYXRlZCA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMywgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm9hdXRoIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5vYXV0aCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwob3B0aW9ucz17Im5hbWUiOiJvYXV0aCIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDcsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlcikpOwogIGlmICghaGVscGVycy5vYXV0aCkgeyBzdGFjazEgPSBibG9ja0hlbHBlck1pc3NpbmcuY2FsbChkZXB0aDAsIHN0YWNrMSwgb3B0aW9ucyk7IH0KICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXG4iOwogIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm9hdXRoIDogZGVwdGgwKSwgeyJuYW1lIjoiZWFjaCIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDksIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiICAgICAgICAiOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMub2F1dGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm9hdXRoIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLChvcHRpb25zPXsibmFtZSI6Im9hdXRoIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTIsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlcikpOwogIGlmICghaGVscGVycy5vYXV0aCkgeyBzdGFjazEgPSBibG9ja0hlbHBlck1pc3NpbmcuY2FsbChkZXB0aDAsIHN0YWNrMSwgb3B0aW9ucyk7IH0KICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXG4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMub2F1dGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm9hdXRoIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLChvcHRpb25zPXsibmFtZSI6Im9hdXRoIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTQsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlcikpOwogIGlmICghaGVscGVycy5vYXV0aCkgeyBzdGFjazEgPSBibG9ja0hlbHBlck1pc3NpbmcuY2FsbChkZXB0aDAsIHN0YWNrMSwgb3B0aW9ucyk7IH0KICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50eXBlIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxNiwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICIgICAgICAgIDxmb3JtIGFjY2VwdC1jaGFyc2V0PSdVVEYtOCcgY2xhc3M9J3NhbmRib3gnPlxuICAgICAgICAgIDxkaXYgc3R5bGU9J21hcmdpbjowO3BhZGRpbmc6MDtkaXNwbGF5OmlubGluZSc+PC9kaXY+XG4iOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYXJhbWV0ZXJzIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxOCwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJlc3BvbnNlTWVzc2FnZXMgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDIwLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNSZWFkT25seSA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMjIsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oMjQsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8ZGl2IGNsYXNzPSdyZXNwb25zZScgc3R5bGU9J2Rpc3BsYXk6bm9uZSc+XG4gICAgICAgICAgPGg0PlJlcXVlc3QgVVJMPC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSdibG9jayByZXF1ZXN0X3VybCc+PC9kaXY+XG4gICAgICAgICAgPGg0PlJlc3BvbnNlIEJvZHk8L2g0PlxuICAgICAgICAgIDxkaXYgY2xhc3M9J2Jsb2NrIHJlc3BvbnNlX2JvZHknPjwvZGl2PlxuICAgICAgICAgIDxoND5SZXNwb25zZSBDb2RlPC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzPSdibG9jayByZXNwb25zZV9jb2RlJz48L2Rpdj5cbiAgICAgICAgICA8aDQ+UmVzcG9uc2UgSGVhZGVyczwvaDQ+XG4gICAgICAgICAgPGRpdiBjbGFzcz0nYmxvY2sgcmVzcG9uc2VfaGVhZGVycyc+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgPC91bD5cbiI7Cn0sInVzZURhdGEiOnRydWV9KTsKdmFyIEhlYWRlclZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpIZWFkZXJWaWV3ID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhIZWFkZXJWaWV3LCBfc3VwZXIpOwoKICBmdW5jdGlvbiBIZWFkZXJWaWV3KCkgewogICAgcmV0dXJuIEhlYWRlclZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBIZWFkZXJWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7CiAgICAnY2xpY2sgI3Nob3ctcGV0LXN0b3JlLWljb24nOiAnc2hvd1BldFN0b3JlJywKICAgICdjbGljayAjc2hvdy13b3JkbmlrLWRldi1pY29uJzogJ3Nob3dXb3JkbmlrRGV2JywKICAgICdjbGljayAjZXhwbG9yZSc6ICdzaG93Q3VzdG9tJywKICAgICdrZXl1cCAjaW5wdXRfYmFzZVVybCc6ICdzaG93Q3VzdG9tT25LZXl1cCcsCiAgICAna2V5dXAgI2lucHV0X2FwaUtleSc6ICdzaG93Q3VzdG9tT25LZXl1cCcKICB9OwoKICBIZWFkZXJWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7fTsKCiAgSGVhZGVyVmlldy5wcm90b3R5cGUuc2hvd1BldFN0b3JlID0gZnVuY3Rpb24oZSkgewogICAgcmV0dXJuIHRoaXMudHJpZ2dlcigndXBkYXRlLXN3YWdnZXItdWknLCB7CiAgICAgIHVybDogImh0dHA6Ly9wZXRzdG9yZS5zd2FnZ2VyLndvcmRuaWsuY29tL2FwaS9hcGktZG9jcyIKICAgIH0pOwogIH07CgogIEhlYWRlclZpZXcucHJvdG90eXBlLnNob3dXb3JkbmlrRGV2ID0gZnVuY3Rpb24oZSkgewogICAgcmV0dXJuIHRoaXMudHJpZ2dlcigndXBkYXRlLXN3YWdnZXItdWknLCB7CiAgICAgIHVybDogImh0dHA6Ly9hcGkud29yZG5pay5jb20vdjQvcmVzb3VyY2VzLmpzb24iCiAgICB9KTsKICB9OwoKICBIZWFkZXJWaWV3LnByb3RvdHlwZS5zaG93Q3VzdG9tT25LZXl1cCA9IGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3dDdXN0b20oKTsKICAgIH0KICB9OwoKICBIZWFkZXJWaWV3LnByb3RvdHlwZS5zaG93Q3VzdG9tID0gZnVuY3Rpb24oZSkgewogICAgaWYgKGUgIT0gbnVsbCkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9CiAgICByZXR1cm4gdGhpcy50cmlnZ2VyKCd1cGRhdGUtc3dhZ2dlci11aScsIHsKICAgICAgdXJsOiAkKCcjaW5wdXRfYmFzZVVybCcpLnZhbCgpLAogICAgICBhcGlLZXk6ICQoJyNpbnB1dF9hcGlLZXknKS52YWwoKQogICAgfSk7CiAgfTsKCiAgSGVhZGVyVmlldy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24odXJsLCBhcGlLZXksIHRyaWdnZXIpIHsKICAgIGlmICh0cmlnZ2VyID09IG51bGwpIHsKICAgICAgdHJpZ2dlciA9IGZhbHNlOwogICAgfQogICAgJCgnI2lucHV0X2Jhc2VVcmwnKS52YWwodXJsKTsKICAgIGlmICh0cmlnZ2VyKSB7CiAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoJ3VwZGF0ZS1zd2FnZ2VyLXVpJywgewogICAgICAgIHVybDogdXJsCiAgICAgIH0pOwogICAgfQogIH07CgogIHJldHVybiBIZWFkZXJWaWV3OwoKfSkoQmFja2JvbmUuVmlldyk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJwYXJhbSJdID0gSGFuZGxlYmFycy50ZW1wbGF0ZSh7IjEiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNGaWxlIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgyLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCIyIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIgkJCTxpbnB1dCB0eXBlPVwiZmlsZVwiIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIicvPlxuCQkJPGRpdiBjbGFzcz1cInBhcmFtZXRlci1jb250ZW50LXR5cGVcIiAvPlxuIjsKfSwiNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGJ1ZmZlciA9ICIiOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFsnZGVmYXVsdCddIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDcsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCI1IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIgkJCQk8dGV4dGFyZWEgY2xhc3M9J2JvZHktdGV4dGFyZWEnIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbJ2RlZmF1bHQnXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZWZhdWx0IiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC90ZXh0YXJlYT5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYXJhbWV0ZXItY29udGVudC10eXBlXCIgLz5cbiI7Cn0sIjciOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiCQkJCTx0ZXh0YXJlYSBjbGFzcz0nYm9keS10ZXh0YXJlYScgbmFtZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJz48L3RleHRhcmVhPlxuCQkJCTxiciAvPlxuCQkJCTxkaXYgY2xhc3M9XCJwYXJhbWV0ZXItY29udGVudC10eXBlXCIgLz5cbiI7Cn0sIjkiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNGaWxlIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgyLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDEwLCBkYXRhKSwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlcjsKfSwiMTAiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oMTMsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCIxMSI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIJCQkJPGlucHV0IGNsYXNzPSdwYXJhbWV0ZXInIG1pbmxlbmd0aD0nMCcgbmFtZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJyBwbGFjZWhvbGRlcj0nJyB0eXBlPSd0ZXh0JyB2YWx1ZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbJ2RlZmF1bHQnXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZWZhdWx0IiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJy8+XG4iOwp9LCIxMyI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIJCQkJPGlucHV0IGNsYXNzPSdwYXJhbWV0ZXInIG1pbmxlbmd0aD0nMCcgbmFtZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJyBwbGFjZWhvbGRlcj0nJyB0eXBlPSd0ZXh0JyB2YWx1ZT0nJy8+XG4iOwp9LCJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSAiPHRkIGNsYXNzPSdjb2RlJz4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICI8L3RkPlxuPHRkPlxuXG4iOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pc0JvZHkgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oOSwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXG48L3RkPlxuPHRkIGNsYXNzPVwibWFya2Rvd25cIj4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGVzY3JpcHRpb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6ImRlc2NyaXB0aW9uIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICI8L3RkPlxuPHRkPiI7CiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYXJhbVR5cGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhcmFtVHlwZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJwYXJhbVR5cGUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvdGQ+XG48dGQ+XG4JPHNwYW4gY2xhc3M9XCJtb2RlbC1zaWduYXR1cmVcIj48L3NwYW4+XG48L3RkPlxuIjsKfSwidXNlRGF0YSI6dHJ1ZX0pOwp2YXIgTWFpblZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpNYWluVmlldyA9IChmdW5jdGlvbihfc3VwZXIpIHsKICB2YXIgc29ydGVyczsKCiAgX19leHRlbmRzKE1haW5WaWV3LCBfc3VwZXIpOwoKICBmdW5jdGlvbiBNYWluVmlldygpIHsKICAgIHJldHVybiBNYWluVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHNvcnRlcnMgPSB7CiAgICAnYWxwaGEnOiBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBhLnBhdGgubG9jYWxlQ29tcGFyZShiLnBhdGgpOwogICAgfSwKICAgICdtZXRob2QnOiBmdW5jdGlvbihhLCBiKSB7CiAgICAgIHJldHVybiBhLm1ldGhvZC5sb2NhbGVDb21wYXJlKGIubWV0aG9kKTsKICAgIH0KICB9OwoKICBNYWluVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdHMpIHsKICAgIHZhciBhdXRoLCBrZXksIHZhbHVlLCBfcmVmOwogICAgaWYgKG9wdHMgPT0gbnVsbCkgewogICAgICBvcHRzID0ge307CiAgICB9CiAgICB0aGlzLm1vZGVsLmF1dGhzID0gW107CiAgICBfcmVmID0gdGhpcy5tb2RlbC5zZWN1cml0eURlZmluaXRpb25zOwogICAgZm9yIChrZXkgaW4gX3JlZikgewogICAgICB2YWx1ZSA9IF9yZWZba2V5XTsKICAgICAgYXV0aCA9IHsKICAgICAgICBuYW1lOiBrZXksCiAgICAgICAgdHlwZTogdmFsdWUudHlwZSwKICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgfTsKICAgICAgdGhpcy5tb2RlbC5hdXRocy5wdXNoKGF1dGgpOwogICAgfQogICAgaWYgKHRoaXMubW9kZWwuc3dhZ2dlclZlcnNpb24gPT09ICIyLjAiKSB7CiAgICAgIGlmICgidmFsaWRhdG9yVXJsIiBpbiBvcHRzLnN3YWdnZXJPcHRpb25zKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmFsaWRhdG9yVXJsID0gb3B0cy5zd2FnZ2VyT3B0aW9ucy52YWxpZGF0b3JVcmw7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlbC51cmwuaW5kZXhPZigibG9jYWxob3N0IikgPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwudmFsaWRhdG9yVXJsID0gbnVsbDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC52YWxpZGF0b3JVcmwgPSAiaHR0cDovL29ubGluZS5zd2FnZ2VyLmlvL3ZhbGlkYXRvciI7CiAgICAgIH0KICAgIH0KICB9OwoKICBNYWluVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYXV0aCwgYnV0dG9uLCBjb3VudGVyLCBpZCwgbmFtZSwgcmVzb3VyY2UsIHJlc291cmNlcywgX2ksIF9sZW4sIF9yZWY7CiAgICBpZiAodGhpcy5tb2RlbC5zZWN1cml0eURlZmluaXRpb25zKSB7CiAgICAgIGZvciAobmFtZSBpbiB0aGlzLm1vZGVsLnNlY3VyaXR5RGVmaW5pdGlvbnMpIHsKICAgICAgICBhdXRoID0gdGhpcy5tb2RlbC5zZWN1cml0eURlZmluaXRpb25zW25hbWVdOwogICAgICAgIGlmIChhdXRoLnR5cGUgPT09ICJhcGlLZXkiICYmICQoIiNhcGlrZXlfYnV0dG9uIikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBidXR0b24gPSBuZXcgQXBpS2V5QnV0dG9uKHsKICAgICAgICAgICAgbW9kZWw6IGF1dGgKICAgICAgICAgIH0pLnJlbmRlcigpLmVsOwogICAgICAgICAgJCgnLmF1dGhfbWFpbl9jb250YWluZXInKS5hcHBlbmQoYnV0dG9uKTsKICAgICAgICB9CiAgICAgICAgaWYgKGF1dGgudHlwZSA9PT0gImJhc2ljQXV0aCIgJiYgJCgiI2Jhc2ljX2F1dGhfYnV0dG9uIikubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBidXR0b24gPSBuZXcgQmFzaWNBdXRoQnV0dG9uKHsKICAgICAgICAgICAgbW9kZWw6IGF1dGgKICAgICAgICAgIH0pLnJlbmRlcigpLmVsOwogICAgICAgICAgJCgnLmF1dGhfbWFpbl9jb250YWluZXInKS5hcHBlbmQoYnV0dG9uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgICQodGhpcy5lbCkuaHRtbChIYW5kbGViYXJzLnRlbXBsYXRlcy5tYWluKHRoaXMubW9kZWwpKTsKICAgIHJlc291cmNlcyA9IHt9OwogICAgY291bnRlciA9IDA7CiAgICBfcmVmID0gdGhpcy5tb2RlbC5hcGlzQXJyYXk7CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcmVzb3VyY2UgPSBfcmVmW19pXTsKICAgICAgaWQgPSByZXNvdXJjZS5uYW1lOwogICAgICB3aGlsZSAodHlwZW9mIHJlc291cmNlc1tpZF0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWQgPSBpZCArICJfIiArIGNvdW50ZXI7CiAgICAgICAgY291bnRlciArPSAxOwogICAgICB9CiAgICAgIHJlc291cmNlLmlkID0gaWQ7CiAgICAgIHJlc291cmNlc1tpZF0gPSByZXNvdXJjZTsKICAgICAgdGhpcy5hZGRSZXNvdXJjZShyZXNvdXJjZSwgdGhpcy5tb2RlbC5hdXRocyk7CiAgICB9CiAgICAkKCcucHJvcFdyYXAnKS5ob3ZlcihmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICQoJy5vcHRpb25zV3JhcHBlcicsICQodGhpcykpLnNob3coKTsKICAgIH0sIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gJCgnLm9wdGlvbnNXcmFwcGVyJywgJCh0aGlzKSkuaGlkZSgpOwogICAgfSk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBNYWluVmlldy5wcm90b3R5cGUuYWRkUmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZSwgYXV0aHMpIHsKICAgIHZhciByZXNvdXJjZVZpZXc7CiAgICByZXNvdXJjZS5pZCA9IHJlc291cmNlLmlkLnJlcGxhY2UoL1xzL2csICdfJyk7CiAgICByZXNvdXJjZVZpZXcgPSBuZXcgUmVzb3VyY2VWaWV3KHsKICAgICAgbW9kZWw6IHJlc291cmNlLAogICAgICB0YWdOYW1lOiAnbGknLAogICAgICBpZDogJ3Jlc291cmNlXycgKyByZXNvdXJjZS5pZCwKICAgICAgY2xhc3NOYW1lOiAncmVzb3VyY2UnLAogICAgICBhdXRoczogYXV0aHMsCiAgICAgIHN3YWdnZXJPcHRpb25zOiB0aGlzLm9wdGlvbnMuc3dhZ2dlck9wdGlvbnMKICAgIH0pOwogICAgcmV0dXJuICQoJyNyZXNvdXJjZXMnKS5hcHBlbmQocmVzb3VyY2VWaWV3LnJlbmRlcigpLmVsKTsKICB9OwoKICBNYWluVmlldy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkKHRoaXMuZWwpLmh0bWwoJycpOwogIH07CgogIHJldHVybiBNYWluVmlldzsKCn0pKEJhY2tib25lLlZpZXcpOwoKdGhpc1siSGFuZGxlYmFycyJdWyJ0ZW1wbGF0ZXMiXVsicGFyYW1fbGlzdCJdID0gSGFuZGxlYmFycy50ZW1wbGF0ZSh7IjEiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiBtdWx0aXBsZT0nbXVsdGlwbGUnIjsKICB9LCIzIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgcmV0dXJuICIiOwp9LCI1IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwWydkZWZhdWx0J10gOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNiwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXI7Cn0sIjYiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gKChoZWxwZXJzLmlzQXJyYXkgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaXNBcnJheSkgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIGRlcHRoMCwgeyJuYW1lIjoiaXNBcnJheSIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNywgZGF0YSksImRhdGEiOmRhdGF9KSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCI3IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgcmV0dXJuICIgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD1cIlwiIHZhbHVlPScnPjwvb3B0aW9uPlxuIjsKICB9LCI5IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzRGVmYXVsdCA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTAsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oMTIsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCIxMCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQ9XCJcIiB2YWx1ZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InZhbHVlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJz4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy52YWx1ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmFsdWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoidmFsdWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICIgKGRlZmF1bHQpPC9vcHRpb24+XG4iOwp9LCIxMiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgICAgIDxvcHRpb24gdmFsdWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnZhbHVlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC52YWx1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJ2YWx1ZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudmFsdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZhbHVlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InZhbHVlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC9vcHRpb24+XG4iOwp9LCJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSAiPHRkIGNsYXNzPSdjb2RlJz4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICI8L3RkPlxuPHRkPlxuICA8c2VsZWN0ICI7CiAgc3RhY2sxID0gKChoZWxwZXJzLmlzQXJyYXkgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaXNBcnJheSkgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIGRlcHRoMCwgeyJuYW1lIjoiaXNBcnJheSIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIiBjbGFzcz0ncGFyYW1ldGVyJyBuYW1lPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInPlxuIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucmVxdWlyZWQgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNSwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWxsb3dhYmxlVmFsdWVzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5kZXNjcmlwdGl2ZVZhbHVlcyA6IHN0YWNrMSksIHsibmFtZSI6ImVhY2giLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSg5LCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIiAgPC9zZWxlY3Q+XG48L3RkPlxuPHRkIGNsYXNzPVwibWFya2Rvd25cIj4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGVzY3JpcHRpb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6ImRlc2NyaXB0aW9uIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICI8L3RkPlxuPHRkPiI7CiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYXJhbVR5cGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhcmFtVHlwZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJwYXJhbVR5cGUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvdGQ+XG48dGQ+PHNwYW4gY2xhc3M9XCJtb2RlbC1zaWduYXR1cmVcIj48L3NwYW4+PC90ZD4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CnZhciBPcGVyYXRpb25WaWV3LAogIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LAogIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5OwoKT3BlcmF0aW9uVmlldyA9IChmdW5jdGlvbihfc3VwZXIpIHsKICBfX2V4dGVuZHMoT3BlcmF0aW9uVmlldywgX3N1cGVyKTsKCiAgZnVuY3Rpb24gT3BlcmF0aW9uVmlldygpIHsKICAgIHJldHVybiBPcGVyYXRpb25WaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuaW52b2NhdGlvblVybCA9IG51bGw7CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLmV2ZW50cyA9IHsKICAgICdzdWJtaXQgLnNhbmRib3gnOiAnc3VibWl0T3BlcmF0aW9uJywKICAgICdjbGljayAuc3VibWl0JzogJ3N1Ym1pdE9wZXJhdGlvbicsCiAgICAnY2xpY2sgLnJlc3BvbnNlX2hpZGVyJzogJ2hpZGVSZXNwb25zZScsCiAgICAnY2xpY2sgLnRvZ2dsZU9wZXJhdGlvbic6ICd0b2dnbGVPcGVyYXRpb25Db250ZW50JywKICAgICdtb3VzZWVudGVyIC5hcGktaWMnOiAnbW91c2VFbnRlcicsCiAgICAnbW91c2VvdXQgLmFwaS1pYyc6ICdtb3VzZUV4aXQnCiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdHMpIHsKICAgIGlmIChvcHRzID09IG51bGwpIHsKICAgICAgb3B0cyA9IHt9OwogICAgfQogICAgdGhpcy5hdXRocyA9IG9wdHMuYXV0aHM7CiAgICB0aGlzLnBhcmVudElkID0gdGhpcy5tb2RlbC5wYXJlbnRJZDsKICAgIHRoaXMubmlja25hbWUgPSB0aGlzLm1vZGVsLm5pY2tuYW1lOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUubW91c2VFbnRlciA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBlbGVtLCBoZ2gsIHBvcywgc2NNYXhYLCBzY01heFksIHNjWCwgc2NZLCB3ZCwgeCwgeTsKICAgIGVsZW0gPSAkKHRoaXMuZWwpLmZpbmQoJy5jb250ZW50Jyk7CiAgICB4ID0gZS5wYWdlWDsKICAgIHkgPSBlLnBhZ2VZOwogICAgc2NYID0gJCh3aW5kb3cpLnNjcm9sbExlZnQoKTsKICAgIHNjWSA9ICQod2luZG93KS5zY3JvbGxUb3AoKTsKICAgIHNjTWF4WCA9IHNjWCArICQod2luZG93KS53aWR0aCgpOwogICAgc2NNYXhZID0gc2NZICsgJCh3aW5kb3cpLmhlaWdodCgpOwogICAgd2QgPSBlbGVtLndpZHRoKCk7CiAgICBoZ2ggPSBlbGVtLmhlaWdodCgpOwogICAgaWYgKHggKyB3ZCA+IHNjTWF4WCkgewogICAgICB4ID0gc2NNYXhYIC0gd2Q7CiAgICB9CiAgICBpZiAoeCA8IHNjWCkgewogICAgICB4ID0gc2NYOwogICAgfQogICAgaWYgKHkgKyBoZ2ggPiBzY01heFkpIHsKICAgICAgeSA9IHNjTWF4WSAtIGhnaDsKICAgIH0KICAgIGlmICh5IDwgc2NZKSB7CiAgICAgIHkgPSBzY1k7CiAgICB9CiAgICBwb3MgPSB7fTsKICAgIHBvcy50b3AgPSB5OwogICAgcG9zLmxlZnQgPSB4OwogICAgZWxlbS5jc3MocG9zKTsKICAgIHJldHVybiAkKGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlKS5maW5kKCcjYXBpX2luZm9ybWF0aW9uX3BhbmVsJykuc2hvdygpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLm1vdXNlRXhpdCA9IGZ1bmN0aW9uKGUpIHsKICAgIHJldHVybiAkKGUuY3VycmVudFRhcmdldC5wYXJlbnROb2RlKS5maW5kKCcjYXBpX2luZm9ybWF0aW9uX3BhbmVsJykuaGlkZSgpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGEsIGF1dGgsIGF1dGhzLCBjb2RlLCBjb250ZW50VHlwZU1vZGVsLCBpc01ldGhvZFN1Ym1pc3Npb25TdXBwb3J0ZWQsIGssIGtleSwgbW9kZWxBdXRocywgbywgcGFyYW0sIHJlZiwgcmVzcG9uc2VDb250ZW50VHlwZVZpZXcsIHJlc3BvbnNlU2lnbmF0dXJlVmlldywgc2NoZW1hLCBzY2hlbWFPYmosIHNjb3BlSW5kZXgsIHNpZ25hdHVyZU1vZGVsLCBzdGF0dXNDb2RlLCBzdWNjZXNzUmVzcG9uc2UsIHR5cGUsIHYsIHZhbHVlLCBfaSwgX2osIF9rLCBfbCwgX2xlbiwgX2xlbjEsIF9sZW4yLCBfbGVuMywgX2xlbjQsIF9tLCBfcmVmLCBfcmVmMSwgX3JlZjIsIF9yZWYzLCBfcmVmNDsKICAgIGlzTWV0aG9kU3VibWlzc2lvblN1cHBvcnRlZCA9IGpRdWVyeS5pbkFycmF5KHRoaXMubW9kZWwubWV0aG9kLCB0aGlzLm1vZGVsLnN1cHBvcnRlZFN1Ym1pdE1ldGhvZHMoKSkgPj0gMDsKICAgIGlmICghaXNNZXRob2RTdWJtaXNzaW9uU3VwcG9ydGVkKSB7CiAgICAgIHRoaXMubW9kZWwuaXNSZWFkT25seSA9IHRydWU7CiAgICB9CiAgICB0aGlzLm1vZGVsLmRlc2NyaXB0aW9uID0gdGhpcy5tb2RlbC5kZXNjcmlwdGlvbiB8fCB0aGlzLm1vZGVsLm5vdGVzOwogICAgaWYgKHRoaXMubW9kZWwuZGVzY3JpcHRpb24pIHsKICAgICAgdGhpcy5tb2RlbC5kZXNjcmlwdGlvbiA9IHRoaXMubW9kZWwuZGVzY3JpcHRpb24ucmVwbGFjZSgvKD86XHJcbnxccnxcbikvZywgJzxiciAvPicpOwogICAgfQogICAgdGhpcy5tb2RlbC5vYXV0aCA9IG51bGw7CiAgICBtb2RlbEF1dGhzID0gdGhpcy5tb2RlbC5hdXRob3JpemF0aW9ucyB8fCB0aGlzLm1vZGVsLnNlY3VyaXR5OwogICAgaWYgKG1vZGVsQXV0aHMpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWxBdXRocykpIHsKICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IG1vZGVsQXV0aHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICAgIGF1dGhzID0gbW9kZWxBdXRoc1tfaV07CiAgICAgICAgICBmb3IgKGtleSBpbiBhdXRocykgewogICAgICAgICAgICBhdXRoID0gYXV0aHNba2V5XTsKICAgICAgICAgICAgZm9yIChhIGluIHRoaXMuYXV0aHMpIHsKICAgICAgICAgICAgICBhdXRoID0gdGhpcy5hdXRoc1thXTsKICAgICAgICAgICAgICBpZiAoYXV0aC50eXBlID09PSAnb2F1dGgyJykgewogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5vYXV0aCA9IHt9OwogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5vYXV0aC5zY29wZXMgPSBbXTsKICAgICAgICAgICAgICAgIF9yZWYgPSBhdXRoLnZhbHVlLnNjb3BlczsKICAgICAgICAgICAgICAgIGZvciAoayBpbiBfcmVmKSB7CiAgICAgICAgICAgICAgICAgIHYgPSBfcmVmW2tdOwogICAgICAgICAgICAgICAgICBzY29wZUluZGV4ID0gYXV0aHNba2V5XS5pbmRleE9mKGspOwogICAgICAgICAgICAgICAgICBpZiAoc2NvcGVJbmRleCA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgbyA9IHsKICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiBrLAogICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHYKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWwub2F1dGguc2NvcGVzLnB1c2gobyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChrIGluIG1vZGVsQXV0aHMpIHsKICAgICAgICAgIHYgPSBtb2RlbEF1dGhzW2tdOwogICAgICAgICAgaWYgKGsgPT09ICJvYXV0aDIiKSB7CiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLm9hdXRoID09PSBudWxsKSB7CiAgICAgICAgICAgICAgdGhpcy5tb2RlbC5vYXV0aCA9IHt9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLm9hdXRoLnNjb3BlcyA9PT0gdm9pZCAwKSB7CiAgICAgICAgICAgICAgdGhpcy5tb2RlbC5vYXV0aC5zY29wZXMgPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSB2Lmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykgewogICAgICAgICAgICAgIG8gPSB2W19qXTsKICAgICAgICAgICAgICB0aGlzLm1vZGVsLm9hdXRoLnNjb3Blcy5wdXNoKG8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAodHlwZW9mIHRoaXMubW9kZWwucmVzcG9uc2VzICE9PSAndW5kZWZpbmVkJykgewogICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlTWVzc2FnZXMgPSBbXTsKICAgICAgX3JlZjEgPSB0aGlzLm1vZGVsLnJlc3BvbnNlczsKICAgICAgZm9yIChjb2RlIGluIF9yZWYxKSB7CiAgICAgICAgdmFsdWUgPSBfcmVmMVtjb2RlXTsKICAgICAgICBzY2hlbWEgPSBudWxsOwogICAgICAgIHNjaGVtYU9iaiA9IHRoaXMubW9kZWwucmVzcG9uc2VzW2NvZGVdLnNjaGVtYTsKICAgICAgICBpZiAoc2NoZW1hT2JqICYmIHNjaGVtYU9ialsnJHJlZiddKSB7CiAgICAgICAgICBzY2hlbWEgPSBzY2hlbWFPYmpbJyRyZWYnXTsKICAgICAgICAgIGlmIChzY2hlbWEuaW5kZXhPZignIy9kZWZpbml0aW9ucy8nKSA9PT0gMCkgewogICAgICAgICAgICBzY2hlbWEgPSBzY2hlbWEuc3Vic3RyaW5nKCcjL2RlZmluaXRpb25zLycubGVuZ3RoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5tb2RlbC5yZXNwb25zZU1lc3NhZ2VzLnB1c2goewogICAgICAgICAgY29kZTogY29kZSwKICAgICAgICAgIG1lc3NhZ2U6IHZhbHVlLmRlc2NyaXB0aW9uLAogICAgICAgICAgcmVzcG9uc2VNb2RlbDogc2NoZW1hCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlb2YgdGhpcy5tb2RlbC5yZXNwb25zZU1lc3NhZ2VzID09PSAndW5kZWZpbmVkJykgewogICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlTWVzc2FnZXMgPSBbXTsKICAgIH0KICAgIHNpZ25hdHVyZU1vZGVsID0gbnVsbDsKICAgIGlmICh0aGlzLm1vZGVsLnN1Y2Nlc3NSZXNwb25zZSkgewogICAgICBzdWNjZXNzUmVzcG9uc2UgPSB0aGlzLm1vZGVsLnN1Y2Nlc3NSZXNwb25zZTsKICAgICAgZm9yIChrZXkgaW4gc3VjY2Vzc1Jlc3BvbnNlKSB7CiAgICAgICAgdmFsdWUgPSBzdWNjZXNzUmVzcG9uc2Vba2V5XTsKICAgICAgICB0aGlzLm1vZGVsLnN1Y2Nlc3NDb2RlID0ga2V5OwogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5jcmVhdGVKU09OU2FtcGxlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBzaWduYXR1cmVNb2RlbCA9IHsKICAgICAgICAgICAgc2FtcGxlSlNPTjogSlNPTi5zdHJpbmdpZnkodmFsdWUuY3JlYXRlSlNPTlNhbXBsZSgpLCB2b2lkIDAsIDIpLAogICAgICAgICAgICBpc1BhcmFtOiBmYWxzZSwKICAgICAgICAgICAgc2lnbmF0dXJlOiB2YWx1ZS5nZXRNb2NrU2lnbmF0dXJlKCkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHRoaXMubW9kZWwucmVzcG9uc2VDbGFzc1NpZ25hdHVyZSAmJiB0aGlzLm1vZGVsLnJlc3BvbnNlQ2xhc3NTaWduYXR1cmUgIT09ICdzdHJpbmcnKSB7CiAgICAgIHNpZ25hdHVyZU1vZGVsID0gewogICAgICAgIHNhbXBsZUpTT046IHRoaXMubW9kZWwucmVzcG9uc2VTYW1wbGVKU09OLAogICAgICAgIGlzUGFyYW06IGZhbHNlLAogICAgICAgIHNpZ25hdHVyZTogdGhpcy5tb2RlbC5yZXNwb25zZUNsYXNzU2lnbmF0dXJlCiAgICAgIH07CiAgICB9CiAgICAkKHRoaXMuZWwpLmh0bWwoSGFuZGxlYmFycy50ZW1wbGF0ZXMub3BlcmF0aW9uKHRoaXMubW9kZWwpKTsKICAgIGlmIChzaWduYXR1cmVNb2RlbCkgewogICAgICByZXNwb25zZVNpZ25hdHVyZVZpZXcgPSBuZXcgU2lnbmF0dXJlVmlldyh7CiAgICAgICAgbW9kZWw6IHNpZ25hdHVyZU1vZGVsLAogICAgICAgIHRhZ05hbWU6ICdkaXYnCiAgICAgIH0pOwogICAgICAkKCcubW9kZWwtc2lnbmF0dXJlJywgJCh0aGlzLmVsKSkuYXBwZW5kKHJlc3BvbnNlU2lnbmF0dXJlVmlldy5yZW5kZXIoKS5lbCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlQ2xhc3NTaWduYXR1cmUgPSAnc3RyaW5nJzsKICAgICAgJCgnLm1vZGVsLXNpZ25hdHVyZScsICQodGhpcy5lbCkpLmh0bWwodGhpcy5tb2RlbC50eXBlKTsKICAgIH0KICAgIGNvbnRlbnRUeXBlTW9kZWwgPSB7CiAgICAgIGlzUGFyYW06IGZhbHNlCiAgICB9OwogICAgY29udGVudFR5cGVNb2RlbC5jb25zdW1lcyA9IHRoaXMubW9kZWwuY29uc3VtZXM7CiAgICBjb250ZW50VHlwZU1vZGVsLnByb2R1Y2VzID0gdGhpcy5tb2RlbC5wcm9kdWNlczsKICAgIF9yZWYyID0gdGhpcy5tb2RlbC5wYXJhbWV0ZXJzOwogICAgZm9yIChfayA9IDAsIF9sZW4yID0gX3JlZjIubGVuZ3RoOyBfayA8IF9sZW4yOyBfaysrKSB7CiAgICAgIHBhcmFtID0gX3JlZjJbX2tdOwogICAgICB0eXBlID0gcGFyYW0udHlwZSB8fCBwYXJhbS5kYXRhVHlwZSB8fCAnJzsKICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAndW5kZWZpbmVkJykgewogICAgICAgIHNjaGVtYSA9IHBhcmFtLnNjaGVtYTsKICAgICAgICBpZiAoc2NoZW1hICYmIHNjaGVtYVsnJHJlZiddKSB7CiAgICAgICAgICByZWYgPSBzY2hlbWFbJyRyZWYnXTsKICAgICAgICAgIGlmIChyZWYuaW5kZXhPZignIy9kZWZpbml0aW9ucy8nKSA9PT0gMCkgewogICAgICAgICAgICB0eXBlID0gcmVmLnN1YnN0cmluZygnIy9kZWZpbml0aW9ucy8nLmxlbmd0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0eXBlID0gcmVmOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHlwZSAmJiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdmaWxlJykgewogICAgICAgIGlmICghY29udGVudFR5cGVNb2RlbC5jb25zdW1lcykgewogICAgICAgICAgY29udGVudFR5cGVNb2RlbC5jb25zdW1lcyA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgcGFyYW0udHlwZSA9IHR5cGU7CiAgICB9CiAgICByZXNwb25zZUNvbnRlbnRUeXBlVmlldyA9IG5ldyBSZXNwb25zZUNvbnRlbnRUeXBlVmlldyh7CiAgICAgIG1vZGVsOiBjb250ZW50VHlwZU1vZGVsCiAgICB9KTsKICAgICQoJy5yZXNwb25zZS1jb250ZW50LXR5cGUnLCAkKHRoaXMuZWwpKS5hcHBlbmQocmVzcG9uc2VDb250ZW50VHlwZVZpZXcucmVuZGVyKCkuZWwpOwogICAgX3JlZjMgPSB0aGlzLm1vZGVsLnBhcmFtZXRlcnM7CiAgICBmb3IgKF9sID0gMCwgX2xlbjMgPSBfcmVmMy5sZW5ndGg7IF9sIDwgX2xlbjM7IF9sKyspIHsKICAgICAgcGFyYW0gPSBfcmVmM1tfbF07CiAgICAgIHRoaXMuYWRkUGFyYW1ldGVyKHBhcmFtLCBjb250ZW50VHlwZU1vZGVsLmNvbnN1bWVzKTsKICAgIH0KICAgIF9yZWY0ID0gdGhpcy5tb2RlbC5yZXNwb25zZU1lc3NhZ2VzOwogICAgZm9yIChfbSA9IDAsIF9sZW40ID0gX3JlZjQubGVuZ3RoOyBfbSA8IF9sZW40OyBfbSsrKSB7CiAgICAgIHN0YXR1c0NvZGUgPSBfcmVmNFtfbV07CiAgICAgIHRoaXMuYWRkU3RhdHVzQ29kZShzdGF0dXNDb2RlKTsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLmFkZFBhcmFtZXRlciA9IGZ1bmN0aW9uKHBhcmFtLCBjb25zdW1lcykgewogICAgdmFyIHBhcmFtVmlldzsKICAgIHBhcmFtLmNvbnN1bWVzID0gY29uc3VtZXM7CiAgICBwYXJhbVZpZXcgPSBuZXcgUGFyYW1ldGVyVmlldyh7CiAgICAgIG1vZGVsOiBwYXJhbSwKICAgICAgdGFnTmFtZTogJ3RyJywKICAgICAgcmVhZE9ubHk6IHRoaXMubW9kZWwuaXNSZWFkT25seQogICAgfSk7CiAgICByZXR1cm4gJCgnLm9wZXJhdGlvbi1wYXJhbXMnLCAkKHRoaXMuZWwpKS5hcHBlbmQocGFyYW1WaWV3LnJlbmRlcigpLmVsKTsKICB9OwoKICBPcGVyYXRpb25WaWV3LnByb3RvdHlwZS5hZGRTdGF0dXNDb2RlID0gZnVuY3Rpb24oc3RhdHVzQ29kZSkgewogICAgdmFyIHN0YXR1c0NvZGVWaWV3OwogICAgc3RhdHVzQ29kZVZpZXcgPSBuZXcgU3RhdHVzQ29kZVZpZXcoewogICAgICBtb2RlbDogc3RhdHVzQ29kZSwKICAgICAgdGFnTmFtZTogJ3RyJwogICAgfSk7CiAgICByZXR1cm4gJCgnLm9wZXJhdGlvbi1zdGF0dXMnLCAkKHRoaXMuZWwpKS5hcHBlbmQoc3RhdHVzQ29kZVZpZXcucmVuZGVyKCkuZWwpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLnN1Ym1pdE9wZXJhdGlvbiA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBlcnJvcl9mcmVlLCBmb3JtLCBpc0ZpbGVVcGxvYWQsIG1hcCwgbywgb3B0cywgdmFsLCBfaSwgX2osIF9rLCBfbGVuLCBfbGVuMSwgX2xlbjIsIF9yZWYsIF9yZWYxLCBfcmVmMjsKICAgIGlmIChlICE9IG51bGwpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogICAgZm9ybSA9ICQoJy5zYW5kYm94JywgJCh0aGlzLmVsKSk7CiAgICBlcnJvcl9mcmVlID0gdHJ1ZTsKICAgIGZvcm0uZmluZCgiaW5wdXQucmVxdWlyZWQiKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCJlcnJvciIpOwogICAgICBpZiAoalF1ZXJ5LnRyaW0oJCh0aGlzKS52YWwoKSkgPT09ICIiKSB7CiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygiZXJyb3IiKTsKICAgICAgICAkKHRoaXMpLndpZ2dsZSh7CiAgICAgICAgICBjYWxsYmFjazogKGZ1bmN0aW9uKF90aGlzKSB7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICByZXR1cm4gJChfdGhpcykuZm9jdXMoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pKHRoaXMpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGVycm9yX2ZyZWUgPSBmYWxzZTsKICAgICAgfQogICAgfSk7CiAgICBmb3JtLmZpbmQoInRleHRhcmVhLnJlcXVpcmVkIikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygiZXJyb3IiKTsKICAgICAgaWYgKGpRdWVyeS50cmltKCQodGhpcykudmFsKCkpID09PSAiIikgewogICAgICAgICQodGhpcykuYWRkQ2xhc3MoImVycm9yIik7CiAgICAgICAgJCh0aGlzKS53aWdnbGUoewogICAgICAgICAgY2FsbGJhY2s6IChmdW5jdGlvbihfdGhpcykgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcmV0dXJuICQoX3RoaXMpLmZvY3VzKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9KSh0aGlzKQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBlcnJvcl9mcmVlID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKGVycm9yX2ZyZWUpIHsKICAgICAgbWFwID0ge307CiAgICAgIG9wdHMgPSB7CiAgICAgICAgcGFyZW50OiB0aGlzCiAgICAgIH07CiAgICAgIGlzRmlsZVVwbG9hZCA9IGZhbHNlOwogICAgICBfcmVmID0gZm9ybS5maW5kKCJpbnB1dCIpOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBvID0gX3JlZltfaV07CiAgICAgICAgaWYgKChvLnZhbHVlICE9IG51bGwpICYmIGpRdWVyeS50cmltKG8udmFsdWUpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIG1hcFtvLm5hbWVdID0gby52YWx1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKG8udHlwZSA9PT0gImZpbGUiKSB7CiAgICAgICAgICBpc0ZpbGVVcGxvYWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICBfcmVmMSA9IGZvcm0uZmluZCgidGV4dGFyZWEiKTsKICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjEubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7CiAgICAgICAgbyA9IF9yZWYxW19qXTsKICAgICAgICBpZiAoKG8udmFsdWUgIT0gbnVsbCkgJiYgalF1ZXJ5LnRyaW0oby52YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICAgICAgbWFwW28ubmFtZV0gPSBvLnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICBfcmVmMiA9IGZvcm0uZmluZCgic2VsZWN0Iik7CiAgICAgIGZvciAoX2sgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2sgPCBfbGVuMjsgX2srKykgewogICAgICAgIG8gPSBfcmVmMltfa107CiAgICAgICAgdmFsID0gdGhpcy5nZXRTZWxlY3RlZFZhbHVlKG8pOwogICAgICAgIGlmICgodmFsICE9IG51bGwpICYmIGpRdWVyeS50cmltKHZhbCkubGVuZ3RoID4gMCkgewogICAgICAgICAgbWFwW28ubmFtZV0gPSB2YWw7CiAgICAgICAgfQogICAgICB9CiAgICAgIG9wdHMucmVzcG9uc2VDb250ZW50VHlwZSA9ICQoImRpdiBzZWxlY3RbbmFtZT1yZXNwb25zZUNvbnRlbnRUeXBlXSIsICQodGhpcy5lbCkpLnZhbCgpOwogICAgICBvcHRzLnJlcXVlc3RDb250ZW50VHlwZSA9ICQoImRpdiBzZWxlY3RbbmFtZT1wYXJhbWV0ZXJDb250ZW50VHlwZV0iLCAkKHRoaXMuZWwpKS52YWwoKTsKICAgICAgJCgiLnJlc3BvbnNlX3Rocm9iYmVyIiwgJCh0aGlzLmVsKSkuc2hvdygpOwogICAgICBpZiAoaXNGaWxlVXBsb2FkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRmlsZVVwbG9hZChtYXAsIGZvcm0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLm1vZGVsWyJkbyJdKG1hcCwgb3B0cywgdGhpcy5zaG93Q29tcGxldGVTdGF0dXMsIHRoaXMuc2hvd0Vycm9yU3RhdHVzLCB0aGlzKTsKICAgICAgfQogICAgfQogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwb25zZSwgcGFyZW50KSB7CiAgICByZXR1cm4gcGFyZW50LnNob3dDb21wbGV0ZVN0YXR1cyhyZXNwb25zZSk7CiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuaGFuZGxlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uKG1hcCwgZm9ybSkgewogICAgdmFyIGJvZHlQYXJhbSwgZWwsIGhlYWRlclBhcmFtcywgbywgb2JqLCBwYXJhbSwgcGFyYW1zLCBfaSwgX2osIF9rLCBfbCwgX2xlbiwgX2xlbjEsIF9sZW4yLCBfbGVuMywgX3JlZiwgX3JlZjEsIF9yZWYyLCBfcmVmMzsKICAgIF9yZWYgPSBmb3JtLnNlcmlhbGl6ZUFycmF5KCk7CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgbyA9IF9yZWZbX2ldOwogICAgICBpZiAoKG8udmFsdWUgIT0gbnVsbCkgJiYgalF1ZXJ5LnRyaW0oby52YWx1ZSkubGVuZ3RoID4gMCkgewogICAgICAgIG1hcFtvLm5hbWVdID0gby52YWx1ZTsKICAgICAgfQogICAgfQogICAgYm9keVBhcmFtID0gbmV3IEZvcm1EYXRhKCk7CiAgICBwYXJhbXMgPSAwOwogICAgX3JlZjEgPSB0aGlzLm1vZGVsLnBhcmFtZXRlcnM7CiAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSBfcmVmMS5sZW5ndGg7IF9qIDwgX2xlbjE7IF9qKyspIHsKICAgICAgcGFyYW0gPSBfcmVmMVtfal07CiAgICAgIGlmIChwYXJhbS5wYXJhbVR5cGUgPT09ICdmb3JtJykgewogICAgICAgIGlmIChwYXJhbS50eXBlLnRvTG93ZXJDYXNlKCkgIT09ICdmaWxlJyAmJiBtYXBbcGFyYW0ubmFtZV0gIT09IHZvaWQgMCkgewogICAgICAgICAgYm9keVBhcmFtLmFwcGVuZChwYXJhbS5uYW1lLCBtYXBbcGFyYW0ubmFtZV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaGVhZGVyUGFyYW1zID0ge307CiAgICBfcmVmMiA9IHRoaXMubW9kZWwucGFyYW1ldGVyczsKICAgIGZvciAoX2sgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2sgPCBfbGVuMjsgX2srKykgewogICAgICBwYXJhbSA9IF9yZWYyW19rXTsKICAgICAgaWYgKHBhcmFtLnBhcmFtVHlwZSA9PT0gJ2hlYWRlcicpIHsKICAgICAgICBoZWFkZXJQYXJhbXNbcGFyYW0ubmFtZV0gPSBtYXBbcGFyYW0ubmFtZV07CiAgICAgIH0KICAgIH0KICAgIF9yZWYzID0gZm9ybS5maW5kKCdpbnB1dFt0eXBlfj0iZmlsZSJdJyk7CiAgICBmb3IgKF9sID0gMCwgX2xlbjMgPSBfcmVmMy5sZW5ndGg7IF9sIDwgX2xlbjM7IF9sKyspIHsKICAgICAgZWwgPSBfcmVmM1tfbF07CiAgICAgIGlmICh0eXBlb2YgZWwuZmlsZXNbMF0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgYm9keVBhcmFtLmFwcGVuZCgkKGVsKS5hdHRyKCduYW1lJyksIGVsLmZpbGVzWzBdKTsKICAgICAgICBwYXJhbXMgKz0gMTsKICAgICAgfQogICAgfQogICAgdGhpcy5pbnZvY2F0aW9uVXJsID0gdGhpcy5tb2RlbC5zdXBwb3J0SGVhZGVyUGFyYW1zKCkgPyAoaGVhZGVyUGFyYW1zID0gdGhpcy5tb2RlbC5nZXRIZWFkZXJQYXJhbXMobWFwKSwgZGVsZXRlIGhlYWRlclBhcmFtc1snQ29udGVudC1UeXBlJ10sIHRoaXMubW9kZWwudXJsaWZ5KG1hcCwgZmFsc2UpKSA6IHRoaXMubW9kZWwudXJsaWZ5KG1hcCwgdHJ1ZSk7CiAgICAkKCIucmVxdWVzdF91cmwiLCAkKHRoaXMuZWwpKS5odG1sKCI8cHJlPjwvcHJlPiIpOwogICAgJCgiLnJlcXVlc3RfdXJsIHByZSIsICQodGhpcy5lbCkpLnRleHQodGhpcy5pbnZvY2F0aW9uVXJsKTsKICAgIG9iaiA9IHsKICAgICAgdHlwZTogdGhpcy5tb2RlbC5tZXRob2QsCiAgICAgIHVybDogdGhpcy5pbnZvY2F0aW9uVXJsLAogICAgICBoZWFkZXJzOiBoZWFkZXJQYXJhbXMsCiAgICAgIGRhdGE6IGJvZHlQYXJhbSwKICAgICAgZGF0YVR5cGU6ICdqc29uJywKICAgICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAgIGVycm9yOiAoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywgZXJyb3IpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zaG93RXJyb3JTdGF0dXMoX3RoaXMud3JhcChkYXRhKSwgX3RoaXMpOwogICAgICAgIH07CiAgICAgIH0pKHRoaXMpLAogICAgICBzdWNjZXNzOiAoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dSZXNwb25zZShkYXRhLCBfdGhpcyk7CiAgICAgICAgfTsKICAgICAgfSkodGhpcyksCiAgICAgIGNvbXBsZXRlOiAoZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnNob3dDb21wbGV0ZVN0YXR1cyhfdGhpcy53cmFwKGRhdGEpLCBfdGhpcyk7CiAgICAgICAgfTsKICAgICAgfSkodGhpcykKICAgIH07CiAgICBpZiAod2luZG93LmF1dGhvcml6YXRpb25zKSB7CiAgICAgIHdpbmRvdy5hdXRob3JpemF0aW9ucy5hcHBseShvYmopOwogICAgfQogICAgaWYgKHBhcmFtcyA9PT0gMCkgewogICAgICBvYmouZGF0YS5hcHBlbmQoImZha2UiLCAidHJ1ZSIpOwogICAgfQogICAgalF1ZXJ5LmFqYXgob2JqKTsKICAgIHJldHVybiBmYWxzZTsKICB9OwoKICBPcGVyYXRpb25WaWV3LnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24oZGF0YSkgewogICAgdmFyIGgsIGhlYWRlckFycmF5LCBoZWFkZXJzLCBpLCBvLCBfaSwgX2xlbjsKICAgIGhlYWRlcnMgPSB7fTsKICAgIGhlYWRlckFycmF5ID0gZGF0YS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgiXHIiKTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gaGVhZGVyQXJyYXkubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgaSA9IGhlYWRlckFycmF5W19pXTsKICAgICAgaCA9IGkubWF0Y2goL14oW146XSo/KTooLiopJC8pOwogICAgICBpZiAoIWgpIHsKICAgICAgICBoID0gW107CiAgICAgIH0KICAgICAgaC5zaGlmdCgpOwogICAgICBpZiAoaFswXSAhPT0gdm9pZCAwICYmIGhbMV0gIT09IHZvaWQgMCkgewogICAgICAgIGhlYWRlcnNbaFswXS50cmltKCldID0gaFsxXS50cmltKCk7CiAgICAgIH0KICAgIH0KICAgIG8gPSB7fTsKICAgIG8uY29udGVudCA9IHt9OwogICAgby5jb250ZW50LmRhdGEgPSBkYXRhLnJlc3BvbnNlVGV4dDsKICAgIG8uaGVhZGVycyA9IGhlYWRlcnM7CiAgICBvLnJlcXVlc3QgPSB7fTsKICAgIG8ucmVxdWVzdC51cmwgPSB0aGlzLmludm9jYXRpb25Vcmw7CiAgICBvLnN0YXR1cyA9IGRhdGEuc3RhdHVzOwogICAgcmV0dXJuIG87CiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRWYWx1ZSA9IGZ1bmN0aW9uKHNlbGVjdCkgewogICAgdmFyIG9wdCwgb3B0aW9ucywgX2ksIF9sZW4sIF9yZWY7CiAgICBpZiAoIXNlbGVjdC5tdWx0aXBsZSkgewogICAgICByZXR1cm4gc2VsZWN0LnZhbHVlOwogICAgfSBlbHNlIHsKICAgICAgb3B0aW9ucyA9IFtdOwogICAgICBfcmVmID0gc2VsZWN0Lm9wdGlvbnM7CiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgIG9wdCA9IF9yZWZbX2ldOwogICAgICAgIGlmIChvcHQuc2VsZWN0ZWQpIHsKICAgICAgICAgIG9wdGlvbnMucHVzaChvcHQudmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9OwoKICBPcGVyYXRpb25WaWV3LnByb3RvdHlwZS5oaWRlUmVzcG9uc2UgPSBmdW5jdGlvbihlKSB7CiAgICBpZiAoZSAhPSBudWxsKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0KICAgICQoIi5yZXNwb25zZSIsICQodGhpcy5lbCkpLnNsaWRlVXAoKTsKICAgIHJldHVybiAkKCIucmVzcG9uc2VfaGlkZXIiLCAkKHRoaXMuZWwpKS5mYWRlT3V0KCk7CiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuc2hvd1Jlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgIHZhciBwcmV0dHlKc29uOwogICAgcHJldHR5SnNvbiA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLCBudWxsLCAiXHQiKS5yZXBsYWNlKC9cbi9nLCAiPGJyPiIpOwogICAgcmV0dXJuICQoIi5yZXNwb25zZV9ib2R5IiwgJCh0aGlzLmVsKSkuaHRtbChlc2NhcGUocHJldHR5SnNvbikpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLnNob3dFcnJvclN0YXR1cyA9IGZ1bmN0aW9uKGRhdGEsIHBhcmVudCkgewogICAgcmV0dXJuIHBhcmVudC5zaG93U3RhdHVzKGRhdGEpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLnNob3dDb21wbGV0ZVN0YXR1cyA9IGZ1bmN0aW9uKGRhdGEsIHBhcmVudCkgewogICAgcmV0dXJuIHBhcmVudC5zaG93U3RhdHVzKGRhdGEpOwogIH07CgogIE9wZXJhdGlvblZpZXcucHJvdG90eXBlLmZvcm1hdFhtbCA9IGZ1bmN0aW9uKHhtbCkgewogICAgdmFyIGNvbnRleHAsIGZvcm1hdHRlZCwgaW5kZW50LCBsYXN0VHlwZSwgbGluZXMsIGxuLCBwYWQsIHJlZywgdHJhbnNpdGlvbnMsIHdzZXhwLCBfZm4sIF9pLCBfbGVuOwogICAgcmVnID0gLyg+KSg8KShcLyopL2c7CiAgICB3c2V4cCA9IC9bIF0qKC4qKVsgXStcbi9nOwogICAgY29udGV4cCA9IC8oPC4rPikoLitcbikvZzsKICAgIHhtbCA9IHhtbC5yZXBsYWNlKHJlZywgJyQxXG4kMiQzJykucmVwbGFjZSh3c2V4cCwgJyQxXG4nKS5yZXBsYWNlKGNvbnRleHAsICckMVxuJDInKTsKICAgIHBhZCA9IDA7CiAgICBmb3JtYXR0ZWQgPSAnJzsKICAgIGxpbmVzID0geG1sLnNwbGl0KCdcbicpOwogICAgaW5kZW50ID0gMDsKICAgIGxhc3RUeXBlID0gJ290aGVyJzsKICAgIHRyYW5zaXRpb25zID0gewogICAgICAnc2luZ2xlLT5zaW5nbGUnOiAwLAogICAgICAnc2luZ2xlLT5jbG9zaW5nJzogLTEsCiAgICAgICdzaW5nbGUtPm9wZW5pbmcnOiAwLAogICAgICAnc2luZ2xlLT5vdGhlcic6IDAsCiAgICAgICdjbG9zaW5nLT5zaW5nbGUnOiAwLAogICAgICAnY2xvc2luZy0+Y2xvc2luZyc6IC0xLAogICAgICAnY2xvc2luZy0+b3BlbmluZyc6IDAsCiAgICAgICdjbG9zaW5nLT5vdGhlcic6IDAsCiAgICAgICdvcGVuaW5nLT5zaW5nbGUnOiAxLAogICAgICAnb3BlbmluZy0+Y2xvc2luZyc6IDAsCiAgICAgICdvcGVuaW5nLT5vcGVuaW5nJzogMSwKICAgICAgJ29wZW5pbmctPm90aGVyJzogMSwKICAgICAgJ290aGVyLT5zaW5nbGUnOiAwLAogICAgICAnb3RoZXItPmNsb3NpbmcnOiAtMSwKICAgICAgJ290aGVyLT5vcGVuaW5nJzogMCwKICAgICAgJ290aGVyLT5vdGhlcic6IDAKICAgIH07CiAgICBfZm4gPSBmdW5jdGlvbihsbikgewogICAgICB2YXIgZnJvbVRvLCBqLCBrZXksIHBhZGRpbmcsIHR5cGUsIHR5cGVzLCB2YWx1ZTsKICAgICAgdHlwZXMgPSB7CiAgICAgICAgc2luZ2xlOiBCb29sZWFuKGxuLm1hdGNoKC88LitcLz4vKSksCiAgICAgICAgY2xvc2luZzogQm9vbGVhbihsbi5tYXRjaCgvPFwvLis+LykpLAogICAgICAgIG9wZW5pbmc6IEJvb2xlYW4obG4ubWF0Y2goLzxbXiE/XS4qPi8pKQogICAgICB9OwogICAgICB0eXBlID0gKChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgX3Jlc3VsdHM7CiAgICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgICBmb3IgKGtleSBpbiB0eXBlcykgewogICAgICAgICAgdmFsdWUgPSB0eXBlc1trZXldOwogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goa2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgICB9KSgpKVswXTsKICAgICAgdHlwZSA9IHR5cGUgPT09IHZvaWQgMCA/ICdvdGhlcicgOiB0eXBlOwogICAgICBmcm9tVG8gPSBsYXN0VHlwZSArICctPicgKyB0eXBlOwogICAgICBsYXN0VHlwZSA9IHR5cGU7CiAgICAgIHBhZGRpbmcgPSAnJzsKICAgICAgaW5kZW50ICs9IHRyYW5zaXRpb25zW2Zyb21Ub107CiAgICAgIHBhZGRpbmcgPSAoKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBfaiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgICBmb3IgKGogPSBfaiA9IDAsIF9yZWYgPSBpbmRlbnQ7IDAgPD0gX3JlZiA/IF9qIDwgX3JlZiA6IF9qID4gX3JlZjsgaiA9IDAgPD0gX3JlZiA/ICsrX2ogOiAtLV9qKSB7CiAgICAgICAgICBfcmVzdWx0cy5wdXNoKCcgICcpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICAgIH0pKCkpLmpvaW4oJycpOwogICAgICBpZiAoZnJvbVRvID09PSAnb3BlbmluZy0+Y2xvc2luZycpIHsKICAgICAgICByZXR1cm4gZm9ybWF0dGVkID0gZm9ybWF0dGVkLnN1YnN0cigwLCBmb3JtYXR0ZWQubGVuZ3RoIC0gMSkgKyBsbiArICdcbic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZCArPSBwYWRkaW5nICsgbG4gKyAnXG4nOwogICAgICB9CiAgICB9OwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBsaW5lcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBsbiA9IGxpbmVzW19pXTsKICAgICAgX2ZuKGxuKTsKICAgIH0KICAgIHJldHVybiBmb3JtYXR0ZWQ7CiAgfTsKCiAgT3BlcmF0aW9uVmlldy5wcm90b3R5cGUuc2hvd1N0YXR1cyA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICB2YXIgY29kZSwgY29udGVudCwgY29udGVudFR5cGUsIGUsIGhlYWRlcnMsIGpzb24sIG9wdHMsIHByZSwgcmVzcG9uc2VfYm9keSwgcmVzcG9uc2VfYm9keV9lbCwgdXJsOwogICAgaWYgKHJlc3BvbnNlLmNvbnRlbnQgPT09IHZvaWQgMCkgewogICAgICBjb250ZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgdXJsID0gcmVzcG9uc2UudXJsOwogICAgfSBlbHNlIHsKICAgICAgY29udGVudCA9IHJlc3BvbnNlLmNvbnRlbnQuZGF0YTsKICAgICAgdXJsID0gcmVzcG9uc2UucmVxdWVzdC51cmw7CiAgICB9CiAgICBoZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVyczsKICAgIGNvbnRlbnRUeXBlID0gbnVsbDsKICAgIGlmIChoZWFkZXJzKSB7CiAgICAgIGNvbnRlbnRUeXBlID0gaGVhZGVyc1siQ29udGVudC1UeXBlIl0gfHwgaGVhZGVyc1siY29udGVudC10eXBlIl07CiAgICAgIGlmIChjb250ZW50VHlwZSkgewogICAgICAgIGNvbnRlbnRUeXBlID0gY29udGVudFR5cGUuc3BsaXQoIjsiKVswXS50cmltKCk7CiAgICAgIH0KICAgIH0KICAgICQoIi5yZXNwb25zZV9ib2R5IiwgJCh0aGlzLmVsKSkucmVtb3ZlQ2xhc3MoJ2pzb24nKTsKICAgICQoIi5yZXNwb25zZV9ib2R5IiwgJCh0aGlzLmVsKSkucmVtb3ZlQ2xhc3MoJ3htbCcpOwogICAgaWYgKCFjb250ZW50KSB7CiAgICAgIGNvZGUgPSAkKCc8Y29kZSAvPicpLnRleHQoIm5vIGNvbnRlbnQiKTsKICAgICAgcHJlID0gJCgnPHByZSBjbGFzcz0ianNvbiIgLz4nKS5hcHBlbmQoY29kZSk7CiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlID09PSAiYXBwbGljYXRpb24vanNvbiIgfHwgL1wranNvbiQvLnRlc3QoY29udGVudFR5cGUpKSB7CiAgICAgIGpzb24gPSBudWxsOwogICAgICB0cnkgewogICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKGNvbnRlbnQpLCBudWxsLCAiICAiKTsKICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7CiAgICAgICAgZSA9IF9lcnJvcjsKICAgICAgICBqc29uID0gImNhbid0IHBhcnNlIEpTT04uICBSYXcgcmVzdWx0OlxuXG4iICsgY29udGVudDsKICAgICAgfQogICAgICBjb2RlID0gJCgnPGNvZGUgLz4nKS50ZXh0KGpzb24pOwogICAgICBwcmUgPSAkKCc8cHJlIGNsYXNzPSJqc29uIiAvPicpLmFwcGVuZChjb2RlKTsKICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgPT09ICJhcHBsaWNhdGlvbi94bWwiIHx8IC9cK3htbCQvLnRlc3QoY29udGVudFR5cGUpKSB7CiAgICAgIGNvZGUgPSAkKCc8Y29kZSAvPicpLnRleHQodGhpcy5mb3JtYXRYbWwoY29udGVudCkpOwogICAgICBwcmUgPSAkKCc8cHJlIGNsYXNzPSJ4bWwiIC8+JykuYXBwZW5kKGNvZGUpOwogICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSA9PT0gInRleHQvaHRtbCIpIHsKICAgICAgY29kZSA9ICQoJzxjb2RlIC8+JykuaHRtbChfLmVzY2FwZShjb250ZW50KSk7CiAgICAgIHByZSA9ICQoJzxwcmUgY2xhc3M9InhtbCIgLz4nKS5hcHBlbmQoY29kZSk7CiAgICB9IGVsc2UgaWYgKC9eaW1hZ2VcLy8udGVzdChjb250ZW50VHlwZSkpIHsKICAgICAgcHJlID0gJCgnPGltZz4nKS5hdHRyKCdzcmMnLCB1cmwpOwogICAgfSBlbHNlIHsKICAgICAgY29kZSA9ICQoJzxjb2RlIC8+JykudGV4dChjb250ZW50KTsKICAgICAgcHJlID0gJCgnPHByZSBjbGFzcz0ianNvbiIgLz4nKS5hcHBlbmQoY29kZSk7CiAgICB9CiAgICByZXNwb25zZV9ib2R5ID0gcHJlOwogICAgJCgiLnJlcXVlc3RfdXJsIiwgJCh0aGlzLmVsKSkuaHRtbCgiPHByZT48L3ByZT4iKTsKICAgICQoIi5yZXF1ZXN0X3VybCBwcmUiLCAkKHRoaXMuZWwpKS50ZXh0KHVybCk7CiAgICAkKCIucmVzcG9uc2VfY29kZSIsICQodGhpcy5lbCkpLmh0bWwoIjxwcmU+IiArIHJlc3BvbnNlLnN0YXR1cyArICI8L3ByZT4iKTsKICAgICQoIi5yZXNwb25zZV9ib2R5IiwgJCh0aGlzLmVsKSkuaHRtbChyZXNwb25zZV9ib2R5KTsKICAgICQoIi5yZXNwb25zZV9oZWFkZXJzIiwgJCh0aGlzLmVsKSkuaHRtbCgiPHByZT4iICsgXy5lc2NhcGUoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuaGVhZGVycywgbnVsbCwgIiAgIikpLnJlcGxhY2UoL1xuL2csICI8YnI+IikgKyAiPC9wcmU+Iik7CiAgICAkKCIucmVzcG9uc2UiLCAkKHRoaXMuZWwpKS5zbGlkZURvd24oKTsKICAgICQoIi5yZXNwb25zZV9oaWRlciIsICQodGhpcy5lbCkpLnNob3coKTsKICAgICQoIi5yZXNwb25zZV90aHJvYmJlciIsICQodGhpcy5lbCkpLmhpZGUoKTsKICAgIHJlc3BvbnNlX2JvZHlfZWwgPSAkKCcucmVzcG9uc2VfYm9keScsICQodGhpcy5lbCkpWzBdOwogICAgb3B0cyA9IHRoaXMub3B0aW9ucy5zd2FnZ2VyT3B0aW9uczsKICAgIGlmIChvcHRzLmhpZ2hsaWdodFNpemVUaHJlc2hvbGQgJiYgcmVzcG9uc2UuZGF0YS5sZW5ndGggPiBvcHRzLmhpZ2hsaWdodFNpemVUaHJlc2hvbGQpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlX2JvZHlfZWw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gaGxqcy5oaWdobGlnaHRCbG9jayhyZXNwb25zZV9ib2R5X2VsKTsKICAgIH0KICB9OwoKICBPcGVyYXRpb25WaWV3LnByb3RvdHlwZS50b2dnbGVPcGVyYXRpb25Db250ZW50ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgZWxlbTsKICAgIGVsZW0gPSAkKCcjJyArIERvY3MuZXNjYXBlUmVzb3VyY2VOYW1lKHRoaXMucGFyZW50SWQgKyAiXyIgKyB0aGlzLm5pY2tuYW1lICsgIl9jb250ZW50IikpOwogICAgaWYgKGVsZW0uaXMoJzp2aXNpYmxlJykpIHsKICAgICAgcmV0dXJuIERvY3MuY29sbGFwc2VPcGVyYXRpb24oZWxlbSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gRG9jcy5leHBhbmRPcGVyYXRpb24oZWxlbSk7CiAgICB9CiAgfTsKCiAgcmV0dXJuIE9wZXJhdGlvblZpZXc7Cgp9KShCYWNrYm9uZS5WaWV3KTsKCnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bInBhcmFtX3JlYWRvbmx5Il0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiMSI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz0nYm9keS10ZXh0YXJlYScgcmVhZG9ubHk9J3JlYWRvbmx5JyBuYW1lPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzWydkZWZhdWx0J10gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwWydkZWZhdWx0J10gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiZGVmYXVsdCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIjwvdGV4dGFyZWE+XG4iOwp9LCIzIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwWydkZWZhdWx0J10gOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNiwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXI7Cn0sIjQiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiICAgICAgICAgICAgIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbJ2RlZmF1bHQnXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZWZhdWx0IiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiXG4iOwp9LCI2IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgcmV0dXJuICIgICAgICAgICAgICAoZW1wdHkpXG4iOwogIH0sImNvbXBpbGVyIjpbNiwiPj0gMi4wLjAtYmV0YS4xIl0sIm1haW4iOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGJ1ZmZlciA9ICI8dGQgY2xhc3M9J2NvZGUnPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIjwvdGQ+XG48dGQ+XG4iOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pc0JvZHkgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oMywgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC90ZD5cbjx0ZCBjbGFzcz1cIm1hcmtkb3duXCI+IjsKICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmRlc2NyaXB0aW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXNjcmlwdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZXNjcmlwdGlvbiIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC90ZD5cbjx0ZD4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFyYW1UeXBlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYXJhbVR5cGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoicGFyYW1UeXBlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICI8L3RkPlxuPHRkPjxzcGFuIGNsYXNzPVwibW9kZWwtc2lnbmF0dXJlXCI+PC9zcGFuPjwvdGQ+XG4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CnZhciBQYXJhbWV0ZXJDb250ZW50VHlwZVZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpQYXJhbWV0ZXJDb250ZW50VHlwZVZpZXcgPSAoZnVuY3Rpb24oX3N1cGVyKSB7CiAgX19leHRlbmRzKFBhcmFtZXRlckNvbnRlbnRUeXBlVmlldywgX3N1cGVyKTsKCiAgZnVuY3Rpb24gUGFyYW1ldGVyQ29udGVudFR5cGVWaWV3KCkgewogICAgcmV0dXJuIFBhcmFtZXRlckNvbnRlbnRUeXBlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIFBhcmFtZXRlckNvbnRlbnRUeXBlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307CgogIFBhcmFtZXRlckNvbnRlbnRUeXBlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdGVtcGxhdGU7CiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUoKTsKICAgICQodGhpcy5lbCkuaHRtbCh0ZW1wbGF0ZSh0aGlzLm1vZGVsKSk7CiAgICAkKCdsYWJlbFtmb3I9cGFyYW1ldGVyQ29udGVudFR5cGVdJywgJCh0aGlzLmVsKSkudGV4dCgnUGFyYW1ldGVyIGNvbnRlbnQgdHlwZTonKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIFBhcmFtZXRlckNvbnRlbnRUeXBlVmlldy5wcm90b3R5cGUudGVtcGxhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiBIYW5kbGViYXJzLnRlbXBsYXRlcy5wYXJhbWV0ZXJfY29udGVudF90eXBlOwogIH07CgogIHJldHVybiBQYXJhbWV0ZXJDb250ZW50VHlwZVZpZXc7Cgp9KShCYWNrYm9uZS5WaWV3KTsKCnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bInBhcmFtX3JlYWRvbmx5X3JlcXVpcmVkIl0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiMSI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz0nYm9keS10ZXh0YXJlYScgIHJlYWRvbmx5PSdyZWFkb25seScgcGxhY2Vob2xkZXI9JyhyZXF1aXJlZCknIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbJ2RlZmF1bHQnXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZWZhdWx0IiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC90ZXh0YXJlYT5cbiI7Cn0sIjMiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oNCwgZGF0YSksImludmVyc2UiOnRoaXMucHJvZ3JhbSg2LCBkYXRhKSwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlcjsKfSwiNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIgICAgICAgICAgICAiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVyc1snZGVmYXVsdCddIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFsnZGVmYXVsdCddIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6ImRlZmF1bHQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICJcbiI7Cn0sIjYiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiAgICAgICAgICAgIChlbXB0eSlcbiI7CiAgfSwiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gIjx0ZCBjbGFzcz0nY29kZSByZXF1aXJlZCc+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC90ZD5cbjx0ZD5cbiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzQm9keSA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksImludmVyc2UiOnRoaXMucHJvZ3JhbSgzLCBkYXRhKSwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICI8L3RkPlxuPHRkIGNsYXNzPVwibWFya2Rvd25cIj4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGVzY3JpcHRpb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6ImRlc2NyaXB0aW9uIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICI8L3RkPlxuPHRkPiI7CiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYXJhbVR5cGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhcmFtVHlwZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJwYXJhbVR5cGUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvdGQ+XG48dGQ+PHNwYW4gY2xhc3M9XCJtb2RlbC1zaWduYXR1cmVcIj48L3NwYW4+PC90ZD5cbiI7Cn0sInVzZURhdGEiOnRydWV9KTsKdmFyIFBhcmFtZXRlclZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpQYXJhbWV0ZXJWaWV3ID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhQYXJhbWV0ZXJWaWV3LCBfc3VwZXIpOwoKICBmdW5jdGlvbiBQYXJhbWV0ZXJWaWV3KCkgewogICAgcmV0dXJuIFBhcmFtZXRlclZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBQYXJhbWV0ZXJWaWV3LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaXNBcnJheScsIGZ1bmN0aW9uKHBhcmFtLCBvcHRzKSB7CiAgICAgIGlmIChwYXJhbS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdhcnJheScgfHwgcGFyYW0uYWxsb3dNdWx0aXBsZSkgewogICAgICAgIHJldHVybiBvcHRzLmZuKHRoaXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBvcHRzLmludmVyc2UodGhpcyk7CiAgICAgIH0KICAgIH0pOwogIH07CgogIFBhcmFtZXRlclZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvbnRlbnRUeXBlTW9kZWwsIGlzUGFyYW0sIHBhcmFtZXRlckNvbnRlbnRUeXBlVmlldywgcmVmLCByZXNwb25zZUNvbnRlbnRUeXBlVmlldywgc2NoZW1hLCBzaWduYXR1cmVNb2RlbCwgc2lnbmF0dXJlVmlldywgdGVtcGxhdGUsIHR5cGU7CiAgICB0eXBlID0gdGhpcy5tb2RlbC50eXBlIHx8IHRoaXMubW9kZWwuZGF0YVR5cGU7CiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHNjaGVtYSA9IHRoaXMubW9kZWwuc2NoZW1hOwogICAgICBpZiAoc2NoZW1hICYmIHNjaGVtYVsnJHJlZiddKSB7CiAgICAgICAgcmVmID0gc2NoZW1hWyckcmVmJ107CiAgICAgICAgaWYgKHJlZi5pbmRleE9mKCcjL2RlZmluaXRpb25zLycpID09PSAwKSB7CiAgICAgICAgICB0eXBlID0gcmVmLnN1YnN0cmluZygnIy9kZWZpbml0aW9ucy8nLmxlbmd0aCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHR5cGUgPSByZWY7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB0aGlzLm1vZGVsLnR5cGUgPSB0eXBlOwogICAgdGhpcy5tb2RlbC5wYXJhbVR5cGUgPSB0aGlzLm1vZGVsWyJpbiJdIHx8IHRoaXMubW9kZWwucGFyYW1UeXBlOwogICAgaWYgKHRoaXMubW9kZWwucGFyYW1UeXBlID09PSAnYm9keScgfHwgdGhpcy5tb2RlbFsiaW4iXSA9PT0gJ2JvZHknKSB7CiAgICAgIHRoaXMubW9kZWwuaXNCb2R5ID0gdHJ1ZTsKICAgIH0KICAgIGlmICh0eXBlICYmIHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZpbGUnKSB7CiAgICAgIHRoaXMubW9kZWwuaXNGaWxlID0gdHJ1ZTsKICAgIH0KICAgIHRoaXMubW9kZWxbImRlZmF1bHQiXSA9IHRoaXMubW9kZWxbImRlZmF1bHQiXSB8fCB0aGlzLm1vZGVsLmRlZmF1bHRWYWx1ZTsKICAgIGlmICh0aGlzLm1vZGVsLmFsbG93YWJsZVZhbHVlcykgewogICAgICB0aGlzLm1vZGVsLmlzTGlzdCA9IHRydWU7CiAgICB9CiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUoKTsKICAgICQodGhpcy5lbCkuaHRtbCh0ZW1wbGF0ZSh0aGlzLm1vZGVsKSk7CiAgICBzaWduYXR1cmVNb2RlbCA9IHsKICAgICAgc2FtcGxlSlNPTjogdGhpcy5tb2RlbC5zYW1wbGVKU09OLAogICAgICBpc1BhcmFtOiB0cnVlLAogICAgICBzaWduYXR1cmU6IHRoaXMubW9kZWwuc2lnbmF0dXJlCiAgICB9OwogICAgaWYgKHRoaXMubW9kZWwuc2FtcGxlSlNPTikgewogICAgICBzaWduYXR1cmVWaWV3ID0gbmV3IFNpZ25hdHVyZVZpZXcoewogICAgICAgIG1vZGVsOiBzaWduYXR1cmVNb2RlbCwKICAgICAgICB0YWdOYW1lOiAnZGl2JwogICAgICB9KTsKICAgICAgJCgnLm1vZGVsLXNpZ25hdHVyZScsICQodGhpcy5lbCkpLmFwcGVuZChzaWduYXR1cmVWaWV3LnJlbmRlcigpLmVsKTsKICAgIH0gZWxzZSB7CiAgICAgICQoJy5tb2RlbC1zaWduYXR1cmUnLCAkKHRoaXMuZWwpKS5odG1sKHRoaXMubW9kZWwuc2lnbmF0dXJlKTsKICAgIH0KICAgIGlzUGFyYW0gPSBmYWxzZTsKICAgIGlmICh0aGlzLm1vZGVsLmlzQm9keSkgewogICAgICBpc1BhcmFtID0gdHJ1ZTsKICAgIH0KICAgIGNvbnRlbnRUeXBlTW9kZWwgPSB7CiAgICAgIGlzUGFyYW06IGlzUGFyYW0KICAgIH07CiAgICBjb250ZW50VHlwZU1vZGVsLmNvbnN1bWVzID0gdGhpcy5tb2RlbC5jb25zdW1lczsKICAgIGlmIChpc1BhcmFtKSB7CiAgICAgIHBhcmFtZXRlckNvbnRlbnRUeXBlVmlldyA9IG5ldyBQYXJhbWV0ZXJDb250ZW50VHlwZVZpZXcoewogICAgICAgIG1vZGVsOiBjb250ZW50VHlwZU1vZGVsCiAgICAgIH0pOwogICAgICAkKCcucGFyYW1ldGVyLWNvbnRlbnQtdHlwZScsICQodGhpcy5lbCkpLmFwcGVuZChwYXJhbWV0ZXJDb250ZW50VHlwZVZpZXcucmVuZGVyKCkuZWwpOwogICAgfSBlbHNlIHsKICAgICAgcmVzcG9uc2VDb250ZW50VHlwZVZpZXcgPSBuZXcgUmVzcG9uc2VDb250ZW50VHlwZVZpZXcoewogICAgICAgIG1vZGVsOiBjb250ZW50VHlwZU1vZGVsCiAgICAgIH0pOwogICAgICAkKCcucmVzcG9uc2UtY29udGVudC10eXBlJywgJCh0aGlzLmVsKSkuYXBwZW5kKHJlc3BvbnNlQ29udGVudFR5cGVWaWV3LnJlbmRlcigpLmVsKTsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIFBhcmFtZXRlclZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5tb2RlbC5pc0xpc3QpIHsKICAgICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLnBhcmFtX2xpc3Q7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5vcHRpb25zLnJlYWRPbmx5KSB7CiAgICAgICAgaWYgKHRoaXMubW9kZWwucmVxdWlyZWQpIHsKICAgICAgICAgIHJldHVybiBIYW5kbGViYXJzLnRlbXBsYXRlcy5wYXJhbV9yZWFkb25seV9yZXF1aXJlZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLnBhcmFtX3JlYWRvbmx5OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5tb2RlbC5yZXF1aXJlZCkgewogICAgICAgICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLnBhcmFtX3JlcXVpcmVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy50ZW1wbGF0ZXMucGFyYW07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgcmV0dXJuIFBhcmFtZXRlclZpZXc7Cgp9KShCYWNrYm9uZS5WaWV3KTsKCnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bInBhcmFtX3JlcXVpcmVkIl0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiMSI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGJ1ZmZlciA9ICIiOwogIHN0YWNrMSA9IGhlbHBlcnNbJ2lmJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pc0ZpbGUgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNCwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXI7Cn0sIjIiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiCQkJPGlucHV0IHR5cGU9XCJmaWxlXCIgbmFtZT0nIgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJuYW1lIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiJy8+XG4iOwp9LCI0IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwWydkZWZhdWx0J10gOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDUsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNywgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXI7Cn0sIjUiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiCQkJCTx0ZXh0YXJlYSBjbGFzcz0nYm9keS10ZXh0YXJlYSByZXF1aXJlZCcgcGxhY2Vob2xkZXI9JyhyZXF1aXJlZCknIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbJ2RlZmF1bHQnXSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbJ2RlZmF1bHQnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZWZhdWx0IiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC90ZXh0YXJlYT5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYXJhbWV0ZXItY29udGVudC10eXBlXCIgLz5cbiI7Cn0sIjciOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiCQkJCTx0ZXh0YXJlYSBjbGFzcz0nYm9keS10ZXh0YXJlYSByZXF1aXJlZCcgcGxhY2Vob2xkZXI9JyhyZXF1aXJlZCknIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+PC90ZXh0YXJlYT5cbgkJCQk8YnIgLz5cbgkJCQk8ZGl2IGNsYXNzPVwicGFyYW1ldGVyLWNvbnRlbnQtdHlwZVwiIC8+XG4iOwp9LCI5IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzRmlsZSA6IGRlcHRoMCksIHsibmFtZSI6ImlmIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMTAsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oMTIsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCIxMCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT0iZnVuY3Rpb24iLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247CiAgcmV0dXJuICIJCQk8aW5wdXQgY2xhc3M9J3BhcmFtZXRlcicgY2xhc3M9J3JlcXVpcmVkJyB0eXBlPSdmaWxlJyBuYW1lPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInLz5cbiI7Cn0sIjEyIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwWydkZWZhdWx0J10gOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEzLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDE1LCBkYXRhKSwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlcjsKfSwiMTMiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uOwogIHJldHVybiAiCQkJCTxpbnB1dCBjbGFzcz0ncGFyYW1ldGVyIHJlcXVpcmVkJyBtaW5sZW5ndGg9JzEnIG5hbWU9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIicgcGxhY2Vob2xkZXI9JyhyZXF1aXJlZCknIHR5cGU9J3RleHQnIHZhbHVlPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVyc1snZGVmYXVsdCddIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFsnZGVmYXVsdCddIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6ImRlZmF1bHQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInLz5cbiI7Cn0sIjE1IjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIgkJCQk8aW5wdXQgY2xhc3M9J3BhcmFtZXRlciByZXF1aXJlZCcgbWlubGVuZ3RoPScxJyBuYW1lPSciCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInIHBsYWNlaG9sZGVyPScocmVxdWlyZWQpJyB0eXBlPSd0ZXh0JyB2YWx1ZT0nJy8+XG4iOwp9LCJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSAiPHRkIGNsYXNzPSdjb2RlIHJlcXVpcmVkJz4iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6Im5hbWUiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICI8L3RkPlxuPHRkPlxuIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNCb2R5IDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDksIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIjwvdGQ+XG48dGQ+XG4JPHN0cm9uZz48c3BhbiBjbGFzcz1cIm1hcmtkb3duXCI+IjsKICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmRlc2NyaXB0aW9uIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kZXNjcmlwdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJkZXNjcmlwdGlvbiIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiPC9zcGFuPjwvc3Ryb25nPlxuPC90ZD5cbjx0ZD4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucGFyYW1UeXBlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYXJhbVR5cGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoicGFyYW1UeXBlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICI8L3RkPlxuPHRkPjxzcGFuIGNsYXNzPVwibW9kZWwtc2lnbmF0dXJlXCI+PC9zcGFuPjwvdGQ+XG4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CnZhciBSZXNvdXJjZVZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpSZXNvdXJjZVZpZXcgPSAoZnVuY3Rpb24oX3N1cGVyKSB7CiAgX19leHRlbmRzKFJlc291cmNlVmlldywgX3N1cGVyKTsKCiAgZnVuY3Rpb24gUmVzb3VyY2VWaWV3KCkgewogICAgcmV0dXJuIFJlc291cmNlVmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIFJlc291cmNlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdHMpIHsKICAgIGlmIChvcHRzID09IG51bGwpIHsKICAgICAgb3B0cyA9IHt9OwogICAgfQogICAgdGhpcy5hdXRocyA9IG9wdHMuYXV0aHM7CiAgICBpZiAoIiIgPT09IHRoaXMubW9kZWwuZGVzY3JpcHRpb24pIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZGVzY3JpcHRpb24gPSBudWxsOwogICAgfQogIH07CgogIFJlc291cmNlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgY291bnRlciwgaWQsIG1ldGhvZHMsIG9wZXJhdGlvbiwgX2ksIF9sZW4sIF9yZWY7CiAgICBtZXRob2RzID0ge307CiAgICBpZiAodGhpcy5tb2RlbC5kZXNjcmlwdGlvbiAhPSBudWxsKSB7CiAgICAgIHRoaXMubW9kZWwuc3VtbWFyeSA9IHRoaXMubW9kZWwuZGVzY3JpcHRpb247CiAgICB9CiAgICAkKHRoaXMuZWwpLmh0bWwoSGFuZGxlYmFycy50ZW1wbGF0ZXMucmVzb3VyY2UodGhpcy5tb2RlbCkpOwogICAgX3JlZiA9IHRoaXMubW9kZWwub3BlcmF0aW9uc0FycmF5OwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIG9wZXJhdGlvbiA9IF9yZWZbX2ldOwogICAgICBjb3VudGVyID0gMDsKICAgICAgaWQgPSBvcGVyYXRpb24ubmlja25hbWU7CiAgICAgIHdoaWxlICh0eXBlb2YgbWV0aG9kc1tpZF0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaWQgPSBpZCArICJfIiArIGNvdW50ZXI7CiAgICAgICAgY291bnRlciArPSAxOwogICAgICB9CiAgICAgIG1ldGhvZHNbaWRdID0gb3BlcmF0aW9uOwogICAgICBvcGVyYXRpb24ubmlja25hbWUgPSBpZDsKICAgICAgb3BlcmF0aW9uLnBhcmVudElkID0gdGhpcy5tb2RlbC5pZDsKICAgICAgdGhpcy5hZGRPcGVyYXRpb24ob3BlcmF0aW9uKTsKICAgIH0KICAgICQoJy50b2dnbGVFbmRwb2ludExpc3QnLCB0aGlzLmVsKS5jbGljayh0aGlzLmNhbGxEb2NzLmJpbmQodGhpcywgJ3RvZ2dsZUVuZHBvaW50TGlzdEZvclJlc291cmNlJykpOwogICAgJCgnLmNvbGxhcHNlUmVzb3VyY2UnLCB0aGlzLmVsKS5jbGljayh0aGlzLmNhbGxEb2NzLmJpbmQodGhpcywgJ2NvbGxhcHNlT3BlcmF0aW9uc0ZvclJlc291cmNlJykpOwogICAgJCgnLmV4cGFuZFJlc291cmNlJywgdGhpcy5lbCkuY2xpY2sodGhpcy5jYWxsRG9jcy5iaW5kKHRoaXMsICdleHBhbmRPcGVyYXRpb25zRm9yUmVzb3VyY2UnKSk7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBSZXNvdXJjZVZpZXcucHJvdG90eXBlLmFkZE9wZXJhdGlvbiA9IGZ1bmN0aW9uKG9wZXJhdGlvbikgewogICAgdmFyIG9wZXJhdGlvblZpZXc7CiAgICBvcGVyYXRpb24ubnVtYmVyID0gdGhpcy5udW1iZXI7CiAgICBvcGVyYXRpb25WaWV3ID0gbmV3IE9wZXJhdGlvblZpZXcoewogICAgICBtb2RlbDogb3BlcmF0aW9uLAogICAgICB0YWdOYW1lOiAnbGknLAogICAgICBjbGFzc05hbWU6ICdlbmRwb2ludCcsCiAgICAgIHN3YWdnZXJPcHRpb25zOiB0aGlzLm9wdGlvbnMuc3dhZ2dlck9wdGlvbnMsCiAgICAgIGF1dGhzOiB0aGlzLmF1dGhzCiAgICB9KTsKICAgICQoJy5lbmRwb2ludHMnLCAkKHRoaXMuZWwpKS5hcHBlbmQob3BlcmF0aW9uVmlldy5yZW5kZXIoKS5lbCk7CiAgICByZXR1cm4gdGhpcy5udW1iZXIrKzsKICB9OwoKICBSZXNvdXJjZVZpZXcucHJvdG90eXBlLmNhbGxEb2NzID0gZnVuY3Rpb24oZm5OYW1lLCBlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICByZXR1cm4gRG9jc1tmbk5hbWVdKGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7CiAgfTsKCiAgcmV0dXJuIFJlc291cmNlVmlldzsKCn0pKEJhY2tib25lLlZpZXcpOwoKdGhpc1siSGFuZGxlYmFycyJdWyJ0ZW1wbGF0ZXMiXVsicGFyYW1ldGVyX2NvbnRlbnRfdHlwZSJdID0gSGFuZGxlYmFycy50ZW1wbGF0ZSh7IjEiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiIjsKICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25zdW1lcyA6IGRlcHRoMCksIHsibmFtZSI6ImVhY2giLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgyLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5ub29wLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyOwp9LCIyIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBidWZmZXIgPSAiICA8b3B0aW9uIHZhbHVlPVwiIjsKICBzdGFjazEgPSBsYW1iZGEoZGVwdGgwLCBkZXB0aDApOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgYnVmZmVyICs9ICJcIj4iOwogIHN0YWNrMSA9IGxhbWJkYShkZXB0aDAsIGRlcHRoMCk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvb3B0aW9uPlxuIjsKfSwiNCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiICA8b3B0aW9uIHZhbHVlPVwiYXBwbGljYXRpb24vanNvblwiPmFwcGxpY2F0aW9uL2pzb248L29wdGlvbj5cbiI7CiAgfSwiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGJ1ZmZlciA9ICI8bGFiZWwgZm9yPVwicGFyYW1ldGVyQ29udGVudFR5cGVcIj48L2xhYmVsPlxuPHNlbGVjdCBuYW1lPVwicGFyYW1ldGVyQ29udGVudFR5cGVcIj5cbiI7CiAgc3RhY2sxID0gaGVscGVyc1snaWYnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbnN1bWVzIDogZGVwdGgwKSwgeyJuYW1lIjoiaWYiLCJoYXNoIjp7fSwiZm4iOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSwiaW52ZXJzZSI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLCJkYXRhIjpkYXRhfSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIjwvc2VsZWN0PlxuIjsKfSwidXNlRGF0YSI6dHJ1ZX0pOwp2YXIgUmVzcG9uc2VDb250ZW50VHlwZVZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpSZXNwb25zZUNvbnRlbnRUeXBlVmlldyA9IChmdW5jdGlvbihfc3VwZXIpIHsKICBfX2V4dGVuZHMoUmVzcG9uc2VDb250ZW50VHlwZVZpZXcsIF9zdXBlcik7CgogIGZ1bmN0aW9uIFJlc3BvbnNlQ29udGVudFR5cGVWaWV3KCkgewogICAgcmV0dXJuIFJlc3BvbnNlQ29udGVudFR5cGVWaWV3Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgUmVzcG9uc2VDb250ZW50VHlwZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OwoKICBSZXNwb25zZUNvbnRlbnRUeXBlVmlldy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdGVtcGxhdGU7CiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUoKTsKICAgICQodGhpcy5lbCkuaHRtbCh0ZW1wbGF0ZSh0aGlzLm1vZGVsKSk7CiAgICAkKCdsYWJlbFtmb3I9cmVzcG9uc2VDb250ZW50VHlwZV0nLCAkKHRoaXMuZWwpKS50ZXh0KCdSZXNwb25zZSBDb250ZW50IFR5cGUnKTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIFJlc3BvbnNlQ29udGVudFR5cGVWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLnJlc3BvbnNlX2NvbnRlbnRfdHlwZTsKICB9OwoKICByZXR1cm4gUmVzcG9uc2VDb250ZW50VHlwZVZpZXc7Cgp9KShCYWNrYm9uZS5WaWV3KTsKCnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bInJlc291cmNlIl0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiMSI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHJldHVybiAiIDogIjsKICB9LCIzIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjsKICByZXR1cm4gIjxsaT5cbiAgICAgIDxhIGhyZWY9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InVybCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIic+UmF3PC9hPlxuICAgIDwvbGk+IjsKfSwiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGhlbHBlciwgb3B0aW9ucywgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYmxvY2tIZWxwZXJNaXNzaW5nPWhlbHBlcnMuYmxvY2tIZWxwZXJNaXNzaW5nLCBidWZmZXIgPSAiPGRpdiBjbGFzcz0naGVhZGluZyc+XG4gIDxoMj5cbiAgICA8YSBocmVmPScjIS8iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiaWQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInIGNsYXNzPVwidG9nZ2xlRW5kcG9pbnRMaXN0XCIgZGF0YS1pZD1cIiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJpZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIlwiPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoibmFtZSIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIjwvYT4gIjsKICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnN1bW1hcnkgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnN1bW1hcnkgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKG9wdGlvbnM9eyJuYW1lIjoic3VtbWFyeSIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlcikpOwogIGlmICghaGVscGVycy5zdW1tYXJ5KSB7IHN0YWNrMSA9IGJsb2NrSGVscGVyTWlzc2luZy5jYWxsKGRlcHRoMCwgc3RhY2sxLCBvcHRpb25zKTsgfQogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5zdW1tYXJ5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdW1tYXJ5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHsibmFtZSI6InN1bW1hcnkiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSk7CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICBidWZmZXIgKz0gIlxuICA8L2gyPlxuICA8dWwgY2xhc3M9J29wdGlvbnMnPlxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9JyMhLyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJpZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIicgaWQ9J2VuZHBvaW50TGlzdFRvZ2dlcl8iCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiaWQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICInIGNsYXNzPVwidG9nZ2xlRW5kcG9pbnRMaXN0XCIgZGF0YS1pZD1cIiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJpZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIlwiPlNob3cvSGlkZTwvYT5cbiAgICA8L2xpPlxuICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9JyMnIGNsYXNzPVwiY29sbGFwc2VSZXNvdXJjZVwiIGRhdGEtaWQ9XCIiCiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoiaWQiLCJoYXNoIjp7fSwiZGF0YSI6ZGF0YX0pIDogaGVscGVyKSkpCiAgICArICJcIj5cbiAgICAgICAgTGlzdCBPcGVyYXRpb25zXG4gICAgICA8L2E+XG4gICAgPC9saT5cbiAgICA8bGk+XG4gICAgICA8YSBocmVmPScjJyBjbGFzcz1cImV4cGFuZFJlc291cmNlXCIgZGF0YS1pZD1cIiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJpZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIlwiPlxuICAgICAgICBFeHBhbmQgT3BlcmF0aW9uc1xuICAgICAgPC9hPlxuICAgIDwvbGk+XG4gICAgIjsKICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLChvcHRpb25zPXsibmFtZSI6InVybCIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLm5vb3AsImRhdGEiOmRhdGF9KSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCBvcHRpb25zKSA6IGhlbHBlcikpOwogIGlmICghaGVscGVycy51cmwpIHsgc3RhY2sxID0gYmxvY2tIZWxwZXJNaXNzaW5nLmNhbGwoZGVwdGgwLCBzdGFjazEsIG9wdGlvbnMpOyB9CiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH0KICByZXR1cm4gYnVmZmVyICsgIlxuICA8L3VsPlxuPC9kaXY+XG48dWwgY2xhc3M9J2VuZHBvaW50cycgaWQ9JyIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJpZCIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIl9lbmRwb2ludF9saXN0JyBzdHlsZT0nZGlzcGxheTpub25lJz5cblxuPC91bD5cbiI7Cn0sInVzZURhdGEiOnRydWV9KTsKdmFyIFNpZ25hdHVyZVZpZXcsCiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sCiAgX19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7CgpTaWduYXR1cmVWaWV3ID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhTaWduYXR1cmVWaWV3LCBfc3VwZXIpOwoKICBmdW5jdGlvbiBTaWduYXR1cmVWaWV3KCkgewogICAgcmV0dXJuIFNpZ25hdHVyZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBTaWduYXR1cmVWaWV3LnByb3RvdHlwZS5ldmVudHMgPSB7CiAgICAnY2xpY2sgYS5kZXNjcmlwdGlvbi1saW5rJzogJ3N3aXRjaFRvRGVzY3JpcHRpb24nLAogICAgJ2NsaWNrIGEuc25pcHBldC1saW5rJzogJ3N3aXRjaFRvU25pcHBldCcsCiAgICAnbW91c2Vkb3duIC5zbmlwcGV0JzogJ3NuaXBwZXRUb1RleHRBcmVhJwogIH07CgogIFNpZ25hdHVyZVZpZXcucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OwoKICBTaWduYXR1cmVWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciB0ZW1wbGF0ZTsKICAgIHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZSgpOwogICAgJCh0aGlzLmVsKS5odG1sKHRlbXBsYXRlKHRoaXMubW9kZWwpKTsKICAgIHRoaXMuc3dpdGNoVG9TbmlwcGV0KCk7CiAgICB0aGlzLmlzUGFyYW0gPSB0aGlzLm1vZGVsLmlzUGFyYW07CiAgICBpZiAodGhpcy5pc1BhcmFtKSB7CiAgICAgICQoJy5ub3RpY2UnLCAkKHRoaXMuZWwpKS50ZXh0KCdDbGljayB0byBzZXQgYXMgcGFyYW1ldGVyIHZhbHVlJyk7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBTaWduYXR1cmVWaWV3LnByb3RvdHlwZS50ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEhhbmRsZWJhcnMudGVtcGxhdGVzLnNpZ25hdHVyZTsKICB9OwoKICBTaWduYXR1cmVWaWV3LnByb3RvdHlwZS5zd2l0Y2hUb0Rlc2NyaXB0aW9uID0gZnVuY3Rpb24oZSkgewogICAgaWYgKGUgIT0gbnVsbCkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9CiAgICAkKCIuc25pcHBldCIsICQodGhpcy5lbCkpLmhpZGUoKTsKICAgICQoIi5kZXNjcmlwdGlvbiIsICQodGhpcy5lbCkpLnNob3coKTsKICAgICQoJy5kZXNjcmlwdGlvbi1saW5rJywgJCh0aGlzLmVsKSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CiAgICByZXR1cm4gJCgnLnNuaXBwZXQtbGluaycsICQodGhpcy5lbCkpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwogIH07CgogIFNpZ25hdHVyZVZpZXcucHJvdG90eXBlLnN3aXRjaFRvU25pcHBldCA9IGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlICE9IG51bGwpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfQogICAgJCgiLmRlc2NyaXB0aW9uIiwgJCh0aGlzLmVsKSkuaGlkZSgpOwogICAgJCgiLnNuaXBwZXQiLCAkKHRoaXMuZWwpKS5zaG93KCk7CiAgICAkKCcuc25pcHBldC1saW5rJywgJCh0aGlzLmVsKSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CiAgICByZXR1cm4gJCgnLmRlc2NyaXB0aW9uLWxpbmsnLCAkKHRoaXMuZWwpKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKICB9OwoKICBTaWduYXR1cmVWaWV3LnByb3RvdHlwZS5zbmlwcGV0VG9UZXh0QXJlYSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciB0ZXh0QXJlYTsKICAgIGlmICh0aGlzLmlzUGFyYW0pIHsKICAgICAgaWYgKGUgIT0gbnVsbCkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgICB0ZXh0QXJlYSA9ICQoJ3RleHRhcmVhJywgJCh0aGlzLmVsLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKSk7CiAgICAgIGlmICgkLnRyaW0odGV4dEFyZWEudmFsKCkpID09PSAnJykgewogICAgICAgIHJldHVybiB0ZXh0QXJlYS52YWwodGhpcy5tb2RlbC5zYW1wbGVKU09OKTsKICAgICAgfQogICAgfQogIH07CgogIHJldHVybiBTaWduYXR1cmVWaWV3OwoKfSkoQmFja2JvbmUuVmlldyk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJyZXNwb25zZV9jb250ZW50X3R5cGUiXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyIxIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gIiI7CiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJvZHVjZXMgOiBkZXB0aDApLCB7Im5hbWUiOiJlYWNoIiwiaGFzaCI6e30sImZuIjp0aGlzLnByb2dyYW0oMiwgZGF0YSksImludmVyc2UiOnRoaXMubm9vcCwiZGF0YSI6ZGF0YX0pOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlcjsKfSwiMiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgYnVmZmVyID0gIiAgPG9wdGlvbiB2YWx1ZT1cIiI7CiAgc3RhY2sxID0gbGFtYmRhKGRlcHRoMCwgZGVwdGgwKTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIGJ1ZmZlciArPSAiXCI+IjsKICBzdGFjazEgPSBsYW1iZGEoZGVwdGgwLCBkZXB0aDApOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICI8L29wdGlvbj5cbiI7Cn0sIjQiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICByZXR1cm4gIiAgPG9wdGlvbiB2YWx1ZT1cImFwcGxpY2F0aW9uL2pzb25cIj5hcHBsaWNhdGlvbi9qc29uPC9vcHRpb24+XG4iOwogIH0sImNvbXBpbGVyIjpbNiwiPj0gMi4wLjAtYmV0YS4xIl0sIm1haW4iOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHsKICB2YXIgc3RhY2sxLCBidWZmZXIgPSAiPGxhYmVsIGZvcj1cInJlc3BvbnNlQ29udGVudFR5cGVcIj48L2xhYmVsPlxuPHNlbGVjdCBuYW1lPVwicmVzcG9uc2VDb250ZW50VHlwZVwiPlxuIjsKICBzdGFjazEgPSBoZWxwZXJzWydpZiddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucHJvZHVjZXMgOiBkZXB0aDApLCB7Im5hbWUiOiJpZiIsImhhc2giOnt9LCJmbiI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLCJpbnZlcnNlIjp0aGlzLnByb2dyYW0oNCwgZGF0YSksImRhdGEiOmRhdGF9KTsKICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfQogIHJldHVybiBidWZmZXIgKyAiPC9zZWxlY3Q+XG4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CnZhciBTdGF0dXNDb2RlVmlldywKICBfX2V4dGVuZHMgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKF9faGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSwKICBfX2hhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTsKClN0YXR1c0NvZGVWaWV3ID0gKGZ1bmN0aW9uKF9zdXBlcikgewogIF9fZXh0ZW5kcyhTdGF0dXNDb2RlVmlldywgX3N1cGVyKTsKCiAgZnVuY3Rpb24gU3RhdHVzQ29kZVZpZXcoKSB7CiAgICByZXR1cm4gU3RhdHVzQ29kZVZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBTdGF0dXNDb2RlVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307CgogIFN0YXR1c0NvZGVWaWV3LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciByZXNwb25zZU1vZGVsLCByZXNwb25zZU1vZGVsVmlldywgdGVtcGxhdGU7CiAgICB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUoKTsKICAgICQodGhpcy5lbCkuaHRtbCh0ZW1wbGF0ZSh0aGlzLm1vZGVsKSk7CiAgICBpZiAoc3dhZ2dlclVpLmFwaS5tb2RlbHMuaGFzT3duUHJvcGVydHkodGhpcy5tb2RlbC5yZXNwb25zZU1vZGVsKSkgewogICAgICByZXNwb25zZU1vZGVsID0gewogICAgICAgIHNhbXBsZUpTT046IEpTT04uc3RyaW5naWZ5KHN3YWdnZXJVaS5hcGkubW9kZWxzW3RoaXMubW9kZWwucmVzcG9uc2VNb2RlbF0uY3JlYXRlSlNPTlNhbXBsZSgpLCBudWxsLCAyKSwKICAgICAgICBpc1BhcmFtOiBmYWxzZSwKICAgICAgICBzaWduYXR1cmU6IHN3YWdnZXJVaS5hcGkubW9kZWxzW3RoaXMubW9kZWwucmVzcG9uc2VNb2RlbF0uZ2V0TW9ja1NpZ25hdHVyZSgpCiAgICAgIH07CiAgICAgIHJlc3BvbnNlTW9kZWxWaWV3ID0gbmV3IFNpZ25hdHVyZVZpZXcoewogICAgICAgIG1vZGVsOiByZXNwb25zZU1vZGVsLAogICAgICAgIHRhZ05hbWU6ICdkaXYnCiAgICAgIH0pOwogICAgICAkKCcubW9kZWwtc2lnbmF0dXJlJywgdGhpcy4kZWwpLmFwcGVuZChyZXNwb25zZU1vZGVsVmlldy5yZW5kZXIoKS5lbCk7CiAgICB9IGVsc2UgewogICAgICAkKCcubW9kZWwtc2lnbmF0dXJlJywgdGhpcy4kZWwpLmh0bWwoJycpOwogICAgfQogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgU3RhdHVzQ29kZVZpZXcucHJvdG90eXBlLnRlbXBsYXRlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gSGFuZGxlYmFycy50ZW1wbGF0ZXMuc3RhdHVzX2NvZGU7CiAgfTsKCiAgcmV0dXJuIFN0YXR1c0NvZGVWaWV3OwoKfSkoQmFja2JvbmUuVmlldyk7Cgp0aGlzWyJIYW5kbGViYXJzIl1bInRlbXBsYXRlcyJdWyJzaWduYXR1cmUiXSA9IEhhbmRsZWJhcnMudGVtcGxhdGUoeyJjb21waWxlciI6WzYsIj49IDIuMC4wLWJldGEuMSJdLCJtYWluIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7CiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9ImZ1bmN0aW9uIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSAiPGRpdj5cbjx1bCBjbGFzcz1cInNpZ25hdHVyZS1uYXZcIj5cbiAgPGxpPjxhIGNsYXNzPVwiZGVzY3JpcHRpb24tbGlua1wiIGhyZWY9XCIjXCI+TW9kZWw8L2E+PC9saT5cbiAgPGxpPjxhIGNsYXNzPVwic25pcHBldC1saW5rXCIgaHJlZj1cIiNcIj5Nb2RlbCBTY2hlbWE8L2E+PC9saT5cbjwvdWw+XG48ZGl2PlxuXG48ZGl2IGNsYXNzPVwic2lnbmF0dXJlLWNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwiZGVzY3JpcHRpb25cIj5cbiAgICAiOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc2lnbmF0dXJlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zaWduYXR1cmUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoic2lnbmF0dXJlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICJcbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInNuaXBwZXRcIj5cbiAgICA8cHJlPjxjb2RlPiIKICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnNhbXBsZUpTT04gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNhbXBsZUpTT04gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwgeyJuYW1lIjoic2FtcGxlSlNPTiIsImhhc2giOnt9LCJkYXRhIjpkYXRhfSkgOiBoZWxwZXIpKSkKICAgICsgIjwvY29kZT48L3ByZT5cbiAgICA8c21hbGwgY2xhc3M9XCJub3RpY2VcIj48L3NtYWxsPlxuICA8L2Rpdj5cbjwvZGl2PlxuXG4iOwp9LCJ1c2VEYXRhIjp0cnVlfSk7CnRoaXNbIkhhbmRsZWJhcnMiXVsidGVtcGxhdGVzIl1bInN0YXR1c19jb2RlIl0gPSBIYW5kbGViYXJzLnRlbXBsYXRlKHsiY29tcGlsZXIiOls2LCI+PSAyLjAuMC1iZXRhLjEiXSwibWFpbiI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkgewogIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPSJmdW5jdGlvbiIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gIjx0ZCB3aWR0aD0nMTUlJyBjbGFzcz0nY29kZSc+IgogICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY29kZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29kZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJjb2RlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpKQogICAgKyAiPC90ZD5cbjx0ZD4iOwogIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubWVzc2FnZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWVzc2FnZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7Im5hbWUiOiJtZXNzYWdlIiwiaGFzaCI6e30sImRhdGEiOmRhdGF9KSA6IGhlbHBlcikpOwogIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9CiAgcmV0dXJuIGJ1ZmZlciArICI8L3RkPlxuPHRkIHdpZHRoPSc1MCUnPjxzcGFuIGNsYXNzPVwibW9kZWwtc2lnbmF0dXJlXCIgLz48L3RkPiI7Cn0sInVzZURhdGEiOnRydWV9KTs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887918" offset="0" length="2760" />
          <PacketInfo time="2972887933" offset="2760" length="13608" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="147" hostname="10.239.251.82" path="/swagger-static/lib/swagger-client.js" url="http://10.239.251.82:8080/swagger-static/lib/swagger-client.js" ip="10.239.251.82" port="8080" connectionId="9" origin="HTML" frame="1" startTime="2972887855" endTime="2972887933">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvc3dhZ2dlci1jbGllbnQuanMgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiAqLyoNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OC4wLjI1NjQuOTcgU2FmYXJpLzUzNy4zNg0KUmVmZXJlcjogaHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIHNkY2gNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjFiZTYxMWMyM2RjOTZlMWE0NzdjMGI0MmE5NjQ1NjA1LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTkzODg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIwIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiMWJlNjExYzIzZGM5NmUxYTQ3N2MwYjQyYTk2NDU2MDUtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMTkzODgNCg0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoqCiAqIHN3YWdnZXItY2xpZW50IC0gc3dhZ2dlci5qcyBpcyBhIGphdmFzY3JpcHQgY2xpZW50IGZvciB1c2Ugd2l0aCBzd2FnZ2VyaW5nIEFQSXMuCiAqIEB2ZXJzaW9uIHYyLjEuMy1NMQogKiBAbGluayBodHRwOi8vc3dhZ2dlci5pbwogKiBAbGljZW5zZSBhcGFjaGUgMi4wCiAqLwooZnVuY3Rpb24oKXsKdmFyIEFycmF5TW9kZWwgPSBmdW5jdGlvbihkZWZpbml0aW9uKSB7CiAgdGhpcy5uYW1lID0gImFycmF5TW9kZWwiOwogIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb24gfHwge307CiAgdGhpcy5wcm9wZXJ0aWVzID0gW107CiAgCiAgdmFyIHJlcXVpcmVkRmllbGRzID0gZGVmaW5pdGlvbi5lbnVtIHx8IFtdOwogIHZhciBpbm5lclR5cGUgPSBkZWZpbml0aW9uLml0ZW1zOwogIGlmKGlubmVyVHlwZSkgewogICAgaWYoaW5uZXJUeXBlLnR5cGUpIHsKICAgICAgdGhpcy50eXBlID0gdHlwZUZyb21Kc29uU2NoZW1hKGlubmVyVHlwZS50eXBlLCBpbm5lclR5cGUuZm9ybWF0KTsKICAgIH0KICAgIGVsc2UgewogICAgICB0aGlzLnJlZiA9IGlubmVyVHlwZS4kcmVmOwogICAgfQogIH0KICByZXR1cm4gdGhpczsKfTsKCkFycmF5TW9kZWwucHJvdG90eXBlLmNyZWF0ZUpTT05TYW1wbGUgPSBmdW5jdGlvbihtb2RlbHNUb0lnbm9yZSkgewogIHZhciByZXN1bHQ7CiAgbW9kZWxzVG9JZ25vcmUgPSAobW9kZWxzVG9JZ25vcmV8fHt9KTsKICBpZih0aGlzLnR5cGUpIHsKICAgIHJlc3VsdCA9IHRoaXMudHlwZTsKICB9CiAgZWxzZSBpZiAodGhpcy5yZWYpIHsKICAgIHZhciBuYW1lID0gc2ltcGxlUmVmKHRoaXMucmVmKTsKICAgIGlmKHR5cGVvZiBtb2RlbHNUb0lnbm9yZVtuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgbW9kZWxzVG9JZ25vcmVbbmFtZV0gPSB0aGlzOwogICAgICByZXN1bHQgPSBtb2RlbHNbbmFtZV0uY3JlYXRlSlNPTlNhbXBsZShtb2RlbHNUb0lnbm9yZSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgcmV0dXJuIG5hbWU7CiAgICB9CiAgfQogIHJldHVybiBbIHJlc3VsdCBdOwp9OwoKQXJyYXlNb2RlbC5wcm90b3R5cGUuZ2V0U2FtcGxlVmFsdWUgPSBmdW5jdGlvbihtb2RlbHNUb0lnbm9yZSkgewogIHZhciByZXN1bHQ7CiAgbW9kZWxzVG9JZ25vcmUgPSAobW9kZWxzVG9JZ25vcmUgfHwge30pOwogIGlmKHRoaXMudHlwZSkgewogICAgcmVzdWx0ID0gdHlwZTsKICB9CiAgZWxzZSBpZiAodGhpcy5yZWYpIHsKICAgIHZhciBuYW1lID0gc2ltcGxlUmVmKHRoaXMucmVmKTsKICAgIHJlc3VsdCA9IG1vZGVsc1tuYW1lXS5nZXRTYW1wbGVWYWx1ZShtb2RlbHNUb0lnbm9yZSk7CiAgfQogIHJldHVybiBbIHJlc3VsdCBdOwp9OwoKQXJyYXlNb2RlbC5wcm90b3R5cGUuZ2V0TW9ja1NpZ25hdHVyZSA9IGZ1bmN0aW9uKG1vZGVsc1RvSWdub3JlKSB7CiAgdmFyIHByb3BlcnRpZXNTdHIgPSBbXTsKCiAgaWYodGhpcy5yZWYpIHsKICAgIHJldHVybiBtb2RlbHNbc2ltcGxlUmVmKHRoaXMucmVmKV0uZ2V0TW9ja1NpZ25hdHVyZSgpOwogIH0KfTsKCgovKioKICogU3dhZ2dlckF1dGhvcml6YXRpb25zIGFwcGx5cyB0aGUgY29ycmVjdCBhdXRob3JpemF0aW9uIHRvIGFuIG9wZXJhdGlvbiBiZWluZyBleGVjdXRlZAogKi8KdmFyIFN3YWdnZXJBdXRob3JpemF0aW9ucyA9IGZ1bmN0aW9uKCkgewogIHRoaXMuYXV0aHogPSB7fTsKfTsKClN3YWdnZXJBdXRob3JpemF0aW9ucy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSwgYXV0aCkgewogIHRoaXMuYXV0aHpbbmFtZV0gPSBhdXRoOwogIHJldHVybiBhdXRoOwp9OwoKU3dhZ2dlckF1dGhvcml6YXRpb25zLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKSB7CiAgcmV0dXJuIGRlbGV0ZSB0aGlzLmF1dGh6W25hbWVdOwp9OwoKU3dhZ2dlckF1dGhvcml6YXRpb25zLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIChvYmosIGF1dGhvcml6YXRpb25zKSB7CiAgdmFyIHN0YXR1cyA9IG51bGw7CiAgdmFyIGtleSwgbmFtZSwgdmFsdWUsIHJlc3VsdDsKCiAgLy8gaWYgdGhlICJhdXRob3JpemF0aW9ucyIga2V5IGlzIHVuZGVmaW5lZCwgb3IgaGFzIGFuIGVtcHR5IGFycmF5LCBhZGQgYWxsIGtleXMKICBpZiAodHlwZW9mIGF1dGhvcml6YXRpb25zID09PSAndW5kZWZpbmVkJyB8fCBPYmplY3Qua2V5cyhhdXRob3JpemF0aW9ucykubGVuZ3RoID09PSAwKSB7CiAgICBmb3IgKGtleSBpbiB0aGlzLmF1dGh6KSB7CiAgICAgIHZhbHVlID0gdGhpcy5hdXRoeltrZXldOwogICAgICByZXN1bHQgPSB2YWx1ZS5hcHBseShvYmosIGF1dGhvcml6YXRpb25zKTsKICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkKICAgICAgICBzdGF0dXMgPSB0cnVlOwogICAgfQogIH0KICBlbHNlIHsKICAgIC8vIDIuMCBzdXBwb3J0CiAgICBpZiAoQXJyYXkuaXNBcnJheShhdXRob3JpemF0aW9ucykpIHsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXV0aG9yaXphdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYXV0aCA9IGF1dGhvcml6YXRpb25zW2ldOwogICAgICAgIGZvciAobmFtZSBpbiBhdXRoKSB7CiAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLmF1dGh6KSB7CiAgICAgICAgICAgIGlmIChrZXkgPT0gbmFtZSkgewogICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5hdXRoeltrZXldOwogICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmFwcGx5KG9iaiwgYXV0aG9yaXphdGlvbnMpOwogICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpCiAgICAgICAgICAgICAgICBzdGF0dXMgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBlbHNlIHsKICAgICAgLy8gMS4yIHN1cHBvcnQKICAgICAgZm9yIChuYW1lIGluIGF1dGhvcml6YXRpb25zKSB7CiAgICAgICAgZm9yIChrZXkgaW4gdGhpcy5hdXRoeikgewogICAgICAgICAgaWYgKGtleSA9PSBuYW1lKSB7CiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5hdXRoeltrZXldOwogICAgICAgICAgICByZXN1bHQgPSB2YWx1ZS5hcHBseShvYmosIGF1dGhvcml6YXRpb25zKTsKICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkKICAgICAgICAgICAgICBzdGF0dXMgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHN0YXR1czsKfTsKCi8qKgogKiBBcGlLZXlBdXRob3JpemF0aW9uIGFsbG93cyBhIHF1ZXJ5IHBhcmFtIG9yIGhlYWRlciB0byBiZSBpbmplY3RlZAogKi8KdmFyIEFwaUtleUF1dGhvcml6YXRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgdHlwZSkgewogIHRoaXMubmFtZSA9IG5hbWU7CiAgdGhpcy52YWx1ZSA9IHZhbHVlOwogIHRoaXMudHlwZSA9IHR5cGU7Cn07CgpBcGlLZXlBdXRob3JpemF0aW9uLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKG9iaiwgYXV0aG9yaXphdGlvbnMpIHsKICBpZiAodGhpcy50eXBlID09PSAicXVlcnkiKSB7CiAgICBpZiAob2JqLnVybC5pbmRleE9mKCc/JykgPiAwKQogICAgICBvYmoudXJsID0gb2JqLnVybCArICImIiArIHRoaXMubmFtZSArICI9IiArIHRoaXMudmFsdWU7CiAgICBlbHNlCiAgICAgIG9iai51cmwgPSBvYmoudXJsICsgIj8iICsgdGhpcy5uYW1lICsgIj0iICsgdGhpcy52YWx1ZTsKICAgIHJldHVybiB0cnVlOwogIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAiaGVhZGVyIikgewogICAgb2JqLmhlYWRlcnNbdGhpcy5uYW1lXSA9IHRoaXMudmFsdWU7CiAgICByZXR1cm4gdHJ1ZTsKICB9Cn07Cgp2YXIgQ29va2llQXV0aG9yaXphdGlvbiA9IGZ1bmN0aW9uKGNvb2tpZSkgewogIHRoaXMuY29va2llID0gY29va2llOwp9OwoKQ29va2llQXV0aG9yaXphdGlvbi5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbihvYmosIGF1dGhvcml6YXRpb25zKSB7CiAgb2JqLmNvb2tpZUphciA9IG9iai5jb29raWVKYXIgfHwgQ29va2llSmFyKCk7CiAgb2JqLmNvb2tpZUphci5zZXRDb29raWUodGhpcy5jb29raWUpOwogIHJldHVybiB0cnVlOwp9OwoKLyoqCiAqIFBhc3N3b3JkIEF1dGhvcml6YXRpb24gaXMgYSBiYXNpYyBhdXRoIGltcGxlbWVudGF0aW9uCiAqLwp2YXIgUGFzc3dvcmRBdXRob3JpemF0aW9uID0gZnVuY3Rpb24obmFtZSwgdXNlcm5hbWUsIHBhc3N3b3JkKSB7CiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkOwogIHRoaXMuX2J0b2EgPSBudWxsOwogIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykKICAgIHRoaXMuX2J0b2EgPSBidG9hOwogIGVsc2UKICAgIHRoaXMuX2J0b2EgPSByZXF1aXJlKCJidG9hIik7Cn07CgpQYXNzd29yZEF1dGhvcml6YXRpb24ucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24ob2JqLCBhdXRob3JpemF0aW9ucykgewogIHZhciBiYXNlNjRlbmNvZGVyID0gdGhpcy5fYnRvYTsKICBvYmouaGVhZGVycy5BdXRob3JpemF0aW9uID0gIkJhc2ljICIgKyBiYXNlNjRlbmNvZGVyKHRoaXMudXNlcm5hbWUgKyAiOiIgKyB0aGlzLnBhc3N3b3JkKTsKICByZXR1cm4gdHJ1ZTsKfTsKdmFyIF9fYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7CiAgcmV0dXJuIGZ1bmN0aW9uKCl7CiAgICByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7CiAgfTsKfTsKCmZhaWwgPSBmdW5jdGlvbihtZXNzYWdlKSB7CiAgbG9nKG1lc3NhZ2UpOwp9OwoKbG9nID0gZnVuY3Rpb24oKXsKICBsb2cuaGlzdG9yeSA9IGxvZy5oaXN0b3J5IHx8IFtdOwogIGxvZy5oaXN0b3J5LnB1c2goYXJndW1lbnRzKTsKICBpZih0aGlzLmNvbnNvbGUpewogICAgY29uc29sZS5sb2coIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylbMF0gKTsKICB9Cn07CgppZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7CiAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihvYmosIHN0YXJ0KSB7CiAgICBmb3IgKHZhciBpID0gKHN0YXJ0IHx8IDApLCBqID0gdGhpcy5sZW5ndGg7IGkgPCBqOyBpKyspIHsKICAgICAgaWYgKHRoaXNbaV0gPT09IG9iaikgeyByZXR1cm4gaTsgfQogICAgfQogICAgcmV0dXJuIC0xOwogIH07Cn0KCi8qKgogKiBhbGxvd3Mgb3ZlcnJpZGUgb2YgdGhlIGRlZmF1bHQgdmFsdWUgYmFzZWQgb24gdGhlIHBhcmFtZXRlciBiZWluZwogKiBzdXBwbGllZAogKiovCnZhciBhcHBseVBhcmFtZXRlck1hY3JvID0gZnVuY3Rpb24gKG9wZXJhdGlvbiwgcGFyYW1ldGVyKSB7CiAgdmFyIGUgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBleHBvcnRzKTsKICBpZihlLnBhcmFtZXRlck1hY3JvKQogICAgcmV0dXJuIGUucGFyYW1ldGVyTWFjcm8ob3BlcmF0aW9uLCBwYXJhbWV0ZXIpOwogIGVsc2UKICAgIHJldHVybiBwYXJhbWV0ZXIuZGVmYXVsdFZhbHVlOwp9OwoKLyoqCiAqIGFsbG93cyBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IHZhbHVlIG9mIGFuIG1vZGVsIHByb3BlcnR5CiAqKi8KdmFyIGFwcGx5TW9kZWxQcm9wZXJ0eU1hY3JvID0gZnVuY3Rpb24gKG1vZGVsLCBwcm9wZXJ0eSkgewogIHZhciBlID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZXhwb3J0cyk7CiAgaWYoZS5tb2RlbFByb3BlcnR5TWFjcm8pCiAgICByZXR1cm4gZS5tb2RlbFByb3BlcnR5TWFjcm8obW9kZWwsIHByb3BlcnR5KTsKICBlbHNlCiAgICByZXR1cm4gcHJvcGVydHkuZGVmYXVsdFZhbHVlOwp9OwoKLyoqCiAqIFByaW1pdGl2ZU1vZGVsCiAqKi8KdmFyIFByaW1pdGl2ZU1vZGVsID0gZnVuY3Rpb24oZGVmaW5pdGlvbikgewogIHRoaXMubmFtZSA9ICJuYW1lIjsKICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9OwogIHRoaXMucHJvcGVydGllcyA9IFtdOwoKICB2YXIgcmVxdWlyZWRGaWVsZHMgPSBkZWZpbml0aW9uLmVudW0gfHwgW107CiAgdGhpcy50eXBlID0gdHlwZUZyb21Kc29uU2NoZW1hKGRlZmluaXRpb24udHlwZSwgZGVmaW5pdGlvbi5mb3JtYXQpOwp9OwoKUHJpbWl0aXZlTW9kZWwucHJvdG90eXBlLmNyZWF0ZUpTT05TYW1wbGUgPSBmdW5jdGlvbihtb2RlbHNUb0lnbm9yZSkgewogIHZhciByZXN1bHQgPSB0aGlzLnR5cGU7CiAgcmV0dXJuIHJlc3VsdDsKfTsKClByaW1pdGl2ZU1vZGVsLnByb3RvdHlwZS5nZXRTYW1wbGVWYWx1ZSA9IGZ1bmN0aW9uKCkgewogIHZhciByZXN1bHQgPSB0aGlzLnR5cGU7CiAgcmV0dXJuIG51bGw7Cn07CgpQcmltaXRpdmVNb2RlbC5wcm90b3R5cGUuZ2V0TW9ja1NpZ25hdHVyZSA9IGZ1bmN0aW9uKG1vZGVsc1RvSWdub3JlKSB7CiAgdmFyIHByb3BlcnRpZXNTdHIgPSBbXTsKICB2YXIgaSwgcHJvcDsKICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7CiAgICBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgcHJvcGVydGllc1N0ci5wdXNoKHByb3AudG9TdHJpbmcoKSk7CiAgfQoKICB2YXIgc3Ryb25nID0gJzxzcGFuIGNsYXNzPSJzdHJvbmciPic7CiAgdmFyIHN0cm9uZ2VyID0gJzxzcGFuIGNsYXNzPSJzdHJvbmdlciI+JzsKICB2YXIgc3Ryb25nQ2xvc2UgPSAnPC9zcGFuPic7CiAgdmFyIGNsYXNzT3BlbiA9IHN0cm9uZyArIHRoaXMubmFtZSArICcgeycgKyBzdHJvbmdDbG9zZTsKICB2YXIgY2xhc3NDbG9zZSA9IHN0cm9uZyArICd9JyArIHN0cm9uZ0Nsb3NlOwogIHZhciByZXR1cm5WYWwgPSBjbGFzc09wZW4gKyAnPGRpdj4nICsgcHJvcGVydGllc1N0ci5qb2luKCcsPC9kaXY+PGRpdj4nKSArICc8L2Rpdj4nICsgY2xhc3NDbG9zZTsKCiAgaWYgKCFtb2RlbHNUb0lnbm9yZSkKICAgIG1vZGVsc1RvSWdub3JlID0ge307CiAgbW9kZWxzVG9JZ25vcmVbdGhpcy5uYW1lXSA9IHRoaXM7CiAgZm9yIChpID0gMDsgaSA8IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IGkrKykgewogICAgcHJvcCA9IHRoaXMucHJvcGVydGllc1tpXTsKICAgIHZhciByZWYgPSBwcm9wLiRyZWY7CiAgICB2YXIgbW9kZWwgPSBtb2RlbHNbcmVmXTsKICAgIGlmIChtb2RlbCAmJiB0eXBlb2YgbW9kZWxzVG9JZ25vcmVbcmVmXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuVmFsID0gcmV0dXJuVmFsICsgKCc8YnI+JyArIG1vZGVsLmdldE1vY2tTaWduYXR1cmUobW9kZWxzVG9JZ25vcmUpKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldHVyblZhbDsKfTsKdmFyIGFkZE1vZGVsID0gZnVuY3Rpb24obmFtZSwgbW9kZWwpIHsKICBtb2RlbHNbbmFtZV0gPSBtb2RlbDsKfTsKCnZhciBTd2FnZ2VyQ2xpZW50ID0gZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7CiAgdGhpcy5pc0J1aWx0ID0gZmFsc2U7CiAgdGhpcy51cmwgPSBudWxsOwogIHRoaXMuZGVidWcgPSBmYWxzZTsKICB0aGlzLmJhc2VQYXRoID0gbnVsbDsKICB0aGlzLm1vZGVsc0FycmF5ID0gW107CiAgdGhpcy5hdXRob3JpemF0aW9ucyA9IG51bGw7CiAgdGhpcy5hdXRob3JpemF0aW9uU2NoZW1lID0gbnVsbDsKICB0aGlzLmlzVmFsaWQgPSBmYWxzZTsKICB0aGlzLmluZm8gPSBudWxsOwogIHRoaXMudXNlSlF1ZXJ5ID0gZmFsc2U7CiAgdGhpcy5yZXNvdXJjZUNvdW50ID0gMDsKCiAgaWYodHlwZW9mIHVybCAhPT0gJ3VuZGVmaW5lZCcpCiAgICByZXR1cm4gdGhpcy5pbml0aWFsaXplKHVybCwgb3B0aW9ucyk7Cn07CgpTd2FnZ2VyQ2xpZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykgewogIHRoaXMubW9kZWxzID0gbW9kZWxzID0ge307CgogIG9wdGlvbnMgPSAob3B0aW9uc3x8e30pOwoKICBpZih0eXBlb2YgdXJsID09PSAnc3RyaW5nJykKICAgIHRoaXMudXJsID0gdXJsOwogIGVsc2UgaWYodHlwZW9mIHVybCA9PT0gJ29iamVjdCcpIHsKICAgIG9wdGlvbnMgPSB1cmw7CiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsOwogIH0KICB0aGlzLnN3YWdnZXJSZXF1c3RIZWFkZXJzID0gb3B0aW9ucy5zd2FnZ2VyUmVxdXN0SGVhZGVycyB8fCAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04LCovKic7CiAgdGhpcy5kZWZhdWx0U3VjY2Vzc0NhbGxiYWNrID0gb3B0aW9ucy5kZWZhdWx0U3VjY2Vzc0NhbGxiYWNrIHx8IG51bGw7CiAgdGhpcy5kZWZhdWx0RXJyb3JDYWxsYmFjayA9IG9wdGlvbnMuZGVmYXVsdEVycm9yQ2FsbGJhY2sgfHwgbnVsbDsKCiAgaWYgKHR5cGVvZiBvcHRpb25zLnN1Y2Nlc3MgPT09ICdmdW5jdGlvbicpCiAgICB0aGlzLnN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3M7CgogIGlmIChvcHRpb25zLnVzZUpRdWVyeSkKICAgIHRoaXMudXNlSlF1ZXJ5ID0gb3B0aW9ucy51c2VKUXVlcnk7CgogIGlmIChvcHRpb25zLmF1dGhvcml6YXRpb25zKSB7CiAgICB0aGlzLmNsaWVudEF1dGhvcml6YXRpb25zID0gb3B0aW9ucy5hdXRob3JpemF0aW9uczsKICB9IGVsc2UgewogICAgdmFyIGUgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBleHBvcnRzKTsKICAgIHRoaXMuY2xpZW50QXV0aG9yaXphdGlvbnMgPSBlLmF1dGhvcml6YXRpb25zOwogIH0KCiAgdGhpcy5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzID0gb3B0aW9ucy5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzIHx8IFtdOwogIHRoaXMuZmFpbHVyZSA9IG9wdGlvbnMuZmFpbHVyZSB8fCBmdW5jdGlvbigpIHt9OwogIHRoaXMucHJvZ3Jlc3MgPSBvcHRpb25zLnByb2dyZXNzIHx8IGZ1bmN0aW9uKCkge307CiAgdGhpcy5zcGVjID0gb3B0aW9ucy5zcGVjOwogIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7CgogIGlmICh0eXBlb2Ygb3B0aW9ucy5zdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7CiAgICB0aGlzLmJ1aWxkKCk7CiAgfQp9OwoKU3dhZ2dlckNsaWVudC5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbihtb2NrKSB7CiAgaWYgKHRoaXMuaXNCdWlsdCkgcmV0dXJuIHRoaXM7CiAgdmFyIHNlbGYgPSB0aGlzOwogIHRoaXMucHJvZ3Jlc3MoJ2ZldGNoaW5nIHJlc291cmNlIGxpc3Q6ICcgKyB0aGlzLnVybCk7CiAgdmFyIG9iaiA9IHsKICAgIHVzZUpRdWVyeTogdGhpcy51c2VKUXVlcnksCiAgICB1cmw6IHRoaXMudXJsLAogICAgbWV0aG9kOiAiZ2V0IiwKICAgIGhlYWRlcnM6IHsKICAgICAgYWNjZXB0OiB0aGlzLnN3YWdnZXJSZXF1c3RIZWFkZXJzCiAgICB9LAogICAgb246IHsKICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHNlbGYudXJsLnN1YnN0cmluZygwLCA0KSAhPT0gJ2h0dHAnKQogICAgICAgICAgcmV0dXJuIHNlbGYuZmFpbCgnUGxlYXNlIHNwZWNpZnkgdGhlIHByb3RvY29sIGZvciAnICsgc2VsZi51cmwpOwogICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMCkKICAgICAgICAgIHJldHVybiBzZWxmLmZhaWwoJ0NhblwndCByZWFkIGZyb20gc2VydmVyLiAgSXQgbWF5IG5vdCBoYXZlIHRoZSBhcHByb3ByaWF0ZSBhY2Nlc3MtY29udHJvbC1vcmlnaW4gc2V0dGluZ3MuJyk7CiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpCiAgICAgICAgICByZXR1cm4gc2VsZi5mYWlsKCdDYW5cJ3QgcmVhZCBzd2FnZ2VyIEpTT04gZnJvbSAnICsgc2VsZi51cmwpOwogICAgICAgIGVsc2UKICAgICAgICAgIHJldHVybiBzZWxmLmZhaWwocmVzcG9uc2Uuc3RhdHVzICsgJyA6ICcgKyByZXNwb25zZS5zdGF0dXNUZXh0ICsgJyAnICsgc2VsZi51cmwpOwogICAgICB9LAogICAgICByZXNwb25zZTogZnVuY3Rpb24ocmVzcCkgewogICAgICAgIHZhciByZXNwb25zZU9iaiA9IHJlc3Aub2JqIHx8IEpTT04ucGFyc2UocmVzcC5kYXRhKTsKICAgICAgICBzZWxmLnN3YWdnZXJWZXJzaW9uID0gcmVzcG9uc2VPYmouc3dhZ2dlclZlcnNpb247CgogICAgICAgIGlmKHJlc3BvbnNlT2JqLnN3YWdnZXIgJiYgcGFyc2VJbnQocmVzcG9uc2VPYmouc3dhZ2dlcikgPT09IDIpIHsKICAgICAgICAgIHNlbGYuc3dhZ2dlclZlcnNpb24gPSByZXNwb25zZU9iai5zd2FnZ2VyOwogICAgICAgICAgc2VsZi5idWlsZEZyb21TcGVjKHJlc3BvbnNlT2JqKTsKICAgICAgICAgIHNlbGYuaXNWYWxpZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgaWYgKHNlbGYuc3dhZ2dlclZlcnNpb24gPT09ICcxLjInKSB7CiAgICAgICAgICAgIHJldHVybiBzZWxmLmJ1aWxkRnJvbTFfMlNwZWMocmVzcG9uc2VPYmopOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHNlbGYuYnVpbGRGcm9tMV8xU3BlYyhyZXNwb25zZU9iaik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKICBpZih0aGlzLnNwZWMpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHNlbGYuYnVpbGRGcm9tU3BlYyhzZWxmLnNwZWMpOyB9LCAxMCk7CiAgfQogIGVsc2UgewogICAgdmFyIGUgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBleHBvcnRzKTsKICAgIHZhciBzdGF0dXMgPSBlLmF1dGhvcml6YXRpb25zLmFwcGx5KG9iaik7CiAgICBpZihtb2NrKQogICAgICByZXR1cm4gb2JqOwogICAgbmV3IFN3YWdnZXJIdHRwKCkuZXhlY3V0ZShvYmopOwogIH0KICByZXR1cm4gdGhpczsKfTsKClN3YWdnZXJDbGllbnQucHJvdG90eXBlLmJ1aWxkRnJvbVNwZWMgPSBmdW5jdGlvbihyZXNwb25zZSkgewogIGlmKHRoaXMuaXNCdWlsdCkgcmV0dXJuIHRoaXM7CgogIHRoaXMuaW5mbyA9IHJlc3BvbnNlLmluZm8gfHwge307CiAgdGhpcy50aXRsZSA9IHJlc3BvbnNlLnRpdGxlIHx8ICcnOwogIHRoaXMuaG9zdCA9IHJlc3BvbnNlLmhvc3QgfHwgJyc7CiAgdGhpcy5zY2hlbWVzID0gcmVzcG9uc2Uuc2NoZW1lcyB8fCBbXTsKICB0aGlzLmJhc2VQYXRoID0gcmVzcG9uc2UuYmFzZVBhdGggfHwgJyc7CiAgdGhpcy5hcGlzID0ge307CiAgdGhpcy5hcGlzQXJyYXkgPSBbXTsKICB0aGlzLmNvbnN1bWVzID0gcmVzcG9uc2UuY29uc3VtZXM7CiAgdGhpcy5wcm9kdWNlcyA9IHJlc3BvbnNlLnByb2R1Y2VzOwogIHRoaXMuc2VjdXJpdHlEZWZpbml0aW9ucyA9IHJlc3BvbnNlLnNlY3VyaXR5RGVmaW5pdGlvbnM7CgogIC8vIGxlZ2FjeSBzdXBwb3J0CiAgdGhpcy5hdXRoU2NoZW1lcyA9IHJlc3BvbnNlLnNlY3VyaXR5RGVmaW5pdGlvbnM7CgogIHZhciBsb2NhdGlvbjsKCiAgaWYodHlwZW9mIHRoaXMudXJsID09PSAnc3RyaW5nJykgewogICAgbG9jYXRpb24gPSB0aGlzLnBhcnNlVXJpKHRoaXMudXJsKTsKICB9CgogIGlmKHR5cGVvZiB0aGlzLnNjaGVtZXMgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuc2NoZW1lcy5sZW5ndGggPT09IDApIHsKICAgIHRoaXMuc2NoZW1lID0gbG9jYXRpb24uc2NoZW1lIHx8ICdodHRwJzsKICB9CiAgZWxzZSB7CiAgICB0aGlzLnNjaGVtZSA9IHRoaXMuc2NoZW1lc1swXTsKICB9CgogIGlmKHR5cGVvZiB0aGlzLmhvc3QgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuaG9zdCA9PT0gJycpIHsKICAgIHRoaXMuaG9zdCA9IGxvY2F0aW9uLmhvc3Q7CiAgICBpZiAobG9jYXRpb24ucG9ydCkgewogICAgICB0aGlzLmhvc3QgPSB0aGlzLmhvc3QgKyAnOicgKyBsb2NhdGlvbi5wb3J0OwogICAgfQogIH0KCiAgdGhpcy5kZWZpbml0aW9ucyA9IHJlc3BvbnNlLmRlZmluaXRpb25zOwogIHZhciBrZXk7CiAgZm9yKGtleSBpbiB0aGlzLmRlZmluaXRpb25zKSB7CiAgICB2YXIgbW9kZWwgPSBuZXcgTW9kZWwoa2V5LCB0aGlzLmRlZmluaXRpb25zW2tleV0pOwogICAgaWYobW9kZWwpIHsKICAgICAgbW9kZWxzW2tleV0gPSBtb2RlbDsKICAgIH0KICB9CgogIC8vIGdldCBwYXRocywgY3JlYXRlIGZ1bmN0aW9ucyBmb3IgZWFjaCBvcGVyYXRpb25JZAogIHZhciBwYXRoOwogIHZhciBvcGVyYXRpb25zID0gW107CiAgZm9yKHBhdGggaW4gcmVzcG9uc2UucGF0aHMpIHsKICAgIGlmKHR5cGVvZiByZXNwb25zZS5wYXRoc1twYXRoXSA9PT0gJ29iamVjdCcpIHsKICAgICAgdmFyIGh0dHBNZXRob2Q7CiAgICAgIGZvcihodHRwTWV0aG9kIGluIHJlc3BvbnNlLnBhdGhzW3BhdGhdKSB7CiAgICAgICAgaWYoWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucycsICdwYXRjaCcsICdwb3N0JywgJ3B1dCddLmluZGV4T2YoaHR0cE1ldGhvZCkgPT09IC0xKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgdmFyIG9wZXJhdGlvbiA9IHJlc3BvbnNlLnBhdGhzW3BhdGhdW2h0dHBNZXRob2RdOwogICAgICAgIHZhciB0YWdzID0gb3BlcmF0aW9uLnRhZ3M7CiAgICAgICAgaWYodHlwZW9mIHRhZ3MgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBvcGVyYXRpb24udGFncyA9IFsgJ2RlZmF1bHQnIF07CiAgICAgICAgICB0YWdzID0gb3BlcmF0aW9uLnRhZ3M7CiAgICAgICAgfQogICAgICAgIHZhciBvcGVyYXRpb25JZCA9IHRoaXMuaWRGcm9tT3AocGF0aCwgaHR0cE1ldGhvZCwgb3BlcmF0aW9uKTsKICAgICAgICB2YXIgb3BlcmF0aW9uT2JqZWN0ID0gbmV3IE9wZXJhdGlvbiAoCiAgICAgICAgICB0aGlzLAogICAgICAgICAgb3BlcmF0aW9uLnNjaGVtZSwKICAgICAgICAgIG9wZXJhdGlvbklkLAogICAgICAgICAgaHR0cE1ldGhvZCwKICAgICAgICAgIHBhdGgsCiAgICAgICAgICBvcGVyYXRpb24sCiAgICAgICAgICB0aGlzLmRlZmluaXRpb25zCiAgICAgICAgKTsKICAgICAgICAvLyBiaW5kIHRoaXMgb3BlcmF0aW9uJ3MgZXhlY3V0ZSBjb21tYW5kIHRvIHRoZSBhcGkKICAgICAgICBpZih0YWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBpOwogICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgdGFnID0gdGhpcy50YWdGcm9tTGFiZWwodGFnc1tpXSk7CiAgICAgICAgICAgIHZhciBvcGVyYXRpb25Hcm91cCA9IHRoaXNbdGFnXTsKICAgICAgICAgICAgaWYodHlwZW9mIG9wZXJhdGlvbkdyb3VwID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgIHRoaXNbdGFnXSA9IFtdOwogICAgICAgICAgICAgIG9wZXJhdGlvbkdyb3VwID0gdGhpc1t0YWddOwogICAgICAgICAgICAgIG9wZXJhdGlvbkdyb3VwLm9wZXJhdGlvbnMgPSB7fTsKICAgICAgICAgICAgICBvcGVyYXRpb25Hcm91cC5sYWJlbCA9IHRhZzsKICAgICAgICAgICAgICBvcGVyYXRpb25Hcm91cC5hcGlzID0gW107CiAgICAgICAgICAgICAgdGhpc1t0YWddLmhlbHAgPSB0aGlzLmhlbHAuYmluZChvcGVyYXRpb25Hcm91cCk7CiAgICAgICAgICAgICAgdGhpcy5hcGlzQXJyYXkucHVzaChuZXcgT3BlcmF0aW9uR3JvdXAodGFnLCBvcGVyYXRpb25PYmplY3QpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBvcGVyYXRpb25Hcm91cFtvcGVyYXRpb25JZF0gPSBvcGVyYXRpb25PYmplY3QuZXhlY3V0ZS5iaW5kKG9wZXJhdGlvbk9iamVjdCk7CiAgICAgICAgICAgIG9wZXJhdGlvbkdyb3VwW29wZXJhdGlvbklkXS5oZWxwID0gb3BlcmF0aW9uT2JqZWN0LmhlbHAuYmluZChvcGVyYXRpb25PYmplY3QpOwogICAgICAgICAgICBvcGVyYXRpb25Hcm91cC5hcGlzLnB1c2gob3BlcmF0aW9uT2JqZWN0KTsKICAgICAgICAgICAgb3BlcmF0aW9uR3JvdXAub3BlcmF0aW9uc1tvcGVyYXRpb25JZF0gPSBvcGVyYXRpb25PYmplY3Q7CgogICAgICAgICAgICAvLyBsZWdhY3kgVUkgZmVhdHVyZQogICAgICAgICAgICB2YXIgajsKICAgICAgICAgICAgdmFyIGFwaTsKICAgICAgICAgICAgZm9yKGogPSAwOyBqIDwgdGhpcy5hcGlzQXJyYXkubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICBpZih0aGlzLmFwaXNBcnJheVtqXS50YWcgPT09IHRhZykgewogICAgICAgICAgICAgICAgYXBpID0gdGhpcy5hcGlzQXJyYXlbal07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGFwaSkgewogICAgICAgICAgICAgIGFwaS5vcGVyYXRpb25zQXJyYXkucHVzaChvcGVyYXRpb25PYmplY3QpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgbG9nKCdubyBncm91cCB0byBiaW5kIHRvJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIHRoaXMuaXNCdWlsdCA9IHRydWU7CiAgaWYgKHRoaXMuc3VjY2VzcykgewogICAgdGhpcy5pc1ZhbGlkID0gdHJ1ZTsKICAgIHRoaXMuaXNCdWlsdCA9IHRydWU7CiAgICB0aGlzLnN1Y2Nlc3MoKTsKICB9CiAgcmV0dXJuIHRoaXM7Cn07CgpTd2FnZ2VyQ2xpZW50LnByb3RvdHlwZS5wYXJzZVVyaSA9IGZ1bmN0aW9uKHVyaSkgewogIHZhciB1cmxQYXJzZVJFID0gL14oKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LzsKICB2YXIgcGFydHMgPSB1cmxQYXJzZVJFLmV4ZWModXJpKTsKICByZXR1cm4gewogICAgc2NoZW1lOiBwYXJ0c1s0XS5yZXBsYWNlKCc6JywnJyksCiAgICBob3N0OiBwYXJ0c1sxMV0sCiAgICBwb3J0OiBwYXJ0c1sxMl0sCiAgICBwYXRoOiBwYXJ0c1sxNV0KICB9Owp9OwoKU3dhZ2dlckNsaWVudC5wcm90b3R5cGUuaGVscCA9IGZ1bmN0aW9uKCkgewogIHZhciBpOwogIGxvZygnb3BlcmF0aW9ucyBmb3IgdGhlICInICsgdGhpcy5sYWJlbCArICciIHRhZycpOwogIGZvcihpID0gMDsgaSA8IHRoaXMuYXBpcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGFwaSA9IHRoaXMuYXBpc1tpXTsKICAgIGxvZygnICAqICcgKyBhcGkubmlja25hbWUgKyAnOiAnICsgYXBpLm9wZXJhdGlvbi5zdW1tYXJ5KTsKICB9Cn07CgpTd2FnZ2VyQ2xpZW50LnByb3RvdHlwZS50YWdGcm9tTGFiZWwgPSBmdW5jdGlvbihsYWJlbCkgewogIHJldHVybiBsYWJlbDsKfTsKClN3YWdnZXJDbGllbnQucHJvdG90eXBlLmlkRnJvbU9wID0gZnVuY3Rpb24ocGF0aCwgaHR0cE1ldGhvZCwgb3ApIHsKICB2YXIgb3BJZCA9IG9wLm9wZXJhdGlvbklkIHx8IChwYXRoLnN1YnN0cmluZygxKSArICdfJyArIGh0dHBNZXRob2QpOwogIHJldHVybiBvcElkLnJlcGxhY2UoL1tcLiwtXC8jISQlXF4mXCo7Ont9PVwtX2B+KClcK1xzXS9nLCdfJyk7Cn07CgpTd2FnZ2VyQ2xpZW50LnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24obWVzc2FnZSkgewogIHRoaXMuZmFpbHVyZShtZXNzYWdlKTsKICB0aHJvdyBtZXNzYWdlOwp9OwoKdmFyIE9wZXJhdGlvbkdyb3VwID0gZnVuY3Rpb24odGFnLCBvcGVyYXRpb24pIHsKICB0aGlzLnRhZyA9IHRhZzsKICB0aGlzLnBhdGggPSB0YWc7CiAgdGhpcy5uYW1lID0gdGFnOwogIHRoaXMub3BlcmF0aW9uID0gb3BlcmF0aW9uOwogIHRoaXMub3BlcmF0aW9uc0FycmF5ID0gW107CgogIHRoaXMuZGVzY3JpcHRpb24gPSBvcGVyYXRpb24uZGVzY3JpcHRpb24gfHwgIiI7Cn07Cgp2YXIgT3BlcmF0aW9uID0gZnVuY3Rpb24ocGFyZW50LCBzY2hlbWUsIG9wZXJhdGlvbklkLCBodHRwTWV0aG9kLCBwYXRoLCBhcmdzLCBkZWZpbml0aW9ucykgewogIHZhciBlcnJvcnMgPSBbXTsKICBwYXJlbnQgPSBwYXJlbnR8fHt9OwogIGFyZ3MgPSBhcmdzfHx7fTsKCiAgdGhpcy5vcGVyYXRpb25zID0ge307CiAgdGhpcy5vcGVyYXRpb24gPSBhcmdzOwogIHRoaXMuZGVwcmVjYXRlZCA9IGFyZ3MuZGVwcmVjYXRlZDsKICB0aGlzLmNvbnN1bWVzID0gYXJncy5jb25zdW1lczsKICB0aGlzLnByb2R1Y2VzID0gYXJncy5wcm9kdWNlczsKICB0aGlzLnBhcmVudCA9IHBhcmVudDsKICB0aGlzLmhvc3QgPSBwYXJlbnQuaG9zdCB8fCAnbG9jYWxob3N0JzsKICB0aGlzLnNjaGVtZXMgPSBwYXJlbnQuc2NoZW1lczsKICB0aGlzLnNjaGVtZSA9IHNjaGVtZSB8fCBwYXJlbnQuc2NoZW1lIHx8ICdodHRwJzsKICB0aGlzLmJhc2VQYXRoID0gcGFyZW50LmJhc2VQYXRoIHx8ICcvJzsKICB0aGlzLm5pY2tuYW1lID0gKG9wZXJhdGlvbklkfHxlcnJvcnMucHVzaCgnT3BlcmF0aW9ucyBtdXN0IGhhdmUgYSBuaWNrbmFtZS4nKSk7CiAgdGhpcy5tZXRob2QgPSAoaHR0cE1ldGhvZHx8ZXJyb3JzLnB1c2goJ09wZXJhdGlvbiAnICsgb3BlcmF0aW9uSWQgKyAnIGlzIG1pc3NpbmcgbWV0aG9kLicpKTsKICB0aGlzLnBhdGggPSAocGF0aHx8ZXJyb3JzLnB1c2goJ09wZXJhdGlvbiAnICsgdGhpcy5uaWNrbmFtZSArICcgaXMgbWlzc2luZyBwYXRoLicpKTsKICB0aGlzLnBhcmFtZXRlcnMgPSBhcmdzICE9PSBudWxsID8gKGFyZ3MucGFyYW1ldGVyc3x8W10pIDoge307CiAgdGhpcy5zdW1tYXJ5ID0gYXJncy5zdW1tYXJ5IHx8ICcnOwogIHRoaXMucmVzcG9uc2VzID0gKGFyZ3MucmVzcG9uc2VzfHx7fSk7CiAgdGhpcy50eXBlID0gbnVsbDsKICB0aGlzLnNlY3VyaXR5ID0gYXJncy5zZWN1cml0eTsKICB0aGlzLmF1dGhvcml6YXRpb25zID0gYXJncy5zZWN1cml0eTsKICB0aGlzLmRlc2NyaXB0aW9uID0gYXJncy5kZXNjcmlwdGlvbjsKICB0aGlzLnVzZUpRdWVyeSA9IHBhcmVudC51c2VKUXVlcnk7CgogIGlmKHR5cGVvZiB0aGlzLmRlcHJlY2F0ZWQgPT09ICdzdHJpbmcnKSB7CiAgICBzd2l0Y2godGhpcy5kZXByZWNhdGVkLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAndHJ1ZSc6IGNhc2UgJ3llcyc6IGNhc2UgJzEnOiB7CiAgICAgICAgdGhpcy5kZXByZWNhdGVkID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICdmYWxzZSc6IGNhc2UgJ25vJzogY2FzZSAnMCc6IGNhc2UgbnVsbDogewogICAgICAgIHRoaXMuZGVwcmVjYXRlZCA9IGZhbHNlOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGRlZmF1bHQ6IHRoaXMuZGVwcmVjYXRlZCA9IEJvb2xlYW4odGhpcy5kZXByZWNhdGVkKTsKICAgIH0KICB9CgogIHZhciBpLCBtb2RlbDsKCiAgaWYoZGVmaW5pdGlvbnMpIHsKICAgIC8vIGFkZCB0byBnbG9iYWwgbW9kZWxzCiAgICB2YXIga2V5OwogICAgZm9yKGtleSBpbiB0aGlzLmRlZmluaXRpb25zKSB7CiAgICAgIG1vZGVsID0gbmV3IE1vZGVsKGtleSwgZGVmaW5pdGlvbnNba2V5XSk7CiAgICAgIGlmKG1vZGVsKSB7CiAgICAgICAgbW9kZWxzW2tleV0gPSBtb2RlbDsKICAgICAgfQogICAgfQogIH0KICBmb3IoaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tpXTsKICAgIGlmKHBhcmFtLnR5cGUgPT09ICdhcnJheScpIHsKICAgICAgcGFyYW0uaXNMaXN0ID0gdHJ1ZTsKICAgICAgcGFyYW0uYWxsb3dNdWx0aXBsZSA9IHRydWU7CiAgICB9CiAgICB2YXIgaW5uZXJUeXBlID0gdGhpcy5nZXRUeXBlKHBhcmFtKTsKICAgIGlmKGlubmVyVHlwZSAmJiBpbm5lclR5cGUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbicpIHsKICAgICAgcGFyYW0uYWxsb3dhYmxlVmFsdWVzID0ge307CiAgICAgIHBhcmFtLmlzTGlzdCA9IHRydWU7CiAgICAgIHBhcmFtWydlbnVtJ10gPSBbInRydWUiLCAiZmFsc2UiXTsKICAgIH0KICAgIGlmKHR5cGVvZiBwYXJhbVsnZW51bSddICE9PSAndW5kZWZpbmVkJykgewogICAgICB2YXIgaWQ7CiAgICAgIHBhcmFtLmFsbG93YWJsZVZhbHVlcyA9IHt9OwogICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMudmFsdWVzID0gW107CiAgICAgIHBhcmFtLmFsbG93YWJsZVZhbHVlcy5kZXNjcmlwdGl2ZVZhbHVlcyA9IFtdOwogICAgICBmb3IoaWQgPSAwOyBpZCA8IHBhcmFtWydlbnVtJ10ubGVuZ3RoOyBpZCsrKSB7CiAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1bJ2VudW0nXVtpZF07CiAgICAgICAgdmFyIGlzRGVmYXVsdCA9ICh2YWx1ZSA9PT0gcGFyYW0uZGVmYXVsdCkgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgcGFyYW0uYWxsb3dhYmxlVmFsdWVzLnZhbHVlcy5wdXNoKHZhbHVlKTsKICAgICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMuZGVzY3JpcHRpdmVWYWx1ZXMucHVzaCh7dmFsdWUgOiB2YWx1ZSwgaXNEZWZhdWx0OiBpc0RlZmF1bHR9KTsKICAgICAgfQogICAgfQogICAgaWYocGFyYW0udHlwZSA9PT0gJ2FycmF5JykgewogICAgICBpbm5lclR5cGUgPSBbaW5uZXJUeXBlXTsKICAgICAgaWYodHlwZW9mIHBhcmFtLmFsbG93YWJsZVZhbHVlcyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAvLyBjYW4ndCBzaG93IGFzIGEgbGlzdCBpZiBubyB2YWx1ZXMgdG8gc2VsZWN0IGZyb20KICAgICAgICBkZWxldGUgcGFyYW0uaXNMaXN0OwogICAgICAgIGRlbGV0ZSBwYXJhbS5hbGxvd011bHRpcGxlOwogICAgICB9CiAgICB9CiAgICBwYXJhbS5zaWduYXR1cmUgPSB0aGlzLmdldE1vZGVsU2lnbmF0dXJlKGlubmVyVHlwZSwgbW9kZWxzKS50b1N0cmluZygpOwogICAgcGFyYW0uc2FtcGxlSlNPTiA9IHRoaXMuZ2V0TW9kZWxTYW1wbGVKU09OKGlubmVyVHlwZSwgbW9kZWxzKTsKICAgIHBhcmFtLnJlc3BvbnNlQ2xhc3NTaWduYXR1cmUgPSBwYXJhbS5zaWduYXR1cmU7CiAgfQoKICB2YXIgZGVmYXVsdFJlc3BvbnNlQ29kZSwgcmVzcG9uc2UsIHJlc3BvbnNlcyA9IHRoaXMucmVzcG9uc2VzOwoKICBpZihyZXNwb25zZXNbJzIwMCddKSB7CiAgICByZXNwb25zZSA9IHJlc3BvbnNlc1snMjAwJ107CiAgICBkZWZhdWx0UmVzcG9uc2VDb2RlID0gJzIwMCc7CiAgfQogIGVsc2UgaWYocmVzcG9uc2VzWycyMDEnXSkgewogICAgcmVzcG9uc2UgPSByZXNwb25zZXNbJzIwMSddOwogICAgZGVmYXVsdFJlc3BvbnNlQ29kZSA9ICcyMDEnOwogIH0KICBlbHNlIGlmKHJlc3BvbnNlc1snMjAyJ10pIHsKICAgIHJlc3BvbnNlID0gcmVzcG9uc2VzWycyMDInXTsKICAgIGRlZmF1bHRSZXNwb25zZUNvZGUgPSAnMjAyJzsKICB9CiAgZWxzZSBpZihyZXNwb25zZXNbJzIwMyddKSB7CiAgICByZXNwb25zZSA9IHJlc3BvbnNlc1snMjAzJ107CiAgICBkZWZhdWx0UmVzcG9uc2VDb2RlID0gJzIwMyc7CiAgfQogIGVsc2UgaWYocmVzcG9uc2VzWycyMDQnXSkgewogICAgcmVzcG9uc2UgPSByZXNwb25zZXNbJzIwNCddOwogICAgZGVmYXVsdFJlc3BvbnNlQ29kZSA9ICcyMDQnOwogIH0KICBlbHNlIGlmKHJlc3BvbnNlc1snMjA1J10pIHsKICAgIHJlc3BvbnNlID0gcmVzcG9uc2VzWycyMDUnXTsKICAgIGRlZmF1bHRSZXNwb25zZUNvZGUgPSAnMjA1JzsKICB9CiAgZWxzZSBpZihyZXNwb25zZXNbJzIwNiddKSB7CiAgICByZXNwb25zZSA9IHJlc3BvbnNlc1snMjA2J107CiAgICBkZWZhdWx0UmVzcG9uc2VDb2RlID0gJzIwNic7CiAgfQogIGVsc2UgaWYocmVzcG9uc2VzWydkZWZhdWx0J10pIHsKICAgIHJlc3BvbnNlID0gcmVzcG9uc2VzWydkZWZhdWx0J107CiAgICBkZWZhdWx0UmVzcG9uc2VDb2RlID0gJ2RlZmF1bHQnOwogIH0KCiAgaWYocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc2NoZW1hKSB7CiAgICB2YXIgcmVzb2x2ZWRNb2RlbCA9IHRoaXMucmVzb2x2ZU1vZGVsKHJlc3BvbnNlLnNjaGVtYSwgZGVmaW5pdGlvbnMpOwogICAgZGVsZXRlIHJlc3BvbnNlc1tkZWZhdWx0UmVzcG9uc2VDb2RlXTsKICAgIGlmKHJlc29sdmVkTW9kZWwpIHsKICAgICAgdGhpcy5zdWNjZXNzUmVzcG9uc2UgPSB7fTsKICAgICAgdGhpcy5zdWNjZXNzUmVzcG9uc2VbZGVmYXVsdFJlc3BvbnNlQ29kZV0gPSByZXNvbHZlZE1vZGVsOwogICAgfQogICAgZWxzZSB7CiAgICAgIHRoaXMuc3VjY2Vzc1Jlc3BvbnNlID0ge307CiAgICAgIHRoaXMuc3VjY2Vzc1Jlc3BvbnNlW2RlZmF1bHRSZXNwb25zZUNvZGVdID0gcmVzcG9uc2Uuc2NoZW1hLnR5cGU7CiAgICB9CiAgICB0aGlzLnR5cGUgPSByZXNwb25zZTsKICB9CgogIGlmIChlcnJvcnMubGVuZ3RoID4gMCkgewogICAgaWYodGhpcy5yZXNvdXJjZSAmJiB0aGlzLnJlc291cmNlLmFwaSAmJiB0aGlzLnJlc291cmNlLmFwaS5mYWlsKQogICAgICB0aGlzLnJlc291cmNlLmFwaS5mYWlsKGVycm9ycyk7CiAgfQoKICByZXR1cm4gdGhpczsKfTsKCk9wZXJhdGlvbkdyb3VwLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oc29ydGVyKSB7Cgp9OwoKT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKHBhcmFtKSB7CiAgdmFyIHR5cGUgPSBwYXJhbS50eXBlOwogIHZhciBmb3JtYXQgPSBwYXJhbS5mb3JtYXQ7CiAgdmFyIGlzQXJyYXkgPSBmYWxzZTsKICB2YXIgc3RyOwogIGlmKHR5cGUgPT09ICdpbnRlZ2VyJyAmJiBmb3JtYXQgPT09ICdpbnQzMicpCiAgICBzdHIgPSAnaW50ZWdlcic7CiAgZWxzZSBpZih0eXBlID09PSAnaW50ZWdlcicgJiYgZm9ybWF0ID09PSAnaW50NjQnKQogICAgc3RyID0gJ2xvbmcnOwogIGVsc2UgaWYodHlwZSA9PT0gJ2ludGVnZXInKQogICAgc3RyID0gJ2ludGVnZXInOwogIGVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycgJiYgZm9ybWF0ID09PSAnZGF0ZS10aW1lJykKICAgIHN0ciA9ICdkYXRlLXRpbWUnOwogIGVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycgJiYgZm9ybWF0ID09PSAnZGF0ZScpCiAgICBzdHIgPSAnZGF0ZSc7CiAgZWxzZSBpZih0eXBlID09PSAnbnVtYmVyJyAmJiBmb3JtYXQgPT09ICdmbG9hdCcpCiAgICBzdHIgPSAnZmxvYXQnOwogIGVsc2UgaWYodHlwZSA9PT0gJ251bWJlcicgJiYgZm9ybWF0ID09PSAnZG91YmxlJykKICAgIHN0ciA9ICdkb3VibGUnOwogIGVsc2UgaWYodHlwZSA9PT0gJ251bWJlcicpCiAgICBzdHIgPSAnZG91YmxlJzsKICBlbHNlIGlmKHR5cGUgPT09ICdib29sZWFuJykKICAgIHN0ciA9ICdib29sZWFuJzsKICBlbHNlIGlmKHR5cGUgPT09ICdzdHJpbmcnKQogICAgc3RyID0gJ3N0cmluZyc7CiAgZWxzZSBpZih0eXBlID09PSAnYXJyYXknKSB7CiAgICBpc0FycmF5ID0gdHJ1ZTsKICAgIGlmKHBhcmFtLml0ZW1zKQogICAgICBzdHIgPSB0aGlzLmdldFR5cGUocGFyYW0uaXRlbXMpOwogIH0KICBpZihwYXJhbS4kcmVmKQogICAgc3RyID0gcGFyYW0uJHJlZjsKCiAgdmFyIHNjaGVtYSA9IHBhcmFtLnNjaGVtYTsKICBpZihzY2hlbWEpIHsKICAgIHZhciByZWYgPSBzY2hlbWEuJHJlZjsKICAgIGlmKHJlZikgewogICAgICByZWYgPSBzaW1wbGVSZWYocmVmKTsKICAgICAgaWYoaXNBcnJheSkKICAgICAgICByZXR1cm4gWyByZWYgXTsKICAgICAgZWxzZQogICAgICAgIHJldHVybiByZWY7CiAgICB9CiAgICBlbHNlCiAgICAgIHJldHVybiB0aGlzLmdldFR5cGUoc2NoZW1hKTsKICB9CiAgaWYoaXNBcnJheSkKICAgIHJldHVybiBbIHN0ciBdOwogIGVsc2UKICAgIHJldHVybiBzdHI7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLnJlc29sdmVNb2RlbCA9IGZ1bmN0aW9uIChzY2hlbWEsIGRlZmluaXRpb25zKSB7CiAgaWYodHlwZW9mIHNjaGVtYS4kcmVmICE9PSAndW5kZWZpbmVkJykgewogICAgdmFyIHJlZiA9IHNjaGVtYS4kcmVmOwogICAgaWYocmVmLmluZGV4T2YoJyMvZGVmaW5pdGlvbnMvJykgPT09IDApCiAgICAgIHJlZiA9IHJlZi5zdWJzdHJpbmcoJyMvZGVmaW5pdGlvbnMvJy5sZW5ndGgpOwogICAgaWYoZGVmaW5pdGlvbnNbcmVmXSkgewogICAgICByZXR1cm4gbmV3IE1vZGVsKHJlZiwgZGVmaW5pdGlvbnNbcmVmXSk7CiAgICB9CiAgfQogIGlmKHNjaGVtYS50eXBlID09PSAnYXJyYXknKQogICAgcmV0dXJuIG5ldyBBcnJheU1vZGVsKHNjaGVtYSk7CiAgZWxzZQogICAgcmV0dXJuIG51bGw7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmhlbHAgPSBmdW5jdGlvbihkb250UHJpbnQpIHsKICB2YXIgb3V0ID0gdGhpcy5uaWNrbmFtZSArICc6ICcgKyB0aGlzLnN1bW1hcnkgKyAnXG4nOwogIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tpXTsKICAgIHZhciB0eXBlSW5mbyA9IHR5cGVGcm9tSnNvblNjaGVtYShwYXJhbS50eXBlLCBwYXJhbS5mb3JtYXQpOwogICAgb3V0ICs9ICdcbiAgKiAnICsgcGFyYW0ubmFtZSArICcgKCcgKyB0eXBlSW5mbyArICcpOiAnICsgcGFyYW0uZGVzY3JpcHRpb247CiAgfQogIGlmKHR5cGVvZiBkb250UHJpbnQgPT09ICd1bmRlZmluZWQnKQogICAgbG9nKG91dCk7CiAgcmV0dXJuIG91dDsKfTsKCk9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0TW9kZWxTaWduYXR1cmUgPSBmdW5jdGlvbih0eXBlLCBkZWZpbml0aW9ucykgewogIHZhciBpc1ByaW1pdGl2ZSwgbGlzdFR5cGU7CgogIGlmKHR5cGUgaW5zdGFuY2VvZiBBcnJheSkgewogICAgbGlzdFR5cGUgPSB0cnVlOwogICAgdHlwZSA9IHR5cGVbMF07CiAgfQogIGVsc2UgaWYodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKQogICAgdHlwZSA9ICd1bmRlZmluZWQnOwoKICBpZih0eXBlID09PSAnc3RyaW5nJykKICAgIGlzUHJpbWl0aXZlID0gdHJ1ZTsKICBlbHNlCiAgICBpc1ByaW1pdGl2ZSA9IChsaXN0VHlwZSAmJiBkZWZpbml0aW9uc1tsaXN0VHlwZV0pIHx8IChkZWZpbml0aW9uc1t0eXBlXSkgPyBmYWxzZSA6IHRydWU7CiAgaWYgKGlzUHJpbWl0aXZlKSB7CiAgICBpZihsaXN0VHlwZSkKICAgICAgcmV0dXJuICdBcnJheVsnICsgdHlwZSArICddJzsKICAgIGVsc2UKICAgICAgcmV0dXJuIHR5cGUudG9TdHJpbmcoKTsKICB9IGVsc2UgewogICAgaWYgKGxpc3RUeXBlKQogICAgICByZXR1cm4gJ0FycmF5WycgKyBkZWZpbml0aW9uc1t0eXBlXS5nZXRNb2NrU2lnbmF0dXJlKCkgKyAnXSc7CiAgICBlbHNlCiAgICAgIHJldHVybiBkZWZpbml0aW9uc1t0eXBlXS5nZXRNb2NrU2lnbmF0dXJlKCk7CiAgfQp9OwoKT3BlcmF0aW9uLnByb3RvdHlwZS5zdXBwb3J0SGVhZGVyUGFyYW1zID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0cnVlOwp9OwoKT3BlcmF0aW9uLnByb3RvdHlwZS5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnBhcmVudC5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzOwp9OwoKT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRIZWFkZXJQYXJhbXMgPSBmdW5jdGlvbiAoYXJncykgewogIHZhciBoZWFkZXJzID0gdGhpcy5zZXRDb250ZW50VHlwZXMoYXJncywge30pOwogIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tpXTsKICAgIGlmKHR5cGVvZiBhcmdzW3BhcmFtLm5hbWVdICE9PSAndW5kZWZpbmVkJykgewogICAgICBpZiAocGFyYW0uaW4gPT09ICdoZWFkZXInKSB7CiAgICAgICAgdmFyIHZhbHVlID0gYXJnc1twYXJhbS5uYW1lXTsKICAgICAgICBpZihBcnJheS5pc0FycmF5KHZhbHVlKSkKICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTsKICAgICAgICBoZWFkZXJzW3BhcmFtLm5hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIGhlYWRlcnM7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLnVybGlmeSA9IGZ1bmN0aW9uIChhcmdzKSB7CiAgdmFyIGZvcm1QYXJhbXMgPSB7fTsKICB2YXIgcmVxdWVzdFVybCA9IHRoaXMucGF0aDsKCiAgLy8gZ3JhYiBwYXJhbXMgZnJvbSB0aGUgYXJncywgYnVpbGQgdGhlIHF1ZXJ5c3RyaW5nIGFsb25nIHRoZSB3YXkKICB2YXIgcXVlcnlzdHJpbmcgPSAnJzsKICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtZXRlcnNbaV07CiAgICBpZih0eXBlb2YgYXJnc1twYXJhbS5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgaWYocGFyYW0uaW4gPT09ICdwYXRoJykgewogICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKCdceycgKyBwYXJhbS5uYW1lICsgJ1x9JywgJ2dpJyk7CiAgICAgICAgdmFyIHZhbHVlID0gYXJnc1twYXJhbS5uYW1lXTsKICAgICAgICBpZihBcnJheS5pc0FycmF5KHZhbHVlKSkKICAgICAgICAgIHZhbHVlID0gdGhpcy5lbmNvZGVQYXRoQ29sbGVjdGlvbihwYXJhbS5jb2xsZWN0aW9uRm9ybWF0LCBwYXJhbS5uYW1lLCB2YWx1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdmFsdWUgPSB0aGlzLmVuY29kZVBhdGhQYXJhbSh2YWx1ZSk7CiAgICAgICAgcmVxdWVzdFVybCA9IHJlcXVlc3RVcmwucmVwbGFjZShyZWcsIHZhbHVlKTsKICAgICAgfQogICAgICBlbHNlIGlmIChwYXJhbS5pbiA9PT0gJ3F1ZXJ5JyAmJiB0eXBlb2YgYXJnc1twYXJhbS5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBpZihxdWVyeXN0cmluZyA9PT0gJycpCiAgICAgICAgICBxdWVyeXN0cmluZyArPSAnPyc7CiAgICAgICAgZWxzZQogICAgICAgICAgcXVlcnlzdHJpbmcgKz0gJyYnOwogICAgICAgIGlmKHR5cGVvZiBwYXJhbS5jb2xsZWN0aW9uRm9ybWF0ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgdmFyIHFwID0gYXJnc1twYXJhbS5uYW1lXTsKICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkocXApKQogICAgICAgICAgICBxdWVyeXN0cmluZyArPSB0aGlzLmVuY29kZVF1ZXJ5Q29sbGVjdGlvbihwYXJhbS5jb2xsZWN0aW9uRm9ybWF0LCBwYXJhbS5uYW1lLCBxcCk7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHF1ZXJ5c3RyaW5nICs9IHRoaXMuZW5jb2RlUXVlcnlQYXJhbShwYXJhbS5uYW1lKSArICc9JyArIHRoaXMuZW5jb2RlUXVlcnlQYXJhbShhcmdzW3BhcmFtLm5hbWVdKTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgcXVlcnlzdHJpbmcgKz0gdGhpcy5lbmNvZGVRdWVyeVBhcmFtKHBhcmFtLm5hbWUpICsgJz0nICsgdGhpcy5lbmNvZGVRdWVyeVBhcmFtKGFyZ3NbcGFyYW0ubmFtZV0pOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHBhcmFtLmluID09PSAnZm9ybURhdGEnKQogICAgICAgIGZvcm1QYXJhbXNbcGFyYW0ubmFtZV0gPSBhcmdzW3BhcmFtLm5hbWVdOwogICAgfQogIH0KICB2YXIgdXJsID0gdGhpcy5zY2hlbWUgKyAnOi8vJyArIHRoaXMuaG9zdDsKCiAgaWYodGhpcy5iYXNlUGF0aCAhPT0gJy8nKQogICAgdXJsICs9IHRoaXMuYmFzZVBhdGg7CgogIHJldHVybiB1cmwgKyByZXF1ZXN0VXJsICsgcXVlcnlzdHJpbmc7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmdldE1pc3NpbmdQYXJhbXMgPSBmdW5jdGlvbihhcmdzKSB7CiAgdmFyIG1pc3NpbmdQYXJhbXMgPSBbXTsKICAvLyBjaGVjayByZXF1aXJlZCBwYXJhbXMsIHRyYWNrIHRoZSBvbmVzIHRoYXQgYXJlIG1pc3NpbmcKICB2YXIgaTsKICBmb3IoaSA9IDA7IGkgPCB0aGlzLnBhcmFtZXRlcnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tpXTsKICAgIGlmKHBhcmFtLnJlcXVpcmVkID09PSB0cnVlKSB7CiAgICAgIGlmKHR5cGVvZiBhcmdzW3BhcmFtLm5hbWVdID09PSAndW5kZWZpbmVkJykKICAgICAgICBtaXNzaW5nUGFyYW1zID0gcGFyYW0ubmFtZTsKICAgIH0KICB9CiAgcmV0dXJuIG1pc3NpbmdQYXJhbXM7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbihoZWFkZXJzLCBhcmdzKSB7CiAgdmFyIGZvcm1QYXJhbXMgPSB7fTsKICB2YXIgYm9keTsKCiAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyYW1ldGVycy5sZW5ndGg7IGkrKykgewogICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbWV0ZXJzW2ldOwogICAgaWYodHlwZW9mIGFyZ3NbcGFyYW0ubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGlmIChwYXJhbS5pbiA9PT0gJ2JvZHknKSB7CiAgICAgICAgYm9keSA9IGFyZ3NbcGFyYW0ubmFtZV07CiAgICAgIH0gZWxzZSBpZihwYXJhbS5pbiA9PT0gJ2Zvcm1EYXRhJykgewogICAgICAgIGZvcm1QYXJhbXNbcGFyYW0ubmFtZV0gPSBhcmdzW3BhcmFtLm5hbWVdOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBoYW5kbGUgZm9ybSBwYXJhbXMKICBpZihoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpIHsKICAgIHZhciBlbmNvZGVkID0gIiI7CiAgICB2YXIga2V5OwogICAgZm9yKGtleSBpbiBmb3JtUGFyYW1zKSB7CiAgICAgIHZhbHVlID0gZm9ybVBhcmFtc1trZXldOwogICAgICBpZih0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKXsKICAgICAgICBpZihlbmNvZGVkICE9PSAiIikKICAgICAgICAgIGVuY29kZWQgKz0gIiYiOwogICAgICAgIGVuY29kZWQgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpOwogICAgICB9CiAgICB9CiAgICBib2R5ID0gZW5jb2RlZDsKICB9CgogIHJldHVybiBib2R5Owp9OwoKLyoqCiAqIGdldHMgc2FtcGxlIHJlc3BvbnNlIGZvciBhIHNpbmdsZSBvcGVyYXRpb24KICoqLwpPcGVyYXRpb24ucHJvdG90eXBlLmdldE1vZGVsU2FtcGxlSlNPTiA9IGZ1bmN0aW9uKHR5cGUsIG1vZGVscykgewogIHZhciBpc1ByaW1pdGl2ZSwgbGlzdFR5cGUsIHNhbXBsZUpzb247CgogIGxpc3RUeXBlID0gKHR5cGUgaW5zdGFuY2VvZiBBcnJheSk7CiAgaXNQcmltaXRpdmUgPSBtb2RlbHNbdHlwZV0gPyBmYWxzZSA6IHRydWU7CiAgc2FtcGxlSnNvbiA9IGlzUHJpbWl0aXZlID8gdm9pZCAwIDogbW9kZWxzW3R5cGVdLmNyZWF0ZUpTT05TYW1wbGUoKTsKICBpZiAoc2FtcGxlSnNvbikgewogICAgc2FtcGxlSnNvbiA9IGxpc3RUeXBlID8gW3NhbXBsZUpzb25dIDogc2FtcGxlSnNvbjsKICAgIGlmKHR5cGVvZiBzYW1wbGVKc29uID09ICdzdHJpbmcnKQogICAgICByZXR1cm4gc2FtcGxlSnNvbjsKICAgIGVsc2UgaWYodHlwZW9mIHNhbXBsZUpzb24gPT09ICdvYmplY3QnKSB7CiAgICAgIHZhciB0ID0gc2FtcGxlSnNvbjsKICAgICAgaWYoc2FtcGxlSnNvbiBpbnN0YW5jZW9mIEFycmF5ICYmIHNhbXBsZUpzb24ubGVuZ3RoID4gMCkgewogICAgICAgIHQgPSBzYW1wbGVKc29uWzBdOwogICAgICB9CiAgICAgIGlmKHQubm9kZU5hbWUpIHsKICAgICAgICB2YXIgeG1sU3RyaW5nID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh0KTsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRYbWwoeG1sU3RyaW5nKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHNhbXBsZUpzb24sIG51bGwsIDIpOwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gc2FtcGxlSnNvbjsKICB9Cn07CgovKioKICogbGVnYWN5IGJpbmRpbmcKICoqLwpPcGVyYXRpb24ucHJvdG90eXBlWyJkbyJdID0gZnVuY3Rpb24oYXJncywgb3B0cywgY2FsbGJhY2ssIGVycm9yLCBwYXJlbnQpIHsKICByZXR1cm4gdGhpcy5leGVjdXRlKGFyZ3MsIG9wdHMsIGNhbGxiYWNrLCBlcnJvciwgcGFyZW50KTsKfTsKCgovKioKICogZXhlY3V0ZXMgYW4gb3BlcmF0aW9uCiAqKi8KT3BlcmF0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgcGFyZW50KSB7CiAgdmFyIGFyZ3MgPSBhcmcxIHx8IHt9OwogIHZhciBvcHRzID0ge30sIHN1Y2Nlc3MsIGVycm9yOwogIGlmKHR5cGVvZiBhcmcyID09PSAnb2JqZWN0JykgewogICAgb3B0cyA9IGFyZzI7CiAgICBzdWNjZXNzID0gYXJnMzsKICAgIGVycm9yID0gYXJnNDsKICB9CgogIGlmKHR5cGVvZiBhcmcyID09PSAnZnVuY3Rpb24nKSB7CiAgICBzdWNjZXNzID0gYXJnMjsKICAgIGVycm9yID0gYXJnMzsKICB9CgogIHN1Y2Nlc3MgPSAoc3VjY2Vzc3x8bG9nKTsKICBlcnJvciA9IChlcnJvcnx8bG9nKTsKCiAgaWYodHlwZW9mIG9wdHMudXNlSlF1ZXJ5ID09PSAnYm9vbGVhbicpIHsKICAgIHRoaXMudXNlSlF1ZXJ5ID0gb3B0cy51c2VKUXVlcnk7CiAgfQoKICB2YXIgbWlzc2luZ1BhcmFtcyA9IHRoaXMuZ2V0TWlzc2luZ1BhcmFtcyhhcmdzKTsKICBpZihtaXNzaW5nUGFyYW1zLmxlbmd0aCA+IDApIHsKICAgIHZhciBtZXNzYWdlID0gJ21pc3NpbmcgcmVxdWlyZWQgcGFyYW1zOiAnICsgbWlzc2luZ1BhcmFtczsKICAgIGZhaWwobWVzc2FnZSk7CiAgICByZXR1cm47CiAgfQogIHZhciBhbGxIZWFkZXJzID0gdGhpcy5nZXRIZWFkZXJQYXJhbXMoYXJncyk7CiAgdmFyIGNvbnRlbnRUeXBlSGVhZGVycyA9IHRoaXMuc2V0Q29udGVudFR5cGVzKGFyZ3MsIG9wdHMpOwoKICB2YXIgaGVhZGVycyA9IHt9LCBhdHRybmFtZTsKICBmb3IgKGF0dHJuYW1lIGluIGFsbEhlYWRlcnMpIHsgaGVhZGVyc1thdHRybmFtZV0gPSBhbGxIZWFkZXJzW2F0dHJuYW1lXTsgfQogIGZvciAoYXR0cm5hbWUgaW4gY29udGVudFR5cGVIZWFkZXJzKSB7IGhlYWRlcnNbYXR0cm5hbWVdID0gY29udGVudFR5cGVIZWFkZXJzW2F0dHJuYW1lXTsgfQoKICB2YXIgYm9keSA9IHRoaXMuZ2V0Qm9keShoZWFkZXJzLCBhcmdzKTsKICB2YXIgdXJsID0gdGhpcy51cmxpZnkoYXJncyk7CgogIHZhciBvYmogPSB7CiAgICB1cmw6IHVybCwKICAgIG1ldGhvZDogdGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSwKICAgIGJvZHk6IGJvZHksCiAgICB1c2VKUXVlcnk6IHRoaXMudXNlSlF1ZXJ5LAogICAgaGVhZGVyczogaGVhZGVycywKICAgIG9uOiB7CiAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgIHJldHVybiBzdWNjZXNzKHJlc3BvbnNlLCBwYXJlbnQpOwogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gZXJyb3IocmVzcG9uc2UsIHBhcmVudCk7CiAgICAgIH0KICAgIH0KICB9OwogIHZhciBzdGF0dXMgPSBlLmF1dGhvcml6YXRpb25zLmFwcGx5KG9iaiwgdGhpcy5vcGVyYXRpb24uc2VjdXJpdHkpOwogIGlmKG9wdHMubW9jayA9PT0gdHJ1ZSkKICAgIHJldHVybiBvYmo7CiAgZWxzZQogICAgbmV3IFN3YWdnZXJIdHRwKCkuZXhlY3V0ZShvYmopOwp9OwoKT3BlcmF0aW9uLnByb3RvdHlwZS5zZXRDb250ZW50VHlwZXMgPSBmdW5jdGlvbihhcmdzLCBvcHRzKSB7CiAgLy8gZGVmYXVsdCB0eXBlCiAgdmFyIGFjY2VwdHMgPSAnYXBwbGljYXRpb24vanNvbic7CiAgdmFyIGNvbnN1bWVzID0gYXJncy5wYXJhbWV0ZXJDb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24vanNvbic7CgogIHZhciBhbGxEZWZpbmVkUGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzOwogIHZhciBkZWZpbmVkRm9ybVBhcmFtcyA9IFtdOwogIHZhciBkZWZpbmVkRmlsZVBhcmFtcyA9IFtdOwogIHZhciBib2R5OwogIHZhciBoZWFkZXJzID0ge307CgogIC8vIGdldCBwYXJhbXMgZnJvbSB0aGUgb3BlcmF0aW9uIGFuZCBzZXQgdGhlbSBpbiBkZWZpbmVkRmlsZVBhcmFtcywgZGVmaW5lZEZvcm1QYXJhbXMsIGhlYWRlcnMKICB2YXIgaTsKICBmb3IoaSA9IDA7IGkgPCBhbGxEZWZpbmVkUGFyYW1zLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcGFyYW0gPSBhbGxEZWZpbmVkUGFyYW1zW2ldOwogICAgaWYocGFyYW0uaW4gPT09ICdmb3JtRGF0YScpIHsKICAgICAgaWYocGFyYW0udHlwZSA9PT0gJ2ZpbGUnKQogICAgICAgIGRlZmluZWRGaWxlUGFyYW1zLnB1c2gocGFyYW0pOwogICAgICBlbHNlCiAgICAgICAgZGVmaW5lZEZvcm1QYXJhbXMucHVzaChwYXJhbSk7CiAgICB9CiAgICBlbHNlIGlmKHBhcmFtLmluID09PSAnaGVhZGVyJyAmJiBvcHRzKSB7CiAgICAgIHZhciBrZXkgPSBwYXJhbS5uYW1lOwogICAgICB2YXIgaGVhZGVyVmFsdWUgPSBvcHRzW3BhcmFtLm5hbWVdOwogICAgICBpZih0eXBlb2Ygb3B0c1twYXJhbS5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgaGVhZGVyc1trZXldID0gaGVhZGVyVmFsdWU7CiAgICB9CiAgICBlbHNlIGlmKHBhcmFtLmluID09PSAnYm9keScgJiYgdHlwZW9mIGFyZ3NbcGFyYW0ubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGJvZHkgPSBhcmdzW3BhcmFtLm5hbWVdOwogICAgfQogIH0KCiAgLy8gaWYgdGhlcmUncyBhIGJvZHksIG5lZWQgdG8gc2V0IHRoZSBjb25zdW1lcyBoZWFkZXIgdmlhIHJlcXVlc3RDb250ZW50VHlwZQogIGlmIChib2R5ICYmICh0aGlzLm1ldGhvZCA9PT0gJ3Bvc3QnIHx8IHRoaXMubWV0aG9kID09PSAncHV0JyB8fCB0aGlzLm1ldGhvZCA9PT0gJ3BhdGNoJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ2RlbGV0ZScpKSB7CiAgICBpZiAob3B0cy5yZXF1ZXN0Q29udGVudFR5cGUpCiAgICAgIGNvbnN1bWVzID0gb3B0cy5yZXF1ZXN0Q29udGVudFR5cGU7CiAgfSBlbHNlIHsKICAgIC8vIGlmIGFueSBmb3JtIHBhcmFtcywgY29udGVudCB0eXBlIG11c3QgYmUgc2V0CiAgICBpZihkZWZpbmVkRm9ybVBhcmFtcy5sZW5ndGggPiAwKSB7CiAgICAgIGlmKG9wdHMucmVxdWVzdENvbnRlbnRUeXBlKSAgICAgICAgICAgLy8gb3ZlcnJpZGUgaWYgc2V0CiAgICAgICAgY29uc3VtZXMgPSBvcHRzLnJlcXVlc3RDb250ZW50VHlwZTsKICAgICAgZWxzZSBpZihkZWZpbmVkRmlsZVBhcmFtcy5sZW5ndGggPiAwKSAvLyBpZiBhIGZpbGUsIG11c3QgYmUgbXVsdGlwYXJ0L2Zvcm0tZGF0YQogICAgICAgIGNvbnN1bWVzID0gJ211bHRpcGFydC9mb3JtLWRhdGEnOwogICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8geC13d3ctZnJvbS11cmxlbmNvZGVkCiAgICAgICAgY29uc3VtZXMgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzsKICAgIH0KICAgIGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnREVMRVRFJykKICAgICAgYm9keSA9ICd7fSc7CiAgICBlbHNlIGlmICh0aGlzLnR5cGUgIT0gJ0RFTEVURScpCiAgICAgIGNvbnN1bWVzID0gbnVsbDsKICB9CgogIGlmIChjb25zdW1lcyAmJiB0aGlzLmNvbnN1bWVzKSB7CiAgICBpZiAodGhpcy5jb25zdW1lcy5pbmRleE9mKGNvbnN1bWVzKSA9PT0gLTEpIHsKICAgICAgbG9nKCdzZXJ2ZXIgZG9lc25cJ3QgY29uc3VtZSAnICsgY29uc3VtZXMgKyAnLCB0cnkgJyArIEpTT04uc3RyaW5naWZ5KHRoaXMuY29uc3VtZXMpKTsKICAgIH0KICB9CgogIGlmIChvcHRzLnJlc3BvbnNlQ29udGVudFR5cGUpIHsKICAgIGFjY2VwdHMgPSBvcHRzLnJlc3BvbnNlQ29udGVudFR5cGU7CiAgfSBlbHNlIHsKICAgIGFjY2VwdHMgPSAnYXBwbGljYXRpb24vanNvbic7CiAgfQogIGlmIChhY2NlcHRzICYmIHRoaXMucHJvZHVjZXMpIHsKICAgIGlmICh0aGlzLnByb2R1Y2VzLmluZGV4T2YoYWNjZXB0cykgPT09IC0xKSB7CiAgICAgIGxvZygnc2VydmVyIGNhblwndCBwcm9kdWNlICcgKyBhY2NlcHRzKTsKICAgIH0KICB9CgogIGlmICgoY29uc3VtZXMgJiYgYm9keSAhPT0gJycpIHx8IChjb25zdW1lcyA9PT0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpKQogICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSBjb25zdW1lczsKICBpZiAoYWNjZXB0cykKICAgIGhlYWRlcnMuQWNjZXB0ID0gYWNjZXB0czsKICByZXR1cm4gaGVhZGVyczsKfTsKCk9wZXJhdGlvbi5wcm90b3R5cGUuYXNDdXJsID0gZnVuY3Rpb24gKGFyZ3MpIHsKICB2YXIgcmVzdWx0cyA9IFtdOwogIHZhciBoZWFkZXJzID0gdGhpcy5nZXRIZWFkZXJQYXJhbXMoYXJncyk7CiAgaWYgKGhlYWRlcnMpIHsKICAgIHZhciBrZXk7CiAgICBmb3IgKGtleSBpbiBoZWFkZXJzKQogICAgICByZXN1bHRzLnB1c2goIi0taGVhZGVyIFwiIiArIGtleSArICI6ICIgKyBoZWFkZXJzW2tleV0gKyAiXCIiKTsKICB9CiAgcmV0dXJuICJjdXJsICIgKyAocmVzdWx0cy5qb2luKCIgIikpICsgIiAiICsgdGhpcy51cmxpZnkoYXJncyk7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmVuY29kZVBhdGhDb2xsZWN0aW9uID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgdmFsdWUpIHsKICB2YXIgZW5jb2RlZCA9ICcnOwogIHZhciBpOwogIHZhciBzZXBhcmF0b3IgPSAnJzsKICBpZih0eXBlID09PSAnc3N2JykKICAgIHNlcGFyYXRvciA9ICclMjAnOwogIGVsc2UgaWYodHlwZSA9PT0gJ3RzdicpCiAgICBzZXBhcmF0b3IgPSAnXFx0JzsKICBlbHNlIGlmKHR5cGUgPT09ICdwaXBlcycpCiAgICBzZXBhcmF0b3IgPSAnfCc7CiAgZWxzZQogICAgc2VwYXJhdG9yID0gJywnOwoKICBmb3IoaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgaWYoaSA9PT0gMCkKICAgICAgZW5jb2RlZCA9IHRoaXMuZW5jb2RlUXVlcnlQYXJhbSh2YWx1ZVtpXSk7CiAgICBlbHNlCiAgICAgIGVuY29kZWQgKz0gc2VwYXJhdG9yICsgdGhpcy5lbmNvZGVRdWVyeVBhcmFtKHZhbHVlW2ldKTsKICB9CiAgcmV0dXJuIGVuY29kZWQ7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmVuY29kZVF1ZXJ5Q29sbGVjdGlvbiA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHZhbHVlKSB7CiAgdmFyIGVuY29kZWQgPSAnJzsKICB2YXIgaTsKICBpZih0eXBlID09PSAnZGVmYXVsdCcgfHwgdHlwZSA9PT0gJ211bHRpJykgewogICAgZm9yKGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHsKICAgICAgaWYoaSA+IDApIGVuY29kZWQgKz0gJyYnOwogICAgICBlbmNvZGVkICs9IHRoaXMuZW5jb2RlUXVlcnlQYXJhbShuYW1lKSArICc9JyArIHRoaXMuZW5jb2RlUXVlcnlQYXJhbSh2YWx1ZVtpXSk7CiAgICB9CiAgfQogIGVsc2UgewogICAgdmFyIHNlcGFyYXRvciA9ICcnOwogICAgaWYodHlwZSA9PT0gJ2NzdicpCiAgICAgIHNlcGFyYXRvciA9ICcsJzsKICAgIGVsc2UgaWYodHlwZSA9PT0gJ3NzdicpCiAgICAgIHNlcGFyYXRvciA9ICclMjAnOwogICAgZWxzZSBpZih0eXBlID09PSAndHN2JykKICAgICAgc2VwYXJhdG9yID0gJ1xcdCc7CiAgICBlbHNlIGlmKHR5cGUgPT09ICdwaXBlcycpCiAgICAgIHNlcGFyYXRvciA9ICd8JzsKICAgIGVsc2UgaWYodHlwZSA9PT0gJ2JyYWNrZXRzJykgewogICAgICBmb3IoaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKGkgIT09IDApCiAgICAgICAgICBlbmNvZGVkICs9ICcmJzsKICAgICAgICBlbmNvZGVkICs9IHRoaXMuZW5jb2RlUXVlcnlQYXJhbShuYW1lKSArICdbXT0nICsgdGhpcy5lbmNvZGVRdWVyeVBhcmFtKHZhbHVlW2ldKTsKICAgICAgfQogICAgfQogICAgaWYoc2VwYXJhdG9yICE9PSAnJykgewogICAgICBmb3IoaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmKGkgPT09IDApCiAgICAgICAgICBlbmNvZGVkID0gdGhpcy5lbmNvZGVRdWVyeVBhcmFtKG5hbWUpICsgJz0nICsgdGhpcy5lbmNvZGVRdWVyeVBhcmFtKHZhbHVlW2ldKTsKICAgICAgICBlbHNlCiAgICAgICAgICBlbmNvZGVkICs9IHNlcGFyYXRvciArIHRoaXMuZW5jb2RlUXVlcnlQYXJhbSh2YWx1ZVtpXSk7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIGVuY29kZWQ7Cn07CgpPcGVyYXRpb24ucHJvdG90eXBlLmVuY29kZVF1ZXJ5UGFyYW0gPSBmdW5jdGlvbihhcmcpIHsKICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGFyZyk7Cn07CgovKioKICogVE9ETyByZXZpc2l0LCBtaWdodCBub3Qgd2FudCB0byBsZWF2ZSAnLycKICoqLwpPcGVyYXRpb24ucHJvdG90eXBlLmVuY29kZVBhdGhQYXJhbSA9IGZ1bmN0aW9uKHBhdGhQYXJhbSkgewogIHZhciBlbmNQYXJ0cywgcGFydCwgcGFydHMsIGksIGxlbjsKICBwYXRoUGFyYW0gPSBwYXRoUGFyYW0udG9TdHJpbmcoKTsKICBpZiAocGF0aFBhcmFtLmluZGV4T2YoJy8nKSA9PT0gLTEpIHsKICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQocGF0aFBhcmFtKTsKICB9IGVsc2UgewogICAgcGFydHMgPSBwYXRoUGFyYW0uc3BsaXQoJy8nKTsKICAgIGVuY1BhcnRzID0gW107CiAgICBmb3IgKGkgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICBlbmNQYXJ0cy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChwYXJ0c1tpXSkpOwogICAgfQogICAgcmV0dXJuIGVuY1BhcnRzLmpvaW4oJy8nKTsKICB9Cn07Cgp2YXIgTW9kZWwgPSBmdW5jdGlvbihuYW1lLCBkZWZpbml0aW9uKSB7CiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9OwogIHRoaXMucHJvcGVydGllcyA9IFtdOwogIHZhciByZXF1aXJlZEZpZWxkcyA9IGRlZmluaXRpb24ucmVxdWlyZWQgfHwgW107CiAgaWYoZGVmaW5pdGlvbi50eXBlID09PSAnYXJyYXknKSB7CiAgICB2YXIgb3V0ID0gbmV3IEFycmF5TW9kZWwoZGVmaW5pdGlvbik7CiAgICByZXR1cm4gb3V0OwogIH0KICB2YXIga2V5OwogIHZhciBwcm9wcyA9IGRlZmluaXRpb24ucHJvcGVydGllczsKICBpZihwcm9wcykgewogICAgZm9yKGtleSBpbiBwcm9wcykgewogICAgICB2YXIgcmVxdWlyZWQgPSBmYWxzZTsKICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcHNba2V5XTsKICAgICAgaWYocmVxdWlyZWRGaWVsZHMuaW5kZXhPZihrZXkpID49IDApCiAgICAgICAgcmVxdWlyZWQgPSB0cnVlOwogICAgICB0aGlzLnByb3BlcnRpZXMucHVzaChuZXcgUHJvcGVydHkoa2V5LCBwcm9wZXJ0eSwgcmVxdWlyZWQpKTsKICAgIH0KICB9Cn07CgpNb2RlbC5wcm90b3R5cGUuY3JlYXRlSlNPTlNhbXBsZSA9IGZ1bmN0aW9uKG1vZGVsc1RvSWdub3JlKSB7CiAgdmFyIGksIHJlc3VsdCA9IHt9OwogIG1vZGVsc1RvSWdub3JlID0gKG1vZGVsc1RvSWdub3JlfHx7fSk7CiAgbW9kZWxzVG9JZ25vcmVbdGhpcy5uYW1lXSA9IHRoaXM7CiAgZm9yIChpID0gMDsgaSA8IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IGkrKykgewogICAgcHJvcCA9IHRoaXMucHJvcGVydGllc1tpXTsKICAgIHZhciBzYW1wbGUgPSBwcm9wLmdldFNhbXBsZVZhbHVlKG1vZGVsc1RvSWdub3JlKTsKICAgIHJlc3VsdFtwcm9wLm5hbWVdID0gc2FtcGxlOwogIH0KICBkZWxldGUgbW9kZWxzVG9JZ25vcmVbdGhpcy5uYW1lXTsKICByZXR1cm4gcmVzdWx0Owp9OwoKTW9kZWwucHJvdG90eXBlLmdldFNhbXBsZVZhbHVlID0gZnVuY3Rpb24obW9kZWxzVG9JZ25vcmUpIHsKICB2YXIgaSwgb2JqID0ge307CiAgZm9yKGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrICkgewogICAgdmFyIHByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgb2JqW3Byb3BlcnR5Lm5hbWVdID0gcHJvcGVydHkuc2FtcGxlVmFsdWUoZmFsc2UsIG1vZGVsc1RvSWdub3JlKTsKICB9CiAgcmV0dXJuIG9iajsKfTsKCk1vZGVsLnByb3RvdHlwZS5nZXRNb2NrU2lnbmF0dXJlID0gZnVuY3Rpb24obW9kZWxzVG9JZ25vcmUpIHsKICB2YXIgaSwgcHJvcCwgcHJvcGVydGllc1N0ciA9IFtdOwogIGZvciAoaSA9IDA7IGkgPCB0aGlzLnByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHsKICAgIHByb3AgPSB0aGlzLnByb3BlcnRpZXNbaV07CiAgICBwcm9wZXJ0aWVzU3RyLnB1c2gocHJvcC50b1N0cmluZygpKTsKICB9CiAgdmFyIHN0cm9uZyA9ICc8c3BhbiBjbGFzcz0ic3Ryb25nIj4nOwogIHZhciBzdHJvbmdlciA9ICc8c3BhbiBjbGFzcz0ic3Ryb25nZXIiPic7CiAgdmFyIHN0cm9uZ0Nsb3NlID0gJzwvc3Bhbj4nOwogIHZhciBjbGFzc09wZW4gPSBzdHJvbmcgKyB0aGlzLm5hbWUgKyAnIHsnICsgc3Ryb25nQ2xvc2U7CiAgdmFyIGNsYXNzQ2xvc2UgPSBzdHJvbmcgKyAnfScgKyBzdHJvbmdDbG9zZTsKICB2YXIgcmV0dXJuVmFsID0gY2xhc3NPcGVuICsgJzxkaXY+JyArIHByb3BlcnRpZXNTdHIuam9pbignLDwvZGl2PjxkaXY+JykgKyAnPC9kaXY+JyArIGNsYXNzQ2xvc2U7CiAgaWYgKCFtb2RlbHNUb0lnbm9yZSkKICAgIG1vZGVsc1RvSWdub3JlID0ge307CgogIG1vZGVsc1RvSWdub3JlW3RoaXMubmFtZV0gPSB0aGlzOwogIGZvciAoaSA9IDA7IGkgPCB0aGlzLnByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHsKICAgIHByb3AgPSB0aGlzLnByb3BlcnRpZXNbaV07CiAgICB2YXIgcmVmID0gcHJvcC4kcmVmOwogICAgdmFyIG1vZGVsID0gbW9kZWxzW3JlZl07CiAgICBpZiAobW9kZWwgJiYgdHlwZW9mIG1vZGVsc1RvSWdub3JlW21vZGVsLm5hbWVdID09PSAndW5kZWZpbmVkJykgewogICAgICByZXR1cm5WYWwgPSByZXR1cm5WYWwgKyAoJzxicj4nICsgbW9kZWwuZ2V0TW9ja1NpZ25hdHVyZShtb2RlbHNUb0lnbm9yZSkpOwogICAgfQogIH0KICByZXR1cm4gcmV0dXJuVmFsOwp9OwoKdmFyIFByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgb2JqLCByZXF1aXJlZCkgewogIHRoaXMuc2NoZW1hID0gb2JqOwogIHRoaXMucmVxdWlyZWQgPSByZXF1aXJlZDsKICBpZihvYmouJHJlZikKICAgIHRoaXMuJHJlZiA9IHNpbXBsZVJlZihvYmouJHJlZik7CiAgZWxzZSBpZiAob2JqLnR5cGUgPT09ICdhcnJheScgJiYgb2JqLml0ZW1zKSB7CiAgICBpZihvYmouaXRlbXMuJHJlZikKICAgICAgdGhpcy4kcmVmID0gc2ltcGxlUmVmKG9iai5pdGVtcy4kcmVmKTsKICAgIGVsc2UKICAgICAgb2JqID0gb2JqLml0ZW1zOwogIH0KICB0aGlzLm5hbWUgPSBuYW1lOwogIHRoaXMuZGVzY3JpcHRpb24gPSBvYmouZGVzY3JpcHRpb247CiAgdGhpcy5vYmogPSBvYmo7CiAgdGhpcy5vcHRpb25hbCA9IHRydWU7CiAgdGhpcy5vcHRpb25hbCA9ICFyZXF1aXJlZDsKICB0aGlzLmRlZmF1bHQgPSBvYmouZGVmYXVsdCB8fCBudWxsOwogIHRoaXMuZXhhbXBsZSA9IG9iai5leGFtcGxlIHx8IG51bGw7CiAgdGhpcy5jb2xsZWN0aW9uRm9ybWF0ID0gb2JqLmNvbGxlY3Rpb25Gb3JtYXQgfHwgbnVsbDsKICB0aGlzLm1heGltdW0gPSBvYmoubWF4aW11bSB8fCBudWxsOwogIHRoaXMuZXhjbHVzaXZlTWF4aW11bSA9IG9iai5leGNsdXNpdmVNYXhpbXVtIHx8IG51bGw7CiAgdGhpcy5taW5pbXVtID0gb2JqLm1pbmltdW0gfHwgbnVsbDsKICB0aGlzLmV4Y2x1c2l2ZU1pbmltdW0gPSBvYmouZXhjbHVzaXZlTWluaW11bSB8fCBudWxsOwogIHRoaXMubWF4TGVuZ3RoID0gb2JqLm1heExlbmd0aCB8fCBudWxsOwogIHRoaXMubWluTGVuZ3RoID0gb2JqLm1pbkxlbmd0aCB8fCBudWxsOwogIHRoaXMucGF0dGVybiA9IG9iai5wYXR0ZXJuIHx8IG51bGw7CiAgdGhpcy5tYXhJdGVtcyA9IG9iai5tYXhJdGVtcyB8fCBudWxsOwogIHRoaXMubWluSXRlbXMgPSBvYmoubWluSXRlbXMgfHwgbnVsbDsKICB0aGlzLnVuaXF1ZUl0ZW1zID0gb2JqLnVuaXF1ZUl0ZW1zIHx8IG51bGw7CiAgdGhpc1snZW51bSddID0gb2JqWydlbnVtJ10gfHwgbnVsbDsKICB0aGlzLm11bHRpcGxlT2YgPSBvYmoubXVsdGlwbGVPZiB8fCBudWxsOwp9OwoKUHJvcGVydHkucHJvdG90eXBlLmdldFNhbXBsZVZhbHVlID0gZnVuY3Rpb24gKG1vZGVsc1RvSWdub3JlKSB7CiAgcmV0dXJuIHRoaXMuc2FtcGxlVmFsdWUoZmFsc2UsIG1vZGVsc1RvSWdub3JlKTsKfTsKClByb3BlcnR5LnByb3RvdHlwZS5pc0FycmF5ID0gZnVuY3Rpb24gKCkgewogIHZhciBzY2hlbWEgPSB0aGlzLnNjaGVtYTsKICBpZihzY2hlbWEudHlwZSA9PT0gJ2FycmF5JykKICAgIHJldHVybiB0cnVlOwogIGVsc2UKICAgIHJldHVybiBmYWxzZTsKfTsKClByb3BlcnR5LnByb3RvdHlwZS5zYW1wbGVWYWx1ZSA9IGZ1bmN0aW9uKGlzQXJyYXksIGlnbm9yZWRNb2RlbHMpIHsKICBpc0FycmF5ID0gKGlzQXJyYXkgfHwgdGhpcy5pc0FycmF5KCkpOwogIGlnbm9yZWRNb2RlbHMgPSAoaWdub3JlZE1vZGVscyB8fCB7fSk7CiAgdmFyIHR5cGUgPSBnZXRTdHJpbmdTaWduYXR1cmUodGhpcy5vYmosIHRydWUpOwogIHZhciBvdXRwdXQ7CgogIGlmKHRoaXMuJHJlZikgewogICAgdmFyIHJlZk1vZGVsTmFtZSA9IHNpbXBsZVJlZih0aGlzLiRyZWYpOwogICAgdmFyIHJlZk1vZGVsID0gbW9kZWxzW3JlZk1vZGVsTmFtZV07CiAgICBpZihyZWZNb2RlbCAmJiB0eXBlb2YgaWdub3JlZE1vZGVsc1t0eXBlXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgaWdub3JlZE1vZGVsc1t0eXBlXSA9IHRoaXM7CiAgICAgIG91dHB1dCA9IHJlZk1vZGVsLmdldFNhbXBsZVZhbHVlKGlnbm9yZWRNb2RlbHMpOwogICAgfQogICAgZWxzZSB7CiAgICAgIG91dHB1dCA9IHJlZk1vZGVsTmFtZTsKICAgIH0KICB9CiAgZWxzZSBpZih0aGlzLmV4YW1wbGUpCiAgICBvdXRwdXQgPSB0aGlzLmV4YW1wbGU7CiAgZWxzZSBpZih0aGlzLmRlZmF1bHQpCiAgICBvdXRwdXQgPSB0aGlzLmRlZmF1bHQ7CiAgZWxzZSBpZih0eXBlID09PSAnZGF0ZS10aW1lJykKICAgIG91dHB1dCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsKICBlbHNlIGlmKHR5cGUgPT09ICdkYXRlJykKICAgIG91dHB1dCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgiVCIpWzBdOwogIGVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycpCiAgICBvdXRwdXQgPSAnc3RyaW5nJzsKICBlbHNlIGlmKHR5cGUgPT09ICdpbnRlZ2VyJykKICAgIG91dHB1dCA9IDA7CiAgZWxzZSBpZih0eXBlID09PSAnbG9uZycpCiAgICBvdXRwdXQgPSAwOwogIGVsc2UgaWYodHlwZSA9PT0gJ2Zsb2F0JykKICAgIG91dHB1dCA9IDAuMDsKICBlbHNlIGlmKHR5cGUgPT09ICdkb3VibGUnKQogICAgb3V0cHV0ID0gMC4wOwogIGVsc2UgaWYodHlwZSA9PT0gJ2Jvb2xlYW4nKQogICAgb3V0cHV0ID0gdHJ1ZTsKICBlbHNlCiAgICBvdXRwdXQgPSB7fTsKICBpZ25vcmVkTW9kZWxzW3R5cGVdID0gb3V0cHV0OwogIGlmKGlzQXJyYXkpCiAgICByZXR1cm4gW291dHB1dF07CiAgZWxzZQogICAgcmV0dXJuIG91dHB1dDsKfTsKCmdldFN0cmluZ1NpZ25hdHVyZSA9IGZ1bmN0aW9uKG9iaiwgYmFzZUNvbXBvbmVudCkgewogIHZhciBzdHIgPSAnJzsKICBpZih0eXBlb2Ygb2JqLiRyZWYgIT09ICd1bmRlZmluZWQnKQogICAgc3RyICs9IHNpbXBsZVJlZihvYmouJHJlZik7CiAgZWxzZSBpZih0eXBlb2Ygb2JqLnR5cGUgPT09ICd1bmRlZmluZWQnKQogICAgc3RyICs9ICdvYmplY3QnOwogIGVsc2UgaWYob2JqLnR5cGUgPT09ICdhcnJheScpIHsKICAgIGlmKGJhc2VDb21wb25lbnQpCiAgICAgIHN0ciArPSBnZXRTdHJpbmdTaWduYXR1cmUoKG9iai5pdGVtcyB8fCBvYmouJHJlZiB8fCB7fSkpOwogICAgZWxzZSB7CiAgICAgIHN0ciArPSAnQXJyYXlbJzsKICAgICAgc3RyICs9IGdldFN0cmluZ1NpZ25hdHVyZSgob2JqLml0ZW1zIHx8IG9iai4kcmVmIHx8IHt9KSk7CiAgICAgIHN0ciArPSAnXSc7CiAgICB9CiAgfQogIGVsc2UgaWYob2JqLnR5cGUgPT09ICdpbnRlZ2VyJyAmJiBvYmouZm9ybWF0ID09PSAnaW50MzInKQogICAgc3RyICs9ICdpbnRlZ2VyJzsKICBlbHNlIGlmKG9iai50eXBlID09PSAnaW50ZWdlcicgJiYgb2JqLmZvcm1hdCA9PT0gJ2ludDY0JykKICAgIHN0ciArPSAnbG9uZyc7CiAgZWxzZSBpZihvYmoudHlwZSA9PT0gJ2ludGVnZXInICYmIHR5cGVvZiBvYmouZm9ybWF0ID09PSAndW5kZWZpbmVkJykKICAgIHN0ciArPSAnbG9uZyc7CiAgZWxzZSBpZihvYmoudHlwZSA9PT0gJ3N0cmluZycgJiYgb2JqLmZvcm1hdCA9PT0gJ2RhdGUtdGltZScpCiAgICBzdHIgKz0gJ2RhdGUtdGltZSc7CiAgZWxzZSBpZihvYmoudHlwZSA9PT0gJ3N0cmluZycgJiYgb2JqLmZvcm1hdCA9PT0gJ2RhdGUnKQogICAgc3RyICs9ICdkYXRlJzsKICBlbHNlIGlmKG9iai50eXBlID09PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb2JqLmZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpCiAgICBzdHIgKz0gJ3N0cmluZyc7CiAgZWxzZSBpZihvYmoudHlwZSA9PT0gJ251bWJlcicgJiYgb2JqLmZvcm1hdCA9PT0gJ2Zsb2F0JykKICAgIHN0ciArPSAnZmxvYXQnOwogIGVsc2UgaWYob2JqLnR5cGUgPT09ICdudW1iZXInICYmIG9iai5mb3JtYXQgPT09ICdkb3VibGUnKQogICAgc3RyICs9ICdkb3VibGUnOwogIGVsc2UgaWYob2JqLnR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmouZm9ybWF0ID09PSAndW5kZWZpbmVkJykKICAgIHN0ciArPSAnZG91YmxlJzsKICBlbHNlIGlmKG9iai50eXBlID09PSAnYm9vbGVhbicpCiAgICBzdHIgKz0gJ2Jvb2xlYW4nOwogIGVsc2UgaWYob2JqLiRyZWYpCiAgICBzdHIgKz0gc2ltcGxlUmVmKG9iai4kcmVmKTsKICBlbHNlCiAgICBzdHIgKz0gb2JqLnR5cGU7CiAgcmV0dXJuIHN0cjsKfTsKCnNpbXBsZVJlZiA9IGZ1bmN0aW9uKG5hbWUpIHsKICBpZih0eXBlb2YgbmFtZSA9PT0gJ3VuZGVmaW5lZCcpCiAgICByZXR1cm4gbnVsbDsKICBpZihuYW1lLmluZGV4T2YoIiMvZGVmaW5pdGlvbnMvIikgPT09IDApCiAgICByZXR1cm4gbmFtZS5zdWJzdHJpbmcoJyMvZGVmaW5pdGlvbnMvJy5sZW5ndGgpOwogIGVsc2UKICAgIHJldHVybiBuYW1lOwp9OwoKUHJvcGVydHkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7CiAgdmFyIHN0ciA9IGdldFN0cmluZ1NpZ25hdHVyZSh0aGlzLm9iaik7CiAgaWYoc3RyICE9PSAnJykgewogICAgc3RyID0gJzxzcGFuIGNsYXNzPSJwcm9wTmFtZSAnICsgdGhpcy5yZXF1aXJlZCArICciPicgKyB0aGlzLm5hbWUgKyAnPC9zcGFuPiAoPHNwYW4gY2xhc3M9InByb3BUeXBlIj4nICsgc3RyICsgJzwvc3Bhbj4nOwogICAgaWYoIXRoaXMucmVxdWlyZWQpCiAgICAgIHN0ciArPSAnLCA8c3BhbiBjbGFzcz0icHJvcE9wdEtleSI+b3B0aW9uYWw8L3NwYW4+JzsKICAgIHN0ciArPSAnKSc7CiAgfQogIGVsc2UKICAgIHN0ciA9IHRoaXMubmFtZSArICcgKCcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLm9iaikgKyAnKSc7CgogIGlmKHR5cGVvZiB0aGlzLmRlc2NyaXB0aW9uICE9PSAndW5kZWZpbmVkJykKICAgIHN0ciArPSAnOiAnICsgdGhpcy5kZXNjcmlwdGlvbjsKCiAgaWYgKHRoaXNbJ2VudW0nXSkgewogICAgc3RyICs9ICcgPSA8c3BhbiBjbGFzcz0icHJvcFZhbHMiPltcJycgKyB0aGlzWydlbnVtJ10uam9pbignXCcgb3IgXCcnKSArICdcJ108L3NwYW4+JzsKICB9CiAgaWYgKHRoaXMuZGVzY3IpIHsKICAgIHN0ciArPSAnOiA8c3BhbiBjbGFzcz0icHJvcERlc2MiPicgKyB0aGlzLmRlc2NyICsgJzwvc3Bhbj4nOwogIH0KCgogIHZhciBvcHRpb25zID0gJyc7IAogIHZhciBpc0FycmF5ID0gdGhpcy5zY2hlbWEudHlwZSA9PT0gJ2FycmF5JzsKICB2YXIgdHlwZTsKCiAgaWYoaXNBcnJheSkgewogICAgaWYodGhpcy5zY2hlbWEuaXRlbXMpCiAgICAgIHR5cGUgPSB0aGlzLnNjaGVtYS5pdGVtcy50eXBlOwogICAgZWxzZQogICAgICB0eXBlID0gJyc7CiAgfQogIGVsc2UgewogICAgdHlwZSA9IHRoaXMuc2NoZW1hLnR5cGU7CiAgfQoKICBpZiAodGhpcy5kZWZhdWx0KQogICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdEZWZhdWx0JywgdGhpcy5kZWZhdWx0KTsKCiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICdzdHJpbmcnOgogICAgICBpZiAodGhpcy5taW5MZW5ndGgpCiAgICAgICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdNaW4uIExlbmd0aCcsIHRoaXMubWluTGVuZ3RoKTsKICAgICAgaWYgKHRoaXMubWF4TGVuZ3RoKQogICAgICAgIG9wdGlvbnMgKz0gb3B0aW9uSHRtbCgnTWF4LiBMZW5ndGgnLCB0aGlzLm1heExlbmd0aCk7CiAgICAgIGlmICh0aGlzLnBhdHRlcm4pCiAgICAgICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdSZWcuIEV4cC4nLCB0aGlzLnBhdHRlcm4pOwogICAgICBicmVhazsKICAgIGNhc2UgJ2ludGVnZXInOgogICAgY2FzZSAnbnVtYmVyJzoKICAgICAgaWYgKHRoaXMubWluaW11bSkKICAgICAgICBvcHRpb25zICs9IG9wdGlvbkh0bWwoJ01pbi4gVmFsdWUnLCB0aGlzLm1pbmltdW0pOwogICAgICBpZiAodGhpcy5leGNsdXNpdmVNaW5pbXVtKQogICAgICAgIG9wdGlvbnMgKz0gb3B0aW9uSHRtbCgnRXhjbHVzaXZlIE1pbi4nLCAidHJ1ZSIpOwogICAgICBpZiAodGhpcy5tYXhpbXVtKQogICAgICAgIG9wdGlvbnMgKz0gb3B0aW9uSHRtbCgnTWF4LiBWYWx1ZScsIHRoaXMubWF4aW11bSk7CiAgICAgIGlmICh0aGlzLmV4Y2x1c2l2ZU1heGltdW0pCiAgICAgICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdFeGNsdXNpdmUgTWF4LicsICJ0cnVlIik7CiAgICAgIGlmICh0aGlzLm11bHRpcGxlT2YpCiAgICAgICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdNdWx0aXBsZSBPZicsIHRoaXMubXVsdGlwbGVPZik7CiAgICAgIGJyZWFrOwogIH0KCiAgaWYgKGlzQXJyYXkpIHsKICAgIGlmICh0aGlzLm1pbkl0ZW1zKQogICAgICBvcHRpb25zICs9IG9wdGlvbkh0bWwoJ01pbi4gSXRlbXMnLCB0aGlzLm1pbkl0ZW1zKTsKICAgIGlmICh0aGlzLm1heEl0ZW1zKQogICAgICBvcHRpb25zICs9IG9wdGlvbkh0bWwoJ01heC4gSXRlbXMnLCB0aGlzLm1heEl0ZW1zKTsKICAgIGlmICh0aGlzLnVuaXF1ZUl0ZW1zKQogICAgICBvcHRpb25zICs9IG9wdGlvbkh0bWwoJ1VuaXF1ZSBJdGVtcycsICJ0cnVlIik7CiAgICBpZiAodGhpcy5jb2xsZWN0aW9uRm9ybWF0KQogICAgICBvcHRpb25zICs9IG9wdGlvbkh0bWwoJ0NvbGwuIEZvcm1hdCcsIHRoaXMuY29sbGVjdGlvbkZvcm1hdCk7CiAgfQoKICBpZiAodGhpc1snZW51bSddKSB7CiAgICB2YXIgZW51bVN0cmluZzsKCiAgICBpZiAodHlwZSA9PT0gJ251bWJlcicgfHwgdHlwZSA9PT0gJ2ludGVnZXInKQogICAgICBlbnVtU3RyaW5nID0gdGhpc1snZW51bSddLmpvaW4oJywgJyk7CiAgICBlbHNlIHsKICAgICAgZW51bVN0cmluZyA9ICciJyArIHRoaXNbJ2VudW0nXS5qb2luKCciLCAiJykgKyAnIic7CiAgICB9CgogICAgb3B0aW9ucyArPSBvcHRpb25IdG1sKCdFbnVtJywgZW51bVN0cmluZyk7CiAgfSAgICAgCgogIGlmIChvcHRpb25zLmxlbmd0aCA+IDApCiAgICBzdHIgPSAnPHNwYW4gY2xhc3M9InByb3BXcmFwIj4nICsgc3RyICsgJzx0YWJsZSBjbGFzcz0ib3B0aW9uc1dyYXBwZXIiPjx0cj48dGggY29sc3Bhbj0iMiI+JyArIHRoaXMubmFtZSArICc8L3RoPjwvdHI+JyArIG9wdGlvbnMgKyAnPC90YWJsZT48L3NwYW4+JzsKICAKICByZXR1cm4gc3RyOwp9OwoKb3B0aW9uSHRtbCA9IGZ1bmN0aW9uKGxhYmVsLCB2YWx1ZSkgewogIHJldHVybiAnPHRyPjx0ZCBjbGFzcz0ib3B0aW9uTmFtZSI+JyArIGxhYmVsICsgJzo8L3RkPjx0ZD4nICsgdmFsdWUgKyAnPC90ZD48L3RyPic7Cn07Cgp0eXBlRnJvbUpzb25TY2hlbWEgPSBmdW5jdGlvbih0eXBlLCBmb3JtYXQpIHsKICB2YXIgc3RyOwogIGlmKHR5cGUgPT09ICdpbnRlZ2VyJyAmJiBmb3JtYXQgPT09ICdpbnQzMicpCiAgICBzdHIgPSAnaW50ZWdlcic7CiAgZWxzZSBpZih0eXBlID09PSAnaW50ZWdlcicgJiYgZm9ybWF0ID09PSAnaW50NjQnKQogICAgc3RyID0gJ2xvbmcnOwogIGVsc2UgaWYodHlwZSA9PT0gJ2ludGVnZXInICYmIHR5cGVvZiBmb3JtYXQgPT09ICd1bmRlZmluZWQnKQogICAgc3RyID0gJ2xvbmcnOwogIGVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycgJiYgZm9ybWF0ID09PSAnZGF0ZS10aW1lJykKICAgIHN0ciA9ICdkYXRlLXRpbWUnOwogIGVsc2UgaWYodHlwZSA9PT0gJ3N0cmluZycgJiYgZm9ybWF0ID09PSAnZGF0ZScpCiAgICBzdHIgPSAnZGF0ZSc7CiAgZWxzZSBpZih0eXBlID09PSAnbnVtYmVyJyAmJiBmb3JtYXQgPT09ICdmbG9hdCcpCiAgICBzdHIgPSAnZmxvYXQnOwogIGVsc2UgaWYodHlwZSA9PT0gJ251bWJlcicgJiYgZm9ybWF0ID09PSAnZG91YmxlJykKICAgIHN0ciA9ICdkb3VibGUnOwogIGVsc2UgaWYodHlwZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGZvcm1hdCA9PT0gJ3VuZGVmaW5lZCcpCiAgICBzdHIgPSAnZG91YmxlJzsKICBlbHNlIGlmKHR5cGUgPT09ICdib29sZWFuJykKICAgIHN0ciA9ICdib29sZWFuJzsKICBlbHNlIGlmKHR5cGUgPT09ICdzdHJpbmcnKQogICAgc3RyID0gJ3N0cmluZyc7CgogIHJldHVybiBzdHI7Cn07Cgp2YXIgc2FtcGxlTW9kZWxzID0ge307CnZhciBjb29raWVzID0ge307CnZhciBtb2RlbHMgPSB7fTsKClN3YWdnZXJDbGllbnQucHJvdG90eXBlLmJ1aWxkRnJvbTFfMlNwZWMgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBpZiAocmVzcG9uc2UuYXBpVmVyc2lvbiAhPT0gbnVsbCkgewogICAgdGhpcy5hcGlWZXJzaW9uID0gcmVzcG9uc2UuYXBpVmVyc2lvbjsKICB9CiAgdGhpcy5hcGlzID0ge307CiAgdGhpcy5hcGlzQXJyYXkgPSBbXTsKICB0aGlzLmNvbnN1bWVzID0gcmVzcG9uc2UuY29uc3VtZXM7CiAgdGhpcy5wcm9kdWNlcyA9IHJlc3BvbnNlLnByb2R1Y2VzOwogIHRoaXMuYXV0aFNjaGVtZXMgPSByZXNwb25zZS5hdXRob3JpemF0aW9uczsKICB0aGlzLmluZm8gPSB0aGlzLmNvbnZlcnRJbmZvKHJlc3BvbnNlLmluZm8pOwoKICB2YXIgaXNBcGkgPSBmYWxzZSwgaSwgcmVzOwogIGZvciAoaSA9IDA7IGkgPCByZXNwb25zZS5hcGlzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgYXBpID0gcmVzcG9uc2UuYXBpc1tpXTsKICAgIGlmIChhcGkub3BlcmF0aW9ucykgewogICAgICB2YXIgajsKICAgICAgZm9yIChqID0gMDsgaiA8IGFwaS5vcGVyYXRpb25zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgb3BlcmF0aW9uID0gYXBpLm9wZXJhdGlvbnNbal07CiAgICAgICAgaXNBcGkgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQogIGlmIChyZXNwb25zZS5iYXNlUGF0aCkKICAgIHRoaXMuYmFzZVBhdGggPSByZXNwb25zZS5iYXNlUGF0aDsKICBlbHNlIGlmICh0aGlzLnVybC5pbmRleE9mKCc/JykgPiAwKQogICAgdGhpcy5iYXNlUGF0aCA9IHRoaXMudXJsLnN1YnN0cmluZygwLCB0aGlzLnVybC5sYXN0SW5kZXhPZignPycpKTsKICBlbHNlCiAgICB0aGlzLmJhc2VQYXRoID0gdGhpcy51cmw7CgogIGlmIChpc0FwaSkgewogICAgdmFyIG5ld05hbWUgPSByZXNwb25zZS5yZXNvdXJjZVBhdGgucmVwbGFjZSgvXC8vZywgJycpOwogICAgdGhpcy5yZXNvdXJjZVBhdGggPSByZXNwb25zZS5yZXNvdXJjZVBhdGg7CiAgICByZXMgPSBuZXcgU3dhZ2dlclJlc291cmNlKHJlc3BvbnNlLCB0aGlzKTsKICAgIHRoaXMuYXBpc1tuZXdOYW1lXSA9IHJlczsKICAgIHRoaXMuYXBpc0FycmF5LnB1c2gocmVzKTsKICB9IGVsc2UgewogICAgdmFyIGs7CiAgICB0aGlzLmV4cGVjdGVkUmVzb3VyY2VDb3VudCA9IHJlc3BvbnNlLmFwaXMubGVuZ3RoOwogICAgZm9yIChrID0gMDsgayA8IHJlc3BvbnNlLmFwaXMubGVuZ3RoOyBrKyspIHsKICAgICAgdmFyIHJlc291cmNlID0gcmVzcG9uc2UuYXBpc1trXTsKICAgICAgcmVzID0gbmV3IFN3YWdnZXJSZXNvdXJjZShyZXNvdXJjZSwgdGhpcyk7CiAgICAgIHRoaXMuYXBpc1tyZXMubmFtZV0gPSByZXM7CiAgICAgIHRoaXMuYXBpc0FycmF5LnB1c2gocmVzKTsKICAgIH0KICB9CiAgdGhpcy5pc1ZhbGlkID0gdHJ1ZTsKICByZXR1cm4gdGhpczsKfTsKClN3YWdnZXJDbGllbnQucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uKCkgewogIGlmICh0eXBlb2YgdGhpcy5zdWNjZXNzID09PSAnZnVuY3Rpb24nKSB7CiAgICB0aGlzLmlzVmFsaWQgPSB0cnVlOwogICAgdGhpcy5pc0J1aWx0ID0gdHJ1ZTsKICAgIHRoaXMuc2VsZlJlZmxlY3QoKTsKICAgIHRoaXMuc3VjY2VzcygpOwogIH0gIAp9OwoKU3dhZ2dlckNsaWVudC5wcm90b3R5cGUuYnVpbGRGcm9tMV8xU3BlYyA9IGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGxvZygnVGhpcyBBUEkgaXMgdXNpbmcgYSBkZXByZWNhdGVkIHZlcnNpb24gb2YgU3dhZ2dlciEgIFBsZWFzZSBzZWUgaHR0cDovL2dpdGh1Yi5jb20vd29yZG5pay9zd2FnZ2VyLWNvcmUvd2lraSBmb3IgbW9yZSBpbmZvJyk7CiAgaWYgKHJlc3BvbnNlLmFwaVZlcnNpb24gIT09IG51bGwpCiAgICB0aGlzLmFwaVZlcnNpb24gPSByZXNwb25zZS5hcGlWZXJzaW9uOwogIHRoaXMuYXBpcyA9IHt9OwogIHRoaXMuYXBpc0FycmF5ID0gW107CiAgdGhpcy5wcm9kdWNlcyA9IHJlc3BvbnNlLnByb2R1Y2VzOwogIHRoaXMuaW5mbyA9IHRoaXMuY29udmVydEluZm8ocmVzcG9uc2UuaW5mbyk7CiAgdmFyIGlzQXBpID0gZmFsc2UsIHJlczsKICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmFwaXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBhcGkgPSByZXNwb25zZS5hcGlzW2ldOwogICAgaWYgKGFwaS5vcGVyYXRpb25zKSB7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXBpLm9wZXJhdGlvbnMubGVuZ3RoOyBqKyspIHsKICAgICAgICBvcGVyYXRpb24gPSBhcGkub3BlcmF0aW9uc1tqXTsKICAgICAgICBpc0FwaSA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9CiAgaWYgKHJlc3BvbnNlLmJhc2VQYXRoKSB7CiAgICB0aGlzLmJhc2VQYXRoID0gcmVzcG9uc2UuYmFzZVBhdGg7CiAgfSBlbHNlIGlmICh0aGlzLnVybC5pbmRleE9mKCc/JykgPiAwKSB7CiAgICB0aGlzLmJhc2VQYXRoID0gdGhpcy51cmwuc3Vic3RyaW5nKDAsIHRoaXMudXJsLmxhc3RJbmRleE9mKCc/JykpOwogIH0gZWxzZSB7CiAgICB0aGlzLmJhc2VQYXRoID0gdGhpcy51cmw7CiAgfQogIGlmIChpc0FwaSkgewogICAgdmFyIG5ld05hbWUgPSByZXNwb25zZS5yZXNvdXJjZVBhdGgucmVwbGFjZSgvXC8vZywgJycpOwogICAgdGhpcy5yZXNvdXJjZVBhdGggPSByZXNwb25zZS5yZXNvdXJjZVBhdGg7CiAgICByZXMgPSBuZXcgU3dhZ2dlclJlc291cmNlKHJlc3BvbnNlLCB0aGlzKTsKICAgIHRoaXMuYXBpc1tuZXdOYW1lXSA9IHJlczsKICAgIHRoaXMuYXBpc0FycmF5LnB1c2gocmVzKTsKICB9IGVsc2UgewogICAgZm9yIChrID0gMDsgayA8IHJlc3BvbnNlLmFwaXMubGVuZ3RoOyBrKyspIHsKICAgICAgcmVzb3VyY2UgPSByZXNwb25zZS5hcGlzW2tdOwogICAgICByZXMgPSBuZXcgU3dhZ2dlclJlc291cmNlKHJlc291cmNlLCB0aGlzKTsKICAgICAgdGhpcy5hcGlzW3Jlcy5uYW1lXSA9IHJlczsKICAgICAgdGhpcy5hcGlzQXJyYXkucHVzaChyZXMpOwogICAgfQogIH0KICB0aGlzLmlzVmFsaWQgPSB0cnVlOwogIGlmICh0aGlzLnN1Y2Nlc3MpIHsKICAgIHRoaXMuc3VjY2VzcygpOwogIH0KICByZXR1cm4gdGhpczsKfTsKClN3YWdnZXJDbGllbnQucHJvdG90eXBlLmNvbnZlcnRJbmZvID0gZnVuY3Rpb24gKHJlc3ApIHsKICBpZih0eXBlb2YgcmVzcCA9PSAnb2JqZWN0JykgewogICAgdmFyIGluZm8gPSB7fTsKCiAgICBpbmZvLnRpdGxlID0gcmVzcC50aXRsZTsKICAgIGluZm8uZGVzY3JpcHRpb24gPSByZXNwLmRlc2NyaXB0aW9uOwogICAgaW5mby50ZXJtc09mU2VydmljZSA9IHJlc3AudGVybXNPZlNlcnZpY2VVcmw7CiAgICBpbmZvLmNvbnRhY3QgPSB7fTsKICAgIGluZm8uY29udGFjdC5uYW1lID0gcmVzcC5jb250YWN0OwogICAgaW5mby5saWNlbnNlID0ge307CiAgICBpbmZvLmxpY2Vuc2UubmFtZSA9IHJlc3AubGljZW5zZTsKICAgIGluZm8ubGljZW5zZS51cmwgPSByZXNwLmxpY2Vuc2VVcmw7CgogICAgcmV0dXJuIGluZm87CiAgfQp9OwoKU3dhZ2dlckNsaWVudC5wcm90b3R5cGUuc2VsZlJlZmxlY3QgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHJlc291cmNlLCByZXNvdXJjZV9uYW1lLCByZWY7CiAgaWYgKHRoaXMuYXBpcyA9PT0gbnVsbCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICByZWYgPSB0aGlzLmFwaXM7CiAgZm9yIChyZXNvdXJjZV9uYW1lIGluIHJlZikgewogICAgcmVzb3VyY2UgPSByZWZbcmVzb3VyY2VfbmFtZV07CiAgICBpZiAocmVzb3VyY2UucmVhZHkgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KICB0aGlzLnNldENvbnNvbGlkYXRlZE1vZGVscygpOwogIHRoaXMucmVhZHkgPSB0cnVlOwp9OwoKU3dhZ2dlckNsaWVudC5wcm90b3R5cGUuc2V0Q29uc29saWRhdGVkTW9kZWxzID0gZnVuY3Rpb24gKCkgewogIHZhciBtb2RlbCwgbW9kZWxOYW1lLCByZXNvdXJjZSwgcmVzb3VyY2VfbmFtZSwgaSwgYXBpcywgbW9kZWxzLCByZXN1bHRzOwogIHRoaXMubW9kZWxzID0ge307CiAgYXBpcyA9IHRoaXMuYXBpczsKICBmb3IgKHJlc291cmNlX25hbWUgaW4gYXBpcykgewogICAgcmVzb3VyY2UgPSBhcGlzW3Jlc291cmNlX25hbWVdOwogICAgZm9yIChtb2RlbE5hbWUgaW4gcmVzb3VyY2UubW9kZWxzKSB7CiAgICAgIGlmICh0eXBlb2YgdGhpcy5tb2RlbHNbbW9kZWxOYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB0aGlzLm1vZGVsc1ttb2RlbE5hbWVdID0gcmVzb3VyY2UubW9kZWxzW21vZGVsTmFtZV07CiAgICAgICAgdGhpcy5tb2RlbHNBcnJheS5wdXNoKHJlc291cmNlLm1vZGVsc1ttb2RlbE5hbWVdKTsKICAgICAgfQogICAgfQogIH0KICBtb2RlbHMgPSB0aGlzLm1vZGVsc0FycmF5OwogIHJlc3VsdHMgPSBbXTsKICBmb3IgKGkgPSAwOyBpIDwgbW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICBtb2RlbCA9IG1vZGVsc1tpXTsKICAgIHJlc3VsdHMucHVzaChtb2RlbC5zZXRSZWZlcmVuY2VkTW9kZWxzKHRoaXMubW9kZWxzKSk7CiAgfQogIHJldHVybiByZXN1bHRzOwp9OwoKdmFyIFN3YWdnZXJSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNvdXJjZU9iaiwgYXBpKSB7CiAgdmFyIF90aGlzID0gdGhpczsKICB0aGlzLmFwaSA9IGFwaTsKICB0aGlzLnN3YWdnZXJSZXF1c3RIZWFkZXJzID0gYXBpLnN3YWdnZXJSZXF1c3RIZWFkZXJzOwogIHRoaXMucGF0aCA9ICh0eXBlb2YgdGhpcy5hcGkucmVzb3VyY2VQYXRoID09PSAnc3RyaW5nJykgPyB0aGlzLmFwaS5yZXNvdXJjZVBhdGggOiByZXNvdXJjZU9iai5wYXRoOwogIHRoaXMuZGVzY3JpcHRpb24gPSByZXNvdXJjZU9iai5kZXNjcmlwdGlvbjsKICB0aGlzLmF1dGhvcml6YXRpb25zID0gKHJlc291cmNlT2JqLmF1dGhvcml6YXRpb25zIHx8IHt9KTsKCgogIHZhciBwYXJ0cyA9IHRoaXMucGF0aC5zcGxpdCgnLycpOwogIHRoaXMubmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdLnJlcGxhY2UoJy57Zm9ybWF0fScsICcnKTsKICB0aGlzLmJhc2VQYXRoID0gdGhpcy5hcGkuYmFzZVBhdGg7CiAgdGhpcy5vcGVyYXRpb25zID0ge307CiAgdGhpcy5vcGVyYXRpb25zQXJyYXkgPSBbXTsKICB0aGlzLm1vZGVsc0FycmF5ID0gW107CiAgdGhpcy5tb2RlbHMgPSBhcGkubW9kZWxzIHx8IHt9OwogIHRoaXMucmF3TW9kZWxzID0ge307CiAgdGhpcy51c2VKUXVlcnkgPSAodHlwZW9mIGFwaS51c2VKUXVlcnkgIT09ICd1bmRlZmluZWQnKSA/IGFwaS51c2VKUXVlcnkgOiBudWxsOwoKICBpZiAoKHJlc291cmNlT2JqLmFwaXMpICYmIHRoaXMuYXBpLnJlc291cmNlUGF0aCkgewogICAgdGhpcy5hZGRBcGlEZWNsYXJhdGlvbihyZXNvdXJjZU9iaik7CiAgfSBlbHNlIHsKICAgIGlmICh0eXBlb2YgdGhpcy5wYXRoID09PSAndW5kZWZpbmVkJykgewogICAgICB0aGlzLmFwaS5mYWlsKCdTd2FnZ2VyUmVzb3VyY2VzIG11c3QgaGF2ZSBhIHBhdGguJyk7CiAgICB9CiAgICBpZiAodGhpcy5wYXRoLnN1YnN0cmluZygwLCA0KSA9PT0gJ2h0dHAnKSB7CiAgICAgIHRoaXMudXJsID0gdGhpcy5wYXRoLnJlcGxhY2UoJ3tmb3JtYXR9JywgJ2pzb24nKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudXJsID0gdGhpcy5hcGkuYmFzZVBhdGggKyB0aGlzLnBhdGgucmVwbGFjZSgne2Zvcm1hdH0nLCAnanNvbicpOwogICAgfQogICAgdGhpcy5hcGkucHJvZ3Jlc3MoJ2ZldGNoaW5nIHJlc291cmNlICcgKyB0aGlzLm5hbWUgKyAnOiAnICsgdGhpcy51cmwpOwogICAgdmFyIG9iaiA9IHsKICAgICAgdXJsOiB0aGlzLnVybCwKICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgdXNlSlF1ZXJ5OiB0aGlzLnVzZUpRdWVyeSwKICAgICAgaGVhZGVyczogewogICAgICAgIGFjY2VwdDogdGhpcy5zd2FnZ2VyUmVxdXN0SGVhZGVycwogICAgICB9LAogICAgICBvbjogewogICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgdmFyIHJlc3BvbnNlT2JqID0gcmVzcC5vYmogfHwgSlNPTi5wYXJzZShyZXNwLmRhdGEpOwogICAgICAgICAgX3RoaXMuYXBpLnJlc291cmNlQ291bnQgKz0gMTsKICAgICAgICAgIHJldHVybiBfdGhpcy5hZGRBcGlEZWNsYXJhdGlvbihyZXNwb25zZU9iaik7CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy5hcGkucmVzb3VyY2VDb3VudCArPSAxOwogICAgICAgICAgcmV0dXJuIF90aGlzLmFwaS5mYWlsKCdVbmFibGUgdG8gcmVhZCBhcGkgXCcnICsKICAgICAgICAgIF90aGlzLm5hbWUgKyAnXCcgZnJvbSBwYXRoICcgKyBfdGhpcy51cmwgKyAnIChzZXJ2ZXIgcmV0dXJuZWQgJyArIHJlc3BvbnNlLnN0YXR1c1RleHQgKyAnKScpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHZhciBlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBleHBvcnRzOwogICAgZS5hdXRob3JpemF0aW9ucy5hcHBseShvYmopOwogICAgbmV3IFN3YWdnZXJIdHRwKCkuZXhlY3V0ZShvYmopOwogIH0KfTsKClN3YWdnZXJSZXNvdXJjZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVCYXNlUGF0aCA9IGZ1bmN0aW9uIChyZWxhdGl2ZUJhc2VQYXRoKSB7CiAgdmFyIHBvcywgdXJsOwogIHVybCA9IHRoaXMuYXBpLmJhc2VQYXRoOwogIHBvcyA9IHVybC5sYXN0SW5kZXhPZihyZWxhdGl2ZUJhc2VQYXRoKTsKICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJy8nKTsKICB2YXIgcm9vdFVybCA9IHBhcnRzWzBdICsgJy8vJyArIHBhcnRzWzJdOwoKICBpZiAocmVsYXRpdmVCYXNlUGF0aC5pbmRleE9mKCdodHRwJykgPT09IDApCiAgICByZXR1cm4gcmVsYXRpdmVCYXNlUGF0aDsKICBpZiAocmVsYXRpdmVCYXNlUGF0aCA9PT0gJy8nKQogICAgcmV0dXJuIHJvb3RVcmw7CiAgaWYgKHJlbGF0aXZlQmFzZVBhdGguc3Vic3RyaW5nKDAsIDEpID09ICcvJykgewogICAgLy8gdXNlIHJvb3QgKyByZWxhdGl2ZQogICAgcmV0dXJuIHJvb3RVcmwgKyByZWxhdGl2ZUJhc2VQYXRoOwogIH0KICBlbHNlIHsKICAgIHBvcyA9IHRoaXMuYmFzZVBhdGgubGFzdEluZGV4T2YoJy8nKTsKICAgIHZhciBiYXNlID0gdGhpcy5iYXNlUGF0aC5zdWJzdHJpbmcoMCwgcG9zKTsKICAgIGlmIChiYXNlLnN1YnN0cmluZyhiYXNlLmxlbmd0aCAtIDEpID09ICcvJykKICAgICAgcmV0dXJuIGJhc2UgKyByZWxhdGl2ZUJhc2VQYXRoOwogICAgZWxzZQogICAgICByZXR1cm4gYmFzZSArICcvJyArIHJlbGF0aXZlQmFzZVBhdGg7CiAgfQp9OwoKU3dhZ2dlclJlc291cmNlLnByb3RvdHlwZS5hZGRBcGlEZWNsYXJhdGlvbiA9IGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGlmICh0eXBlb2YgcmVzcG9uc2UucHJvZHVjZXMgPT09ICdzdHJpbmcnKQogICAgdGhpcy5wcm9kdWNlcyA9IHJlc3BvbnNlLnByb2R1Y2VzOwogIGlmICh0eXBlb2YgcmVzcG9uc2UuY29uc3VtZXMgPT09ICdzdHJpbmcnKQogICAgdGhpcy5jb25zdW1lcyA9IHJlc3BvbnNlLmNvbnN1bWVzOwogIGlmICgodHlwZW9mIHJlc3BvbnNlLmJhc2VQYXRoID09PSAnc3RyaW5nJykgJiYgcmVzcG9uc2UuYmFzZVBhdGgucmVwbGFjZSgvXHMvZywgJycpLmxlbmd0aCA+IDApCiAgICB0aGlzLmJhc2VQYXRoID0gcmVzcG9uc2UuYmFzZVBhdGguaW5kZXhPZignaHR0cCcpID09PSAtMSA/IHRoaXMuZ2V0QWJzb2x1dGVCYXNlUGF0aChyZXNwb25zZS5iYXNlUGF0aCkgOiByZXNwb25zZS5iYXNlUGF0aDsKICB0aGlzLnJlc291cmNlUGF0aCA9IHJlc3BvbnNlLnJlc291cmNlUGF0aDsKICB0aGlzLmFkZE1vZGVscyhyZXNwb25zZS5tb2RlbHMpOwogIGlmIChyZXNwb25zZS5hcGlzKSB7CiAgICBmb3IgKHZhciBpID0gMCA7IGkgPCByZXNwb25zZS5hcGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBlbmRwb2ludCA9IHJlc3BvbnNlLmFwaXNbaV07CiAgICAgIHRoaXMuYWRkT3BlcmF0aW9ucyhlbmRwb2ludC5wYXRoLCBlbmRwb2ludC5vcGVyYXRpb25zLCByZXNwb25zZS5jb25zdW1lcywgcmVzcG9uc2UucHJvZHVjZXMpOwogICAgfQogIH0KICB0aGlzLmFwaVt0aGlzLm5hbWVdID0gdGhpczsKICB0aGlzLnJlYWR5ID0gdHJ1ZTsKICBpZih0aGlzLmFwaS5yZXNvdXJjZUNvdW50ID09PSB0aGlzLmFwaS5leHBlY3RlZFJlc291cmNlQ291bnQpCiAgICB0aGlzLmFwaS5maW5pc2goKTsKICByZXR1cm4gdGhpczsKfTsKClN3YWdnZXJSZXNvdXJjZS5wcm90b3R5cGUuYWRkTW9kZWxzID0gZnVuY3Rpb24gKG1vZGVscykgewogIGlmICh0eXBlb2YgbW9kZWxzID09PSAnb2JqZWN0JykgewogICAgdmFyIG1vZGVsTmFtZTsKICAgIGZvciAobW9kZWxOYW1lIGluIG1vZGVscykgewogICAgICBpZiAodHlwZW9mIHRoaXMubW9kZWxzW21vZGVsTmFtZV0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdmFyIHN3YWdnZXJNb2RlbCA9IG5ldyBTd2FnZ2VyTW9kZWwobW9kZWxOYW1lLCBtb2RlbHNbbW9kZWxOYW1lXSk7CiAgICAgICAgdGhpcy5tb2RlbHNBcnJheS5wdXNoKHN3YWdnZXJNb2RlbCk7CiAgICAgICAgdGhpcy5tb2RlbHNbbW9kZWxOYW1lXSA9IHN3YWdnZXJNb2RlbDsKICAgICAgICB0aGlzLnJhd01vZGVsc1ttb2RlbE5hbWVdID0gbW9kZWxzW21vZGVsTmFtZV07CiAgICAgIH0KICAgIH0KICAgIHZhciBvdXRwdXQgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tb2RlbHNBcnJheS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgbW9kZWwgPSB0aGlzLm1vZGVsc0FycmF5W2ldOwogICAgICBvdXRwdXQucHVzaChtb2RlbC5zZXRSZWZlcmVuY2VkTW9kZWxzKHRoaXMubW9kZWxzKSk7CiAgICB9CiAgICByZXR1cm4gb3V0cHV0OwogIH0KfTsKClN3YWdnZXJSZXNvdXJjZS5wcm90b3R5cGUuYWRkT3BlcmF0aW9ucyA9IGZ1bmN0aW9uIChyZXNvdXJjZV9wYXRoLCBvcHMsIGNvbnN1bWVzLCBwcm9kdWNlcykgewogIGlmIChvcHMpIHsKICAgIHZhciBvdXRwdXQgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvID0gb3BzW2ldOwogICAgICBjb25zdW1lcyA9IHRoaXMuY29uc3VtZXM7CiAgICAgIHByb2R1Y2VzID0gdGhpcy5wcm9kdWNlczsKICAgICAgaWYgKHR5cGVvZiBvLmNvbnN1bWVzICE9PSAndW5kZWZpbmVkJykKICAgICAgICBjb25zdW1lcyA9IG8uY29uc3VtZXM7CiAgICAgIGVsc2UKICAgICAgICBjb25zdW1lcyA9IHRoaXMuY29uc3VtZXM7CgogICAgICBpZiAodHlwZW9mIG8ucHJvZHVjZXMgIT09ICd1bmRlZmluZWQnKQogICAgICAgIHByb2R1Y2VzID0gby5wcm9kdWNlczsKICAgICAgZWxzZQogICAgICAgIHByb2R1Y2VzID0gdGhpcy5wcm9kdWNlczsKICAgICAgdmFyIHR5cGUgPSAoby50eXBlIHx8IG8ucmVzcG9uc2VDbGFzcyk7CgogICAgICBpZiAodHlwZSA9PT0gJ2FycmF5JykgewogICAgICAgIHJlZiA9IG51bGw7CiAgICAgICAgaWYgKG8uaXRlbXMpCiAgICAgICAgICByZWYgPSBvLml0ZW1zLnR5cGUgfHwgby5pdGVtcy4kcmVmOwogICAgICAgIHR5cGUgPSAnYXJyYXlbJyArIHJlZiArICddJzsKICAgICAgfQogICAgICB2YXIgcmVzcG9uc2VNZXNzYWdlcyA9IG8ucmVzcG9uc2VNZXNzYWdlczsKICAgICAgdmFyIG1ldGhvZCA9IG8ubWV0aG9kOwogICAgICBpZiAoby5odHRwTWV0aG9kKSB7CiAgICAgICAgbWV0aG9kID0gby5odHRwTWV0aG9kOwogICAgICB9CiAgICAgIGlmIChvLnN1cHBvcnRlZENvbnRlbnRUeXBlcykgewogICAgICAgIGNvbnN1bWVzID0gby5zdXBwb3J0ZWRDb250ZW50VHlwZXM7CiAgICAgIH0KICAgICAgaWYgKG8uZXJyb3JSZXNwb25zZXMpIHsKICAgICAgICByZXNwb25zZU1lc3NhZ2VzID0gby5lcnJvclJlc3BvbnNlczsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlc3BvbnNlTWVzc2FnZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHIgPSByZXNwb25zZU1lc3NhZ2VzW2pdOwogICAgICAgICAgci5tZXNzYWdlID0gci5yZWFzb247CiAgICAgICAgICByLnJlYXNvbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICAgIG8ubmlja25hbWUgPSB0aGlzLnNhbml0aXplKG8ubmlja25hbWUpOwogICAgICB2YXIgb3AgPSBuZXcgU3dhZ2dlck9wZXJhdGlvbihvLm5pY2tuYW1lLAogICAgICAgICAgcmVzb3VyY2VfcGF0aCwKICAgICAgICAgIG1ldGhvZCwKICAgICAgICAgIG8ucGFyYW1ldGVycywKICAgICAgICAgIG8uc3VtbWFyeSwKICAgICAgICAgIG8ubm90ZXMsCiAgICAgICAgICB0eXBlLAogICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcywgCiAgICAgICAgICB0aGlzLCAKICAgICAgICAgIGNvbnN1bWVzLCAKICAgICAgICAgIHByb2R1Y2VzLCAKICAgICAgICAgIG8uYXV0aG9yaXphdGlvbnMsIAogICAgICAgICAgby5kZXByZWNhdGVkKTsKCiAgICAgIHRoaXMub3BlcmF0aW9uc1tvcC5uaWNrbmFtZV0gPSBvcDsKICAgICAgb3V0cHV0LnB1c2godGhpcy5vcGVyYXRpb25zQXJyYXkucHVzaChvcCkpOwogICAgfQogICAgcmV0dXJuIG91dHB1dDsKICB9Cn07CgpTd2FnZ2VyUmVzb3VyY2UucHJvdG90eXBlLnNhbml0aXplID0gZnVuY3Rpb24gKG5pY2tuYW1lKSB7CiAgdmFyIG9wOwogIG9wID0gbmlja25hbWUucmVwbGFjZSgvW1xzIUAjJCVeJiooKV8rPVxbe1xdfTs6PD58LlwvPyxcXCciIi1dL2csICdfJyk7CiAgb3AgPSBvcC5yZXBsYWNlKC8oKF8pezIsfSkvZywgJ18nKTsKICBvcCA9IG9wLnJlcGxhY2UoL14oXykqL2csICcnKTsKICBvcCA9IG9wLnJlcGxhY2UoLyhbX10pKiQvZywgJycpOwogIHJldHVybiBvcDsKfTsKCnZhciBTd2FnZ2VyTW9kZWwgPSBmdW5jdGlvbiAobW9kZWxOYW1lLCBvYmopIHsKICB0aGlzLm5hbWUgPSB0eXBlb2Ygb2JqLmlkICE9PSAndW5kZWZpbmVkJyA/IG9iai5pZCA6IG1vZGVsTmFtZTsKICB0aGlzLnByb3BlcnRpZXMgPSBbXTsKICB2YXIgcHJvcGVydHlOYW1lOwogIGZvciAocHJvcGVydHlOYW1lIGluIG9iai5wcm9wZXJ0aWVzKSB7CiAgICBpZiAob2JqLnJlcXVpcmVkKSB7CiAgICAgIHZhciB2YWx1ZTsKICAgICAgZm9yICh2YWx1ZSBpbiBvYmoucmVxdWlyZWQpIHsKICAgICAgICBpZiAocHJvcGVydHlOYW1lID09PSBvYmoucmVxdWlyZWRbdmFsdWVdKSB7CiAgICAgICAgICBvYmoucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLnJlcXVpcmVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHZhciBwcm9wID0gbmV3IFN3YWdnZXJNb2RlbFByb3BlcnR5KHByb3BlcnR5TmFtZSwgb2JqLnByb3BlcnRpZXNbcHJvcGVydHlOYW1lXSwgdGhpcyk7CiAgICB0aGlzLnByb3BlcnRpZXMucHVzaChwcm9wKTsKICB9Cn07CgpTd2FnZ2VyTW9kZWwucHJvdG90eXBlLnNldFJlZmVyZW5jZWRNb2RlbHMgPSBmdW5jdGlvbiAoYWxsTW9kZWxzKSB7CiAgdmFyIHJlc3VsdHMgPSBbXTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvcGVydGllcy5sZW5ndGg7IGkrKykgewogICAgdmFyIHByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgdmFyIHR5cGUgPSBwcm9wZXJ0eS50eXBlIHx8IHByb3BlcnR5LmRhdGFUeXBlOwogICAgaWYgKGFsbE1vZGVsc1t0eXBlXSkKICAgICAgcmVzdWx0cy5wdXNoKHByb3BlcnR5LnJlZk1vZGVsID0gYWxsTW9kZWxzW3R5cGVdKTsKICAgIGVsc2UgaWYgKChwcm9wZXJ0eS5yZWZEYXRhVHlwZSkgJiYgKGFsbE1vZGVsc1twcm9wZXJ0eS5yZWZEYXRhVHlwZV0pKQogICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkucmVmTW9kZWwgPSBhbGxNb2RlbHNbcHJvcGVydHkucmVmRGF0YVR5cGVdKTsKICAgIGVsc2UKICAgICAgcmVzdWx0cy5wdXNoKHZvaWQgMCk7CiAgfQogIHJldHVybiByZXN1bHRzOwp9OwoKU3dhZ2dlck1vZGVsLnByb3RvdHlwZS5nZXRNb2NrU2lnbmF0dXJlID0gZnVuY3Rpb24gKG1vZGVsc1RvSWdub3JlKSB7CiAgdmFyIGksIHByb3AsIHByb3BlcnRpZXNTdHIgPSBbXTsKICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7CiAgICBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgcHJvcGVydGllc1N0ci5wdXNoKHByb3AudG9TdHJpbmcoKSk7CiAgfQoKICB2YXIgc3Ryb25nID0gJzxzcGFuIGNsYXNzPSJzdHJvbmciPic7CiAgdmFyIHN0cm9uZ0Nsb3NlID0gJzwvc3Bhbj4nOwogIHZhciBjbGFzc09wZW4gPSBzdHJvbmcgKyB0aGlzLm5hbWUgKyAnIHsnICsgc3Ryb25nQ2xvc2U7CiAgdmFyIGNsYXNzQ2xvc2UgPSBzdHJvbmcgKyAnfScgKyBzdHJvbmdDbG9zZTsKICB2YXIgcmV0dXJuVmFsID0gY2xhc3NPcGVuICsgJzxkaXY+JyArIHByb3BlcnRpZXNTdHIuam9pbignLDwvZGl2PjxkaXY+JykgKyAnPC9kaXY+JyArIGNsYXNzQ2xvc2U7CiAgaWYgKCFtb2RlbHNUb0lnbm9yZSkKICAgIG1vZGVsc1RvSWdub3JlID0gW107CiAgbW9kZWxzVG9JZ25vcmUucHVzaCh0aGlzLm5hbWUpOwoKICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7CiAgICBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgaWYgKChwcm9wLnJlZk1vZGVsKSAmJiBtb2RlbHNUb0lnbm9yZS5pbmRleE9mKHByb3AucmVmTW9kZWwubmFtZSkgPT09IC0xKSB7CiAgICAgIHJldHVyblZhbCA9IHJldHVyblZhbCArICgnPGJyPicgKyBwcm9wLnJlZk1vZGVsLmdldE1vY2tTaWduYXR1cmUobW9kZWxzVG9JZ25vcmUpKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldHVyblZhbDsKfTsKClN3YWdnZXJNb2RlbC5wcm90b3R5cGUuY3JlYXRlSlNPTlNhbXBsZSA9IGZ1bmN0aW9uIChtb2RlbHNUb0lnbm9yZSkgewogIGlmIChzYW1wbGVNb2RlbHNbdGhpcy5uYW1lXSkgewogICAgcmV0dXJuIHNhbXBsZU1vZGVsc1t0aGlzLm5hbWVdOwogIH0KICBlbHNlIHsKICAgIHZhciByZXN1bHQgPSB7fTsKICAgIG1vZGVsc1RvSWdub3JlID0gKG1vZGVsc1RvSWdub3JlIHx8IFtdKTsKICAgIG1vZGVsc1RvSWdub3JlLnB1c2godGhpcy5uYW1lKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBwcm9wID0gdGhpcy5wcm9wZXJ0aWVzW2ldOwogICAgICByZXN1bHRbcHJvcC5uYW1lXSA9IHByb3AuZ2V0U2FtcGxlVmFsdWUobW9kZWxzVG9JZ25vcmUpOwogICAgfQogICAgbW9kZWxzVG9JZ25vcmUucG9wKHRoaXMubmFtZSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KfTsKCnZhciBTd2FnZ2VyTW9kZWxQcm9wZXJ0eSA9IGZ1bmN0aW9uIChuYW1lLCBvYmosIG1vZGVsKSB7CiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmRhdGFUeXBlID0gb2JqLnR5cGUgfHwgb2JqLmRhdGFUeXBlIHx8IG9iai4kcmVmOwogIHRoaXMuaXNDb2xsZWN0aW9uID0gdGhpcy5kYXRhVHlwZSAmJiAodGhpcy5kYXRhVHlwZS50b0xvd2VyQ2FzZSgpID09PSAnYXJyYXknIHx8IHRoaXMuZGF0YVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2xpc3QnIHx8IHRoaXMuZGF0YVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3NldCcpOwogIHRoaXMuZGVzY3IgPSBvYmouZGVzY3JpcHRpb247CiAgdGhpcy5yZXF1aXJlZCA9IG9iai5yZXF1aXJlZDsKICB0aGlzLmRlZmF1bHRWYWx1ZSA9IGFwcGx5TW9kZWxQcm9wZXJ0eU1hY3JvKG9iaiwgbW9kZWwpOwogIGlmIChvYmouaXRlbXMpIHsKICAgIGlmIChvYmouaXRlbXMudHlwZSkgewogICAgICB0aGlzLnJlZkRhdGFUeXBlID0gb2JqLml0ZW1zLnR5cGU7CiAgICB9CiAgICBpZiAob2JqLml0ZW1zLiRyZWYpIHsKICAgICAgdGhpcy5yZWZEYXRhVHlwZSA9IG9iai5pdGVtcy4kcmVmOwogICAgfQogIH0KICB0aGlzLmRhdGFUeXBlV2l0aFJlZiA9IHRoaXMucmVmRGF0YVR5cGUgPyAodGhpcy5kYXRhVHlwZSArICdbJyArIHRoaXMucmVmRGF0YVR5cGUgKyAnXScpIDogdGhpcy5kYXRhVHlwZTsKICBpZiAob2JqLmFsbG93YWJsZVZhbHVlcykgewogICAgdGhpcy52YWx1ZVR5cGUgPSBvYmouYWxsb3dhYmxlVmFsdWVzLnZhbHVlVHlwZTsKICAgIHRoaXMudmFsdWVzID0gb2JqLmFsbG93YWJsZVZhbHVlcy52YWx1ZXM7CiAgICBpZiAodGhpcy52YWx1ZXMpIHsKICAgICAgdGhpcy52YWx1ZXNTdHJpbmcgPSAnXCcnICsgdGhpcy52YWx1ZXMuam9pbignXCcgb3IgXCcnKSArICdcJyc7CiAgICB9CiAgfQogIGlmIChvYmpbJ2VudW0nXSkgewogICAgdGhpcy52YWx1ZVR5cGUgPSAnc3RyaW5nJzsKICAgIHRoaXMudmFsdWVzID0gb2JqWydlbnVtJ107CiAgICBpZiAodGhpcy52YWx1ZXMpIHsKICAgICAgdGhpcy52YWx1ZVN0cmluZyA9ICdcJycgKyB0aGlzLnZhbHVlcy5qb2luKCdcJyBvciBcJycpICsgJ1wnJzsKICAgIH0KICB9Cn07CgpTd2FnZ2VyTW9kZWxQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0U2FtcGxlVmFsdWUgPSBmdW5jdGlvbiAobW9kZWxzVG9JZ25vcmUpIHsKICB2YXIgcmVzdWx0OwogIGlmICgodGhpcy5yZWZNb2RlbCkgJiYgKG1vZGVsc1RvSWdub3JlLmluZGV4T2YodGhpcy5yZWZNb2RlbC5uYW1lKSA9PT0gLTEpKSB7CiAgICByZXN1bHQgPSB0aGlzLnJlZk1vZGVsLmNyZWF0ZUpTT05TYW1wbGUobW9kZWxzVG9JZ25vcmUpOwogIH0gZWxzZSB7CiAgICBpZiAodGhpcy5pc0NvbGxlY3Rpb24pIHsKICAgICAgcmVzdWx0ID0gdGhpcy50b1NhbXBsZVZhbHVlKHRoaXMucmVmRGF0YVR5cGUpOwogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0ID0gdGhpcy50b1NhbXBsZVZhbHVlKHRoaXMuZGF0YVR5cGUpOwogICAgfQogIH0KICBpZiAodGhpcy5pc0NvbGxlY3Rpb24pIHsKICAgIHJldHVybiBbcmVzdWx0XTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn07CgpTd2FnZ2VyTW9kZWxQcm9wZXJ0eS5wcm90b3R5cGUudG9TYW1wbGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHZhciByZXN1bHQ7CiAgaWYgKCh0eXBlb2YgdGhpcy5kZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnKSAmJiB0aGlzLmRlZmF1bHRWYWx1ZSkgewogICAgcmVzdWx0ID0gdGhpcy5kZWZhdWx0VmFsdWU7CiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ludGVnZXInKSB7CiAgICByZXN1bHQgPSAwOwogIH0gZWxzZSBpZiAodmFsdWUgPT09ICdib29sZWFuJykgewogICAgcmVzdWx0ID0gZmFsc2U7CiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2RvdWJsZScgfHwgdmFsdWUgPT09ICdudW1iZXInKSB7CiAgICByZXN1bHQgPSAwLjA7CiAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgIHJlc3VsdCA9ICcnOwogIH0gZWxzZSB7CiAgICByZXN1bHQgPSB2YWx1ZTsKICB9CiAgcmV0dXJuIHJlc3VsdDsKfTsKClN3YWdnZXJNb2RlbFByb3BlcnR5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICB2YXIgcmVxID0gdGhpcy5yZXF1aXJlZCA/ICdwcm9wUmVxJyA6ICdwcm9wT3B0JzsKICB2YXIgc3RyID0gJzxzcGFuIGNsYXNzPSJwcm9wTmFtZSAnICsgcmVxICsgJyI+JyArIHRoaXMubmFtZSArICc8L3NwYW4+ICg8c3BhbiBjbGFzcz0icHJvcFR5cGUiPicgKyB0aGlzLmRhdGFUeXBlV2l0aFJlZiArICc8L3NwYW4+JzsKICBpZiAoIXRoaXMucmVxdWlyZWQpIHsKICAgIHN0ciArPSAnLCA8c3BhbiBjbGFzcz0icHJvcE9wdEtleSI+b3B0aW9uYWw8L3NwYW4+JzsKICB9CiAgc3RyICs9ICcpJzsKICBpZiAodGhpcy52YWx1ZXMpIHsKICAgIHN0ciArPSAnID0gPHNwYW4gY2xhc3M9InByb3BWYWxzIj5bXCcnICsgdGhpcy52YWx1ZXMuam9pbignXCcgb3IgXCcnKSArICdcJ108L3NwYW4+JzsKICB9CiAgaWYgKHRoaXMuZGVzY3IpIHsKICAgIHN0ciArPSAnOiA8c3BhbiBjbGFzcz0icHJvcERlc2MiPicgKyB0aGlzLmRlc2NyICsgJzwvc3Bhbj4nOwogIH0KICByZXR1cm4gc3RyOwp9OwoKdmFyIFN3YWdnZXJPcGVyYXRpb24gPSBmdW5jdGlvbiAobmlja25hbWUsIHBhdGgsIG1ldGhvZCwgcGFyYW1ldGVycywgc3VtbWFyeSwgbm90ZXMsIHR5cGUsIHJlc3BvbnNlTWVzc2FnZXMsIHJlc291cmNlLCBjb25zdW1lcywgcHJvZHVjZXMsIGF1dGhvcml6YXRpb25zLCBkZXByZWNhdGVkKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgdmFyIGVycm9ycyA9IFtdOwogIHRoaXMubmlja25hbWUgPSAobmlja25hbWUgfHwgZXJyb3JzLnB1c2goJ1N3YWdnZXJPcGVyYXRpb25zIG11c3QgaGF2ZSBhIG5pY2tuYW1lLicpKTsKICB0aGlzLnBhdGggPSAocGF0aCB8fCBlcnJvcnMucHVzaCgnU3dhZ2dlck9wZXJhdGlvbiAnICsgbmlja25hbWUgKyAnIGlzIG1pc3NpbmcgcGF0aC4nKSk7CiAgdGhpcy5tZXRob2QgPSAobWV0aG9kIHx8IGVycm9ycy5wdXNoKCdTd2FnZ2VyT3BlcmF0aW9uICcgKyBuaWNrbmFtZSArICcgaXMgbWlzc2luZyBtZXRob2QuJykpOwogIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnMgPyBwYXJhbWV0ZXJzIDogW107CiAgdGhpcy5zdW1tYXJ5ID0gc3VtbWFyeTsKICB0aGlzLm5vdGVzID0gbm90ZXM7CiAgdGhpcy50eXBlID0gdHlwZTsKICB0aGlzLnJlc3BvbnNlTWVzc2FnZXMgPSAocmVzcG9uc2VNZXNzYWdlcyB8fCBbXSk7CiAgdGhpcy5yZXNvdXJjZSA9IChyZXNvdXJjZSB8fCBlcnJvcnMucHVzaCgnUmVzb3VyY2UgaXMgcmVxdWlyZWQnKSk7CiAgdGhpcy5jb25zdW1lcyA9IGNvbnN1bWVzOwogIHRoaXMucHJvZHVjZXMgPSBwcm9kdWNlczsKICB0aGlzLmF1dGhvcml6YXRpb25zID0gdHlwZW9mIGF1dGhvcml6YXRpb25zICE9PSAndW5kZWZpbmVkJyA/IGF1dGhvcml6YXRpb25zIDogcmVzb3VyY2UuYXV0aG9yaXphdGlvbnM7CiAgdGhpcy5kZXByZWNhdGVkID0gZGVwcmVjYXRlZDsKICB0aGlzWydkbyddID0gX19iaW5kKHRoaXNbJ2RvJ10sIHRoaXMpOwoKICBpZih0eXBlb2YgdGhpcy5kZXByZWNhdGVkID09PSAnc3RyaW5nJykgewogICAgc3dpdGNoKHRoaXMuZGVwcmVjYXRlZC50b0xvd2VyQ2FzZSgpKSB7CiAgICAgIGNhc2UgJ3RydWUnOiBjYXNlICd5ZXMnOiBjYXNlICcxJzogewogICAgICAgIHRoaXMuZGVwcmVjYXRlZCA9IHRydWU7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgY2FzZSAnZmFsc2UnOiBjYXNlICdubyc6IGNhc2UgJzAnOiBjYXNlIG51bGw6IHsKICAgICAgICB0aGlzLmRlcHJlY2F0ZWQgPSBmYWxzZTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBkZWZhdWx0OiB0aGlzLmRlcHJlY2F0ZWQgPSBCb29sZWFuKHRoaXMuZGVwcmVjYXRlZCk7CiAgICB9CiAgfQoKICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1N3YWdnZXJPcGVyYXRpb24gZXJyb3JzJywgZXJyb3JzLCBhcmd1bWVudHMpOwogICAgdGhpcy5yZXNvdXJjZS5hcGkuZmFpbChlcnJvcnMpOwogIH0KCiAgdGhpcy5wYXRoID0gdGhpcy5wYXRoLnJlcGxhY2UoJ3tmb3JtYXR9JywgJ2pzb24nKTsKICB0aGlzLm1ldGhvZCA9IHRoaXMubWV0aG9kLnRvTG93ZXJDYXNlKCk7CiAgdGhpcy5pc0dldE1ldGhvZCA9IHRoaXMubWV0aG9kID09PSAnZ2V0JzsKCiAgdmFyIGksIGosIHY7CiAgdGhpcy5yZXNvdXJjZU5hbWUgPSB0aGlzLnJlc291cmNlLm5hbWU7CiAgaWYgKHR5cGVvZiB0aGlzLnR5cGUgIT09ICd1bmRlZmluZWQnICYmIHRoaXMudHlwZSA9PT0gJ3ZvaWQnKQogICAgdGhpcy50eXBlID0gbnVsbDsKICBlbHNlIHsKICAgIHRoaXMucmVzcG9uc2VDbGFzc1NpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKHRoaXMudHlwZSwgdGhpcy5yZXNvdXJjZS5tb2RlbHMpOwogICAgdGhpcy5yZXNwb25zZVNhbXBsZUpTT04gPSB0aGlzLmdldFNhbXBsZUpTT04odGhpcy50eXBlLCB0aGlzLnJlc291cmNlLm1vZGVscyk7CiAgfQoKICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcGFyYW0gPSB0aGlzLnBhcmFtZXRlcnNbaV07CiAgICAvLyBtaWdodCB0YWtlIHRoaXMgYXdheQogICAgcGFyYW0ubmFtZSA9IHBhcmFtLm5hbWUgfHwgcGFyYW0udHlwZSB8fCBwYXJhbS5kYXRhVHlwZTsKICAgIC8vIGZvciAxLjEgY29tcGF0aWJpbGl0eQogICAgdHlwZSA9IHBhcmFtLnR5cGUgfHwgcGFyYW0uZGF0YVR5cGU7CiAgICBpZiAodHlwZSA9PT0gJ2FycmF5JykgewogICAgICB0eXBlID0gJ2FycmF5WycgKyAocGFyYW0uaXRlbXMuJHJlZiA/IHBhcmFtLml0ZW1zLiRyZWYgOiBwYXJhbS5pdGVtcy50eXBlKSArICddJzsKICAgIH0KICAgIHBhcmFtLnR5cGUgPSB0eXBlOwoKICAgIGlmICh0eXBlICYmIHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgIHBhcmFtLmFsbG93YWJsZVZhbHVlcyA9IHt9OwogICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMudmFsdWVzID0gWyd0cnVlJywgJ2ZhbHNlJ107CiAgICB9CiAgICBwYXJhbS5zaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZSh0eXBlLCB0aGlzLnJlc291cmNlLm1vZGVscyk7CiAgICBwYXJhbS5zYW1wbGVKU09OID0gdGhpcy5nZXRTYW1wbGVKU09OKHR5cGUsIHRoaXMucmVzb3VyY2UubW9kZWxzKTsKCiAgICB2YXIgZW51bVZhbHVlID0gcGFyYW1bJ2VudW0nXTsKICAgIGlmICh0eXBlb2YgZW51bVZhbHVlICE9PSAndW5kZWZpbmVkJykgewogICAgICBwYXJhbS5pc0xpc3QgPSB0cnVlOwogICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMgPSB7fTsKICAgICAgcGFyYW0uYWxsb3dhYmxlVmFsdWVzLmRlc2NyaXB0aXZlVmFsdWVzID0gW107CgogICAgICBmb3IgKGogPSAwOyBqIDwgZW51bVZhbHVlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgdiA9IGVudW1WYWx1ZVtqXTsKICAgICAgICBpZiAocGFyYW0uZGVmYXVsdFZhbHVlKSB7CiAgICAgICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMuZGVzY3JpcHRpdmVWYWx1ZXMucHVzaCh7CiAgICAgICAgICAgIHZhbHVlOiBTdHJpbmcodiksCiAgICAgICAgICAgIGlzRGVmYXVsdDogKHYgPT09IHBhcmFtLmRlZmF1bHRWYWx1ZSkKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIHBhcmFtLmFsbG93YWJsZVZhbHVlcy5kZXNjcmlwdGl2ZVZhbHVlcy5wdXNoKHsKICAgICAgICAgICAgdmFsdWU6IFN0cmluZyh2KSwKICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChwYXJhbS5hbGxvd2FibGVWYWx1ZXMpIHsKICAgICAgaWYgKHBhcmFtLmFsbG93YWJsZVZhbHVlcy52YWx1ZVR5cGUgPT09ICdSQU5HRScpCiAgICAgICAgcGFyYW0uaXNSYW5nZSA9IHRydWU7CiAgICAgIGVsc2UKICAgICAgICBwYXJhbS5pc0xpc3QgPSB0cnVlOwogICAgICBpZiAocGFyYW0uYWxsb3dhYmxlVmFsdWVzKSB7CiAgICAgICAgcGFyYW0uYWxsb3dhYmxlVmFsdWVzLmRlc2NyaXB0aXZlVmFsdWVzID0gW107CiAgICAgICAgaWYgKHBhcmFtLmFsbG93YWJsZVZhbHVlcy52YWx1ZXMpIHsKICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwYXJhbS5hbGxvd2FibGVWYWx1ZXMudmFsdWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHYgPSBwYXJhbS5hbGxvd2FibGVWYWx1ZXMudmFsdWVzW2pdOwogICAgICAgICAgICBpZiAocGFyYW0uZGVmYXVsdFZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgcGFyYW0uYWxsb3dhYmxlVmFsdWVzLmRlc2NyaXB0aXZlVmFsdWVzLnB1c2goewogICAgICAgICAgICAgICAgdmFsdWU6IFN0cmluZyh2KSwKICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogKHYgPT09IHBhcmFtLmRlZmF1bHRWYWx1ZSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICBwYXJhbS5hbGxvd2FibGVWYWx1ZXMuZGVzY3JpcHRpdmVWYWx1ZXMucHVzaCh7CiAgICAgICAgICAgICAgICB2YWx1ZTogU3RyaW5nKHYpLAogICAgICAgICAgICAgICAgaXNEZWZhdWx0OiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBwYXJhbS5kZWZhdWx0VmFsdWUgPSBhcHBseVBhcmFtZXRlck1hY3JvKHRoaXMsIHBhcmFtKTsKICB9CiAgdmFyIGRlZmF1bHRTdWNjZXNzQ2FsbGJhY2sgPSB0aGlzLnJlc291cmNlLmFwaS5kZWZhdWx0U3VjY2Vzc0NhbGxiYWNrIHx8IG51bGw7CiAgdmFyIGRlZmF1bHRFcnJvckNhbGxiYWNrID0gdGhpcy5yZXNvdXJjZS5hcGkuZGVmYXVsdEVycm9yQ2FsbGJhY2sgfHwgbnVsbDsKCiAgdGhpcy5yZXNvdXJjZVt0aGlzLm5pY2tuYW1lXSA9IGZ1bmN0aW9uIChhcmdzLCBvcHRzLCBjYWxsYmFjaywgZXJyb3IpIHsKICAgIHZhciBhcmcxLCBhcmcyLCBhcmczLCBhcmc0OwogICAgaWYodHlwZW9mIGFyZ3MgPT09ICdmdW5jdGlvbicpIHsgIC8vIHJpZ2h0IHNoaWZ0IDMKICAgICAgYXJnMSA9IHt9OyBhcmcyID0ge307IGFyZzMgPSBhcmdzOyBhcmc0ID0gb3B0czsKICAgIH0KICAgIGVsc2UgaWYodHlwZW9mIGFyZ3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7IC8vIHJpZ2h0IHNoaWZ0IDIKICAgICAgYXJnMSA9IGFyZ3M7IGFyZzIgPSB7fTsgYXJnMyA9IG9wdHM7IGFyZzQgPSBjYWxsYmFjazsKICAgIH0KICAgIGVsc2UgewogICAgICBhcmcxID0gYXJnczsgYXJnMiA9IG9wdHM7IGFyZzMgPSBjYWxsYmFjazsgYXJnNCA9IGVycm9yOwogICAgfQogICAgcmV0dXJuIF90aGlzWydkbyddKGFyZzEgfHwge30sIGFyZzIgfHwge30sIGFyZzMgfHwgZGVmYXVsdFN1Y2Nlc3NDYWxsYmFjaywgYXJnNCB8fCBkZWZhdWx0RXJyb3JDYWxsYmFjayk7CiAgfTsKCiAgdGhpcy5yZXNvdXJjZVt0aGlzLm5pY2tuYW1lXS5oZWxwID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIF90aGlzLmhlbHAoKTsKICB9OwogIHRoaXMucmVzb3VyY2VbdGhpcy5uaWNrbmFtZV0uYXNDdXJsID0gZnVuY3Rpb24gKGFyZ3MpIHsKICAgIHJldHVybiBfdGhpcy5hc0N1cmwoYXJncyk7CiAgfTsKfTsKClN3YWdnZXJPcGVyYXRpb24ucHJvdG90eXBlLmlzTGlzdFR5cGUgPSBmdW5jdGlvbiAodHlwZSkgewogIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignWycpID49IDApIHsKICAgIHJldHVybiB0eXBlLnN1YnN0cmluZyh0eXBlLmluZGV4T2YoJ1snKSArIDEsIHR5cGUuaW5kZXhPZignXScpKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHZvaWQgMDsKICB9Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiAodHlwZSwgbW9kZWxzKSB7CiAgdmFyIGlzUHJpbWl0aXZlLCBsaXN0VHlwZTsKICBsaXN0VHlwZSA9IHRoaXMuaXNMaXN0VHlwZSh0eXBlKTsKICBpc1ByaW1pdGl2ZSA9ICgodHlwZW9mIGxpc3RUeXBlICE9PSAndW5kZWZpbmVkJykgJiYgbW9kZWxzW2xpc3RUeXBlXSkgfHwgKHR5cGVvZiBtb2RlbHNbdHlwZV0gIT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogdHJ1ZTsKICBpZiAoaXNQcmltaXRpdmUpIHsKICAgIHJldHVybiB0eXBlOwogIH0gZWxzZSB7CiAgICBpZiAodHlwZW9mIGxpc3RUeXBlICE9PSAndW5kZWZpbmVkJykgewogICAgICByZXR1cm4gbW9kZWxzW2xpc3RUeXBlXS5nZXRNb2NrU2lnbmF0dXJlKCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbW9kZWxzW3R5cGVdLmdldE1vY2tTaWduYXR1cmUoKTsKICAgIH0KICB9Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRTYW1wbGVKU09OID0gZnVuY3Rpb24gKHR5cGUsIG1vZGVscykgewogIHZhciBpc1ByaW1pdGl2ZSwgbGlzdFR5cGUsIHZhbDsKICBsaXN0VHlwZSA9IHRoaXMuaXNMaXN0VHlwZSh0eXBlKTsKICBpc1ByaW1pdGl2ZSA9ICgodHlwZW9mIGxpc3RUeXBlICE9PSAndW5kZWZpbmVkJykgJiYgbW9kZWxzW2xpc3RUeXBlXSkgfHwgKHR5cGVvZiBtb2RlbHNbdHlwZV0gIT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogdHJ1ZTsKICB2YWwgPSBpc1ByaW1pdGl2ZSA/IHZvaWQgMCA6IChsaXN0VHlwZSA/IG1vZGVsc1tsaXN0VHlwZV0uY3JlYXRlSlNPTlNhbXBsZSgpIDogbW9kZWxzW3R5cGVdLmNyZWF0ZUpTT05TYW1wbGUoKSk7CiAgaWYgKHZhbCkgewogICAgdmFsID0gbGlzdFR5cGUgPyBbdmFsXSA6IHZhbDsKICAgIGlmICh0eXBlb2YgdmFsID09ICdzdHJpbmcnKQogICAgICByZXR1cm4gdmFsOwogICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHsKICAgICAgdmFyIHQgPSB2YWw7CiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWwubGVuZ3RoID4gMCkgewogICAgICAgIHQgPSB2YWxbMF07CiAgICAgIH0KICAgICAgaWYgKHQubm9kZU5hbWUpIHsKICAgICAgICB2YXIgeG1sU3RyaW5nID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh0KTsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRYbWwoeG1sU3RyaW5nKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMik7CiAgICB9CiAgICBlbHNlCiAgICAgIHJldHVybiB2YWw7CiAgfQp9OwoKU3dhZ2dlck9wZXJhdGlvbi5wcm90b3R5cGVbJ2RvJ10gPSBmdW5jdGlvbiAoYXJncywgb3B0cywgY2FsbGJhY2ssIGVycm9yKSB7CiAgdmFyIGtleSwgcGFyYW0sIHBhcmFtcywgcG9zc2libGVQYXJhbXMgPSBbXSwgcmVxLCB2YWx1ZTsKCiAgaWYgKHR5cGVvZiBlcnJvciAhPT0gJ2Z1bmN0aW9uJykgewogICAgZXJyb3IgPSBmdW5jdGlvbiAoeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikgewogICAgICByZXR1cm4gbG9nKHhociwgdGV4dFN0YXR1cywgZXJyb3IpOwogICAgfTsKICB9CgogIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHsKICAgIGNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHZhciBjb250ZW50OwogICAgICBjb250ZW50ID0gbnVsbDsKICAgICAgaWYgKHJlc3BvbnNlICE9PSBudWxsKSB7CiAgICAgICAgY29udGVudCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udGVudCA9ICdubyBkYXRhJzsKICAgICAgfQogICAgICByZXR1cm4gbG9nKCdkZWZhdWx0IGNhbGxiYWNrOiAnICsgY29udGVudCk7CiAgICB9OwogIH0KCiAgcGFyYW1zID0ge307CiAgcGFyYW1zLmhlYWRlcnMgPSBbXTsKICBpZiAoYXJncy5oZWFkZXJzKSB7CiAgICBwYXJhbXMuaGVhZGVycyA9IGFyZ3MuaGVhZGVyczsKICAgIGRlbGV0ZSBhcmdzLmhlYWRlcnM7CiAgfQogIC8vIGFsbG93IG92ZXJyaWRlIGZyb20gdGhlIG9wdHMKICBpZihvcHRzICYmIG9wdHMucmVzcG9uc2VDb250ZW50VHlwZSkgewogICAgcGFyYW1zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gb3B0cy5yZXNwb25zZUNvbnRlbnRUeXBlOwogIH0KICBpZihvcHRzICYmIG9wdHMucmVxdWVzdENvbnRlbnRUeXBlKSB7CiAgICBwYXJhbXMuaGVhZGVycy5BY2NlcHQgPSBvcHRzLnJlcXVlc3RDb250ZW50VHlwZTsKICB9CgogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKSB7CiAgICBwYXJhbSA9IHRoaXMucGFyYW1ldGVyc1tpXTsKICAgIGlmIChwYXJhbS5wYXJhbVR5cGUgPT09ICdoZWFkZXInKSB7CiAgICAgIGlmICh0eXBlb2YgYXJnc1twYXJhbS5uYW1lXSAhPT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgcGFyYW1zLmhlYWRlcnNbcGFyYW0ubmFtZV0gPSBhcmdzW3BhcmFtLm5hbWVdOwogICAgfQogICAgZWxzZSBpZiAocGFyYW0ucGFyYW1UeXBlID09PSAnZm9ybScgfHwgcGFyYW0ucGFyYW1UeXBlLnRvTG93ZXJDYXNlKCkgPT09ICdmaWxlJykKICAgICAgcG9zc2libGVQYXJhbXMucHVzaChwYXJhbSk7CiAgICBlbHNlIGlmIChwYXJhbS5wYXJhbVR5cGUgPT09ICdib2R5JyAmJiBwYXJhbS5uYW1lICE9PSAnYm9keScgJiYgdHlwZW9mIGFyZ3NbcGFyYW0ubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGlmIChhcmdzLmJvZHkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NhdyB0d28gYm9keSBwYXJhbXMgaW4gYW4gQVBJIGxpc3Rpbmc7IGV4cGVjdGluZyBhIG1heCBvZiBvbmUuJyk7CiAgICAgIH0KICAgICAgYXJncy5ib2R5ID0gYXJnc1twYXJhbS5uYW1lXTsKICAgIH0KICB9CgogIGlmICh0eXBlb2YgYXJncy5ib2R5ICE9PSAndW5kZWZpbmVkJykgewogICAgcGFyYW1zLmJvZHkgPSBhcmdzLmJvZHk7CiAgICBkZWxldGUgYXJncy5ib2R5OwogIH0KCiAgaWYgKHBvc3NpYmxlUGFyYW1zKSB7CiAgICBmb3IgKGtleSBpbiBwb3NzaWJsZVBhcmFtcykgewogICAgICB2YWx1ZSA9IHBvc3NpYmxlUGFyYW1zW2tleV07CiAgICAgIGlmIChhcmdzW3ZhbHVlLm5hbWVdKSB7CiAgICAgICAgcGFyYW1zW3ZhbHVlLm5hbWVdID0gYXJnc1t2YWx1ZS5uYW1lXTsKICAgICAgfQogICAgfQogIH0KCiAgcmVxID0gbmV3IFN3YWdnZXJSZXF1ZXN0KHRoaXMubWV0aG9kLCB0aGlzLnVybGlmeShhcmdzKSwgcGFyYW1zLCBvcHRzLCBjYWxsYmFjaywgZXJyb3IsIHRoaXMpOwogIGlmIChvcHRzLm1vY2spIHsKICAgIHJldHVybiByZXE7CiAgfSBlbHNlIHsKICAgIHJldHVybiB0cnVlOwogIH0KfTsKClN3YWdnZXJPcGVyYXRpb24ucHJvdG90eXBlLnBhdGhKc29uID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnBhdGgucmVwbGFjZSgne2Zvcm1hdH0nLCAnanNvbicpOwp9OwoKU3dhZ2dlck9wZXJhdGlvbi5wcm90b3R5cGUucGF0aFhtbCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5wYXRoLnJlcGxhY2UoJ3tmb3JtYXR9JywgJ3htbCcpOwp9OwoKU3dhZ2dlck9wZXJhdGlvbi5wcm90b3R5cGUuZW5jb2RlUGF0aFBhcmFtID0gZnVuY3Rpb24gKHBhdGhQYXJhbSkgewogIHZhciBlbmNQYXJ0cywgcGFydCwgcGFydHMsIF9pLCBfbGVuOwogIHBhdGhQYXJhbSA9IHBhdGhQYXJhbS50b1N0cmluZygpOwogIGlmIChwYXRoUGFyYW0uaW5kZXhPZignLycpID09PSAtMSkgewogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChwYXRoUGFyYW0pOwogIH0gZWxzZSB7CiAgICBwYXJ0cyA9IHBhdGhQYXJhbS5zcGxpdCgnLycpOwogICAgZW5jUGFydHMgPSBbXTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gcGFydHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcGFydCA9IHBhcnRzW19pXTsKICAgICAgZW5jUGFydHMucHVzaChlbmNvZGVVUklDb21wb25lbnQocGFydCkpOwogICAgfQogICAgcmV0dXJuIGVuY1BhcnRzLmpvaW4oJy8nKTsKICB9Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS51cmxpZnkgPSBmdW5jdGlvbiAoYXJncykgewogIHZhciBpLCBqLCBwYXJhbSwgdXJsOwogIC8vIGVuc3VyZSBubyBkb3VibGUgc2xhc2hpbmcuLi4KICBpZih0aGlzLnJlc291cmNlLmJhc2VQYXRoLmxlbmd0aCA+IDEgJiYgdGhpcy5yZXNvdXJjZS5iYXNlUGF0aC5zbGljZSgtMSkgPT09ICcvJyAmJiB0aGlzLnBhdGhKc29uKCkuY2hhckF0KDApID09PSAnLycpCiAgICB1cmwgPSB0aGlzLnJlc291cmNlLmJhc2VQYXRoICsgdGhpcy5wYXRoSnNvbigpLnN1YnN0cmluZygxKTsKICBlbHNlCiAgICB1cmwgPSB0aGlzLnJlc291cmNlLmJhc2VQYXRoICsgdGhpcy5wYXRoSnNvbigpOwogIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnM7CiAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgewogICAgcGFyYW0gPSBwYXJhbXNbaV07CiAgICBpZiAocGFyYW0ucGFyYW1UeXBlID09PSAncGF0aCcpIHsKICAgICAgaWYgKHR5cGVvZiBhcmdzW3BhcmFtLm5hbWVdICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIC8vIGFwcGx5IHBhdGggcGFyYW1zIGFuZCByZW1vdmUgZnJvbSBhcmdzCiAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJ1xce1xccyo/JyArIHBhcmFtLm5hbWUgKyAnLio/XFx9KD89XFxzKj8oXFwvP3wkKSknLCAnZ2knKTsKICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShyZWcsIHRoaXMuZW5jb2RlUGF0aFBhcmFtKGFyZ3NbcGFyYW0ubmFtZV0pKTsKICAgICAgICBkZWxldGUgYXJnc1twYXJhbS5uYW1lXTsKICAgICAgfQogICAgICBlbHNlCiAgICAgICAgdGhyb3cgJycgKyBwYXJhbS5uYW1lICsgJyBpcyBhIHJlcXVpcmVkIHBhdGggcGFyYW0uJzsKICAgIH0KICB9CgogIHZhciBxdWVyeVBhcmFtcyA9ICcnOwogIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgIHBhcmFtID0gcGFyYW1zW2ldOwogICAgaWYocGFyYW0ucGFyYW1UeXBlID09PSAncXVlcnknKSB7CiAgICAgIGlmIChxdWVyeVBhcmFtcyAhPT0gJycpCiAgICAgICAgcXVlcnlQYXJhbXMgKz0gJyYnOyAgICAKICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0pKSB7CiAgICAgICAgdmFyIG91dHB1dCA9ICcnOyAgIAogICAgICAgIGZvcihqID0gMDsgaiA8IHBhcmFtLmxlbmd0aDsgaisrKSB7ICAgIAogICAgICAgICAgaWYoaiA+IDApICAgIAogICAgICAgICAgICBvdXRwdXQgKz0gJywnOyAgIAogICAgICAgICAgb3V0cHV0ICs9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbVtqXSk7ICAgIAogICAgICAgIH0gICAgCiAgICAgICAgcXVlcnlQYXJhbXMgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtLm5hbWUpICsgJz0nICsgb3V0cHV0OyAgICAKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBpZiAodHlwZW9mIGFyZ3NbcGFyYW0ubmFtZV0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBxdWVyeVBhcmFtcyArPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW0ubmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYXJnc1twYXJhbS5uYW1lXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwYXJhbS5yZXF1aXJlZCkKICAgICAgICAgICAgdGhyb3cgJycgKyBwYXJhbS5uYW1lICsgJyBpcyBhIHJlcXVpcmVkIHF1ZXJ5IHBhcmFtLic7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIGlmICgocXVlcnlQYXJhbXMpICYmIHF1ZXJ5UGFyYW1zLmxlbmd0aCA+IDApCiAgICB1cmwgKz0gJz8nICsgcXVlcnlQYXJhbXM7CiAgcmV0dXJuIHVybDsKfTsKClN3YWdnZXJPcGVyYXRpb24ucHJvdG90eXBlLnN1cHBvcnRIZWFkZXJQYXJhbXMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMucmVzb3VyY2UuYXBpLnN1cHBvcnRIZWFkZXJQYXJhbXM7Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnJlc291cmNlLmFwaS5zdXBwb3J0ZWRTdWJtaXRNZXRob2RzOwp9OwoKU3dhZ2dlck9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0UXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAoYXJncykgewogIHJldHVybiB0aGlzLmdldE1hdGNoaW5nUGFyYW1zKFsncXVlcnknXSwgYXJncyk7Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRIZWFkZXJQYXJhbXMgPSBmdW5jdGlvbiAoYXJncykgewogIHJldHVybiB0aGlzLmdldE1hdGNoaW5nUGFyYW1zKFsnaGVhZGVyJ10sIGFyZ3MpOwp9OwoKU3dhZ2dlck9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1UeXBlcywgYXJncykgewogIHZhciBtYXRjaGluZ1BhcmFtcyA9IHt9OwogIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtZXRlcnM7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgIHBhcmFtID0gcGFyYW1zW2ldOwogICAgaWYgKGFyZ3MgJiYgYXJnc1twYXJhbS5uYW1lXSkKICAgICAgbWF0Y2hpbmdQYXJhbXNbcGFyYW0ubmFtZV0gPSBhcmdzW3BhcmFtLm5hbWVdOwogIH0KICB2YXIgaGVhZGVycyA9IHRoaXMucmVzb3VyY2UuYXBpLmhlYWRlcnM7CiAgdmFyIG5hbWU7CiAgZm9yIChuYW1lIGluIGhlYWRlcnMpIHsKICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNbbmFtZV07CiAgICBtYXRjaGluZ1BhcmFtc1tuYW1lXSA9IHZhbHVlOwogIH0KICByZXR1cm4gbWF0Y2hpbmdQYXJhbXM7Cn07CgpTd2FnZ2VyT3BlcmF0aW9uLnByb3RvdHlwZS5oZWxwID0gZnVuY3Rpb24gKCkgewogIHZhciBtc2cgPSAnJzsKICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzOwogIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcGFyYW0gPSBwYXJhbXNbaV07CiAgICBpZiAobXNnICE9PSAnJykKICAgICAgbXNnICs9ICdcbic7CiAgICBtc2cgKz0gJyogJyArIHBhcmFtLm5hbWUgKyAocGFyYW0ucmVxdWlyZWQgPyAnIChyZXF1aXJlZCknIDogJycpICsgIiAtICIgKyBwYXJhbS5kZXNjcmlwdGlvbjsKICB9CiAgcmV0dXJuIG1zZzsKfTsKClN3YWdnZXJPcGVyYXRpb24ucHJvdG90eXBlLmFzQ3VybCA9IGZ1bmN0aW9uIChhcmdzKSB7CiAgdmFyIHJlc3VsdHMgPSBbXTsKICB2YXIgaTsKCiAgdmFyIGhlYWRlcnMgPSBTd2FnZ2VyUmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVycyhhcmdzLCB7fSwgdGhpcyk7ICAgIAogIGZvcihpID0gMDsgaSA8IHRoaXMucGFyYW1ldGVycy5sZW5ndGg7IGkrKykgewogICAgdmFyIHBhcmFtID0gdGhpcy5wYXJhbWV0ZXJzW2ldOwogICAgaWYocGFyYW0ucGFyYW1UeXBlICYmIHBhcmFtLnBhcmFtVHlwZSA9PT0gJ2hlYWRlcicgJiYgYXJnc1twYXJhbS5uYW1lXSkgewogICAgICBoZWFkZXJzW3BhcmFtLm5hbWVdID0gYXJnc1twYXJhbS5uYW1lXTsKICAgIH0KICB9CgogIHZhciBrZXk7CiAgZm9yIChrZXkgaW4gaGVhZGVycykgewogICAgcmVzdWx0cy5wdXNoKCctLWhlYWRlciAiJyArIGtleSArICc6ICcgKyBoZWFkZXJzW2tleV0gKyAnIicpOwogIH0KICByZXR1cm4gJ2N1cmwgJyArIChyZXN1bHRzLmpvaW4oJyAnKSkgKyAnICcgKyB0aGlzLnVybGlmeShhcmdzKTsKfTsKClN3YWdnZXJPcGVyYXRpb24ucHJvdG90eXBlLmZvcm1hdFhtbCA9IGZ1bmN0aW9uICh4bWwpIHsKICB2YXIgY29udGV4cCwgZm9ybWF0dGVkLCBpbmRlbnQsIGxhc3RUeXBlLCBsaW5lcywgbG4sIHBhZCwgcmVnLCB0cmFuc2l0aW9ucywgd3NleHAsIF9mbiwgX2ksIF9sZW47CiAgcmVnID0gLyg+KSg8KShcLyopL2c7CiAgd3NleHAgPSAvWyBdKiguKilbIF0rXG4vZzsKICBjb250ZXhwID0gLyg8Lis+KSguK1xuKS9nOwogIHhtbCA9IHhtbC5yZXBsYWNlKHJlZywgJyQxXG4kMiQzJykucmVwbGFjZSh3c2V4cCwgJyQxXG4nKS5yZXBsYWNlKGNvbnRleHAsICckMVxuJDInKTsKICBwYWQgPSAwOwogIGZvcm1hdHRlZCA9ICcnOwogIGxpbmVzID0geG1sLnNwbGl0KCdcbicpOwogIGluZGVudCA9IDA7CiAgbGFzdFR5cGUgPSAnb3RoZXInOwogIHRyYW5zaXRpb25zID0gewogICAgJ3NpbmdsZS0+c2luZ2xlJzogMCwKICAgICdzaW5nbGUtPmNsb3NpbmcnOiAtMSwKICAgICdzaW5nbGUtPm9wZW5pbmcnOiAwLAogICAgJ3NpbmdsZS0+b3RoZXInOiAwLAogICAgJ2Nsb3NpbmctPnNpbmdsZSc6IDAsCiAgICAnY2xvc2luZy0+Y2xvc2luZyc6IC0xLAogICAgJ2Nsb3NpbmctPm9wZW5pbmcnOiAwLAogICAgJ2Nsb3NpbmctPm90aGVyJzogMCwKICAgICdvcGVuaW5nLT5zaW5nbGUnOiAxLAogICAgJ29wZW5pbmctPmNsb3NpbmcnOiAwLAogICAgJ29wZW5pbmctPm9wZW5pbmcnOiAxLAogICAgJ29wZW5pbmctPm90aGVyJzogMSwKICAgICdvdGhlci0+c2luZ2xlJzogMCwKICAgICdvdGhlci0+Y2xvc2luZyc6IC0xLAogICAgJ290aGVyLT5vcGVuaW5nJzogMCwKICAgICdvdGhlci0+b3RoZXInOiAwCiAgfTsKICBfZm4gPSBmdW5jdGlvbiAobG4pIHsKICAgIHZhciBmcm9tVG8sIGosIGtleSwgcGFkZGluZywgdHlwZSwgdHlwZXMsIHZhbHVlOwogICAgdHlwZXMgPSB7CiAgICAgIHNpbmdsZTogQm9vbGVhbihsbi5tYXRjaCgvPC4rXC8+LykpLAogICAgICBjbG9zaW5nOiBCb29sZWFuKGxuLm1hdGNoKC88XC8uKz4vKSksCiAgICAgIG9wZW5pbmc6IEJvb2xlYW4obG4ubWF0Y2goLzxbXiE/XS4qPi8pKQogICAgfTsKICAgIHR5cGUgPSAoKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZXN1bHRzOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKGtleSBpbiB0eXBlcykgewogICAgICAgIHZhbHVlID0gdHlwZXNba2V5XTsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIF9yZXN1bHRzLnB1c2goa2V5KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgfSkoKSlbMF07CiAgICB0eXBlID0gdHlwZSA9PT0gdm9pZCAwID8gJ290aGVyJyA6IHR5cGU7CiAgICBmcm9tVG8gPSBsYXN0VHlwZSArICctPicgKyB0eXBlOwogICAgbGFzdFR5cGUgPSB0eXBlOwogICAgcGFkZGluZyA9ICcnOwogICAgaW5kZW50ICs9IHRyYW5zaXRpb25zW2Zyb21Ub107CiAgICBwYWRkaW5nID0gKChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaiwgX3JlZjUsIF9yZXN1bHRzOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKGogPSBfaiA9IDAsIF9yZWY1ID0gaW5kZW50OyAwIDw9IF9yZWY1ID8gX2ogPCBfcmVmNSA6IF9qID4gX3JlZjU7IGogPSAwIDw9IF9yZWY1ID8gKytfaiA6IC0tX2opIHsKICAgICAgICBfcmVzdWx0cy5wdXNoKCcgICcpOwogICAgICB9CiAgICAgIHJldHVybiBfcmVzdWx0czsKICAgIH0pKCkpLmpvaW4oJycpOwogICAgaWYgKGZyb21UbyA9PT0gJ29wZW5pbmctPmNsb3NpbmcnKSB7CiAgICAgIGZvcm1hdHRlZCA9IGZvcm1hdHRlZC5zdWJzdHIoMCwgZm9ybWF0dGVkLmxlbmd0aCAtIDEpICsgbG4gKyAnXG4nOwogICAgfSBlbHNlIHsKICAgICAgZm9ybWF0dGVkICs9IHBhZGRpbmcgKyBsbiArICdcbic7CiAgICB9CiAgfTsKICBmb3IgKF9pID0gMCwgX2xlbiA9IGxpbmVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICBsbiA9IGxpbmVzW19pXTsKICAgIF9mbihsbik7CiAgfQogIHJldHVybiBmb3JtYXR0ZWQ7Cn07Cgp2YXIgU3dhZ2dlclJlcXVlc3QgPSBmdW5jdGlvbiAodHlwZSwgdXJsLCBwYXJhbXMsIG9wdHMsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3BlcmF0aW9uLCBleGVjdXRpb24pIHsKICB2YXIgX3RoaXMgPSB0aGlzOwogIHZhciBlcnJvcnMgPSBbXTsKCiAgdGhpcy51c2VKUXVlcnkgPSAodHlwZW9mIG9wZXJhdGlvbi5yZXNvdXJjZS51c2VKUXVlcnkgIT09ICd1bmRlZmluZWQnID8gb3BlcmF0aW9uLnJlc291cmNlLnVzZUpRdWVyeSA6IG51bGwpOwogIHRoaXMudHlwZSA9ICh0eXBlIHx8IGVycm9ycy5wdXNoKCdTd2FnZ2VyUmVxdWVzdCB0eXBlIGlzIHJlcXVpcmVkIChnZXQvcG9zdC9wdXQvZGVsZXRlL3BhdGNoL29wdGlvbnMpLicpKTsKICB0aGlzLnVybCA9ICh1cmwgfHwgZXJyb3JzLnB1c2goJ1N3YWdnZXJSZXF1ZXN0IHVybCBpcyByZXF1aXJlZC4nKSk7CiAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7CiAgdGhpcy5vcHRzID0gb3B0czsKICB0aGlzLnN1Y2Nlc3NDYWxsYmFjayA9IChzdWNjZXNzQ2FsbGJhY2sgfHwgZXJyb3JzLnB1c2goJ1N3YWdnZXJSZXF1ZXN0IHN1Y2Nlc3NDYWxsYmFjayBpcyByZXF1aXJlZC4nKSk7CiAgdGhpcy5lcnJvckNhbGxiYWNrID0gKGVycm9yQ2FsbGJhY2sgfHwgZXJyb3JzLnB1c2goJ1N3YWdnZXJSZXF1ZXN0IGVycm9yIGNhbGxiYWNrIGlzIHJlcXVpcmVkLicpKTsKICB0aGlzLm9wZXJhdGlvbiA9IChvcGVyYXRpb24gfHwgZXJyb3JzLnB1c2goJ1N3YWdnZXJSZXF1ZXN0IG9wZXJhdGlvbiBpcyByZXF1aXJlZC4nKSk7CiAgdGhpcy5leGVjdXRpb24gPSBleGVjdXRpb247CiAgdGhpcy5oZWFkZXJzID0gKHBhcmFtcy5oZWFkZXJzIHx8IHt9KTsKCiAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7CiAgICB0aHJvdyBlcnJvcnM7CiAgfQoKICB0aGlzLnR5cGUgPSB0aGlzLnR5cGUudG9VcHBlckNhc2UoKTsKCiAgLy8gc2V0IHJlcXVlc3QsIHJlc3BvbnNlIGNvbnRlbnQgdHlwZSBoZWFkZXJzCiAgdmFyIGhlYWRlcnMgPSB0aGlzLnNldEhlYWRlcnMocGFyYW1zLCBvcHRzLCB0aGlzLm9wZXJhdGlvbik7CiAgdmFyIGJvZHkgPSBwYXJhbXMuYm9keTsKCiAgLy8gZW5jb2RlIHRoZSBib2R5IGZvciBmb3JtIHN1Ym1pdHMKICBpZiAoaGVhZGVyc1snQ29udGVudC1UeXBlJ10pIHsKICAgIHZhciBrZXksIHZhbHVlLCB2YWx1ZXMgPSB7fSwgaTsKICAgIHZhciBvcGVyYXRpb25QYXJhbXMgPSB0aGlzLm9wZXJhdGlvbi5wYXJhbWV0ZXJzOwogICAgZm9yIChpID0gMDsgaSA8IG9wZXJhdGlvblBhcmFtcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgcGFyYW0gPSBvcGVyYXRpb25QYXJhbXNbaV07CiAgICAgIGlmIChwYXJhbS5wYXJhbVR5cGUgPT09ICdmb3JtJykKICAgICAgICB2YWx1ZXNbcGFyYW0ubmFtZV0gPSBwYXJhbTsKICAgIH0KCiAgICBpZiAoaGVhZGVyc1snQ29udGVudC1UeXBlJ10uaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPT09IDApIHsKICAgICAgdmFyIGVuY29kZWQgPSAnJzsKICAgICAgZm9yIChrZXkgaW4gdmFsdWVzKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLnBhcmFtc1trZXldOwogICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBpZiAoZW5jb2RlZCAhPT0gJycpCiAgICAgICAgICAgIGVuY29kZWQgKz0gJyYnOwogICAgICAgICAgZW5jb2RlZCArPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGJvZHkgPSBlbmNvZGVkOwogICAgfQogICAgZWxzZSBpZiAoaGVhZGVyc1snQ29udGVudC1UeXBlJ10uaW5kZXhPZignbXVsdGlwYXJ0L2Zvcm0tZGF0YScpID09PSAwKSB7CiAgICAgIC8vIGVuY29kZSB0aGUgYm9keSBmb3IgZm9ybSBzdWJtaXRzCiAgICAgIHZhciBkYXRhID0gJyc7CiAgICAgIHZhciBib3VuZGFyeSA9ICctLS0tU3dhZ2dlckZvcm1Cb3VuZGFyeScgKyBEYXRlLm5vdygpOwogICAgICBmb3IgKGtleSBpbiB2YWx1ZXMpIHsKICAgICAgICB2YWx1ZSA9IHRoaXMucGFyYW1zW2tleV07CiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIGRhdGEgKz0gJy0tJyArIGJvdW5kYXJ5ICsgJ1xuJzsKICAgICAgICAgIGRhdGEgKz0gJ0NvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iJyArIGtleSArICciJzsKICAgICAgICAgIGRhdGEgKz0gJ1xuXG4nOwogICAgICAgICAgZGF0YSArPSB2YWx1ZSArICdcbic7CiAgICAgICAgfQogICAgICB9CiAgICAgIGRhdGEgKz0gJy0tJyArIGJvdW5kYXJ5ICsgJy0tXG4nOwogICAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0nICsgYm91bmRhcnk7CiAgICAgIGJvZHkgPSBkYXRhOwogICAgfQogIH0KCiAgdmFyIG9iajsKICBpZiAoISgodGhpcy5oZWFkZXJzKSAmJiAodGhpcy5oZWFkZXJzLm1vY2spKSkgewogICAgb2JqID0gewogICAgICB1cmw6IHRoaXMudXJsLAogICAgICBtZXRob2Q6IHRoaXMudHlwZSwKICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgYm9keTogYm9keSwKICAgICAgdXNlSlF1ZXJ5OiB0aGlzLnVzZUpRdWVyeSwKICAgICAgb246IHsKICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuZXJyb3JDYWxsYmFjayhyZXNwb25zZSwgX3RoaXMub3B0cy5wYXJlbnQpOwogICAgICAgIH0sCiAgICAgICAgcmVkaXJlY3Q6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLnN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSwgX3RoaXMub3B0cy5wYXJlbnQpOwogICAgICAgIH0sCiAgICAgICAgMzA3OiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UsIF90aGlzLm9wdHMucGFyZW50KTsKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5zdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UsIF90aGlzLm9wdHMucGFyZW50KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN0YXR1cyA9IGZhbHNlOwogICAgaWYgKHRoaXMub3BlcmF0aW9uLnJlc291cmNlICYmIHRoaXMub3BlcmF0aW9uLnJlc291cmNlLmFwaSAmJiB0aGlzLm9wZXJhdGlvbi5yZXNvdXJjZS5hcGkuY2xpZW50QXV0aG9yaXphdGlvbnMpIHsKICAgICAgLy8gR2V0IHRoZSBjbGllbnQgYXV0aG9yaXphdGlvbnMgZnJvbSB0aGUgcmVzb3VyY2UgZGVjbGFyYXRpb24KICAgICAgc3RhdHVzID0gdGhpcy5vcGVyYXRpb24ucmVzb3VyY2UuYXBpLmNsaWVudEF1dGhvcml6YXRpb25zLmFwcGx5KG9iaiwgdGhpcy5vcGVyYXRpb24uYXV0aG9yaXphdGlvbnMpOwogICAgfSBlbHNlIHsKICAgICAgLy8gR2V0IHRoZSBjbGllbnQgYXV0aG9yaXphdGlvbiBmcm9tIHRoZSBkZWZhdWx0IGF1dGhvcml6YXRpb24gZGVjbGFyYXRpb24KICAgICAgdmFyIGU7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIGUgPSB3aW5kb3c7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZSA9IGV4cG9ydHM7CiAgICAgIH0KICAgICAgc3RhdHVzID0gZS5hdXRob3JpemF0aW9ucy5hcHBseShvYmosIHRoaXMub3BlcmF0aW9uLmF1dGhvcml6YXRpb25zKTsKICAgIH0KCiAgICBpZiAoIW9wdHMubW9jaykgewogICAgICBpZiAoc3RhdHVzICE9PSBmYWxzZSkgewogICAgICAgIG5ldyBTd2FnZ2VySHR0cCgpLmV4ZWN1dGUob2JqKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmouY2FuY2VsZWQgPSB0cnVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gb2JqOwogICAgfQogIH0KICByZXR1cm4gb2JqOwp9OwoKU3dhZ2dlclJlcXVlc3QucHJvdG90eXBlLnNldEhlYWRlcnMgPSBmdW5jdGlvbiAocGFyYW1zLCBvcHRzLCBvcGVyYXRpb24pIHsKICAvLyBkZWZhdWx0IHR5cGUKICB2YXIgYWNjZXB0cyA9IG9wdHMucmVzcG9uc2VDb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24vanNvbic7CiAgdmFyIGNvbnN1bWVzID0gb3B0cy5yZXF1ZXN0Q29udGVudFR5cGUgfHwgJ2FwcGxpY2F0aW9uL2pzb24nOwoKICB2YXIgYWxsRGVmaW5lZFBhcmFtcyA9IG9wZXJhdGlvbi5wYXJhbWV0ZXJzOwogIHZhciBkZWZpbmVkRm9ybVBhcmFtcyA9IFtdOwogIHZhciBkZWZpbmVkRmlsZVBhcmFtcyA9IFtdOwogIHZhciBib2R5ID0gcGFyYW1zLmJvZHk7CiAgdmFyIGhlYWRlcnMgPSB7fTsKCiAgLy8gZ2V0IHBhcmFtcyBmcm9tIHRoZSBvcGVyYXRpb24gYW5kIHNldCB0aGVtIGluIGRlZmluZWRGaWxlUGFyYW1zLCBkZWZpbmVkRm9ybVBhcmFtcywgaGVhZGVycwogIHZhciBpOwogIGZvciAoaSA9IDA7IGkgPCBhbGxEZWZpbmVkUGFyYW1zLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcGFyYW0gPSBhbGxEZWZpbmVkUGFyYW1zW2ldOwogICAgaWYgKHBhcmFtLnBhcmFtVHlwZSA9PT0gJ2Zvcm0nKQogICAgICBkZWZpbmVkRm9ybVBhcmFtcy5wdXNoKHBhcmFtKTsKICAgIGVsc2UgaWYgKHBhcmFtLnBhcmFtVHlwZSA9PT0gJ2ZpbGUnKQogICAgICBkZWZpbmVkRmlsZVBhcmFtcy5wdXNoKHBhcmFtKTsKICAgIGVsc2UgaWYgKHBhcmFtLnBhcmFtVHlwZSA9PT0gJ2hlYWRlcicgJiYgdGhpcy5wYXJhbXMuaGVhZGVycykgewogICAgICB2YXIga2V5ID0gcGFyYW0ubmFtZTsKICAgICAgdmFyIGhlYWRlclZhbHVlID0gdGhpcy5wYXJhbXMuaGVhZGVyc1twYXJhbS5uYW1lXTsKICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhcmFtcy5oZWFkZXJzW3BhcmFtLm5hbWVdICE9PSAndW5kZWZpbmVkJykKICAgICAgICBoZWFkZXJzW2tleV0gPSBoZWFkZXJWYWx1ZTsKICAgIH0KICB9CgogIC8vIGlmIHRoZXJlJ3MgYSBib2R5LCBuZWVkIHRvIHNldCB0aGUgYWNjZXB0cyBoZWFkZXIgdmlhIHJlcXVlc3RDb250ZW50VHlwZQogIGlmIChib2R5ICYmICh0aGlzLnR5cGUgPT09ICdQT1NUJyB8fCB0aGlzLnR5cGUgPT09ICdQVVQnIHx8IHRoaXMudHlwZSA9PT0gJ1BBVENIJyB8fCB0aGlzLnR5cGUgPT09ICdERUxFVEUnKSkgewogICAgaWYgKHRoaXMub3B0cy5yZXF1ZXN0Q29udGVudFR5cGUpCiAgICAgIGNvbnN1bWVzID0gdGhpcy5vcHRzLnJlcXVlc3RDb250ZW50VHlwZTsKICB9IGVsc2UgewogICAgLy8gaWYgYW55IGZvcm0gcGFyYW1zLCBjb250ZW50IHR5cGUgbXVzdCBiZSBzZXQKICAgIGlmIChkZWZpbmVkRm9ybVBhcmFtcy5sZW5ndGggPiAwKSB7CiAgICAgIGlmIChkZWZpbmVkRmlsZVBhcmFtcy5sZW5ndGggPiAwKQogICAgICAgIGNvbnN1bWVzID0gJ211bHRpcGFydC9mb3JtLWRhdGEnOwogICAgICBlbHNlCiAgICAgICAgY29uc3VtZXMgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzsKICAgIH0KICAgIGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ0RFTEVURScpCiAgICAgIGJvZHkgPSAne30nOwogICAgZWxzZSBpZiAodGhpcy50eXBlICE9ICdERUxFVEUnKQogICAgICBjb25zdW1lcyA9IG51bGw7CiAgfQoKICBpZiAoY29uc3VtZXMgJiYgdGhpcy5vcGVyYXRpb24uY29uc3VtZXMpIHsKICAgIGlmICh0aGlzLm9wZXJhdGlvbi5jb25zdW1lcy5pbmRleE9mKGNvbnN1bWVzKSA9PT0gLTEpIHsKICAgICAgbG9nKCdzZXJ2ZXIgZG9lc25cJ3QgY29uc3VtZSAnICsgY29uc3VtZXMgKyAnLCB0cnkgJyArIEpTT04uc3RyaW5naWZ5KHRoaXMub3BlcmF0aW9uLmNvbnN1bWVzKSk7CiAgICB9CiAgfQoKICBpZiAodGhpcy5vcHRzICYmIHRoaXMub3B0cy5yZXNwb25zZUNvbnRlbnRUeXBlKSB7CiAgICBhY2NlcHRzID0gdGhpcy5vcHRzLnJlc3BvbnNlQ29udGVudFR5cGU7CiAgfSBlbHNlIHsKICAgIGFjY2VwdHMgPSAnYXBwbGljYXRpb24vanNvbic7CiAgfQogIGlmIChhY2NlcHRzICYmIG9wZXJhdGlvbi5wcm9kdWNlcykgewogICAgaWYgKG9wZXJhdGlvbi5wcm9kdWNlcy5pbmRleE9mKGFjY2VwdHMpID09PSAtMSkgewogICAgICBsb2coJ3NlcnZlciBjYW5cJ3QgcHJvZHVjZSAnICsgYWNjZXB0cyk7CiAgICB9CiAgfQoKICBpZiAoKGNvbnN1bWVzICYmIGJvZHkgIT09ICcnKSB8fCAoY29uc3VtZXMgPT09ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSkKICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gY29uc3VtZXM7CiAgaWYgKGFjY2VwdHMpCiAgICBoZWFkZXJzLkFjY2VwdCA9IGFjY2VwdHM7CiAgcmV0dXJuIGhlYWRlcnM7Cn07CgovKioKICogU3dhZ2dlckh0dHAgaXMgYSB3cmFwcGVyIGZvciBleGVjdXRpbmcgcmVxdWVzdHMKICovCnZhciBTd2FnZ2VySHR0cCA9IGZ1bmN0aW9uKCkge307CgpTd2FnZ2VySHR0cC5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKG9iaikgewogIGlmKG9iaiAmJiAodHlwZW9mIG9iai51c2VKUXVlcnkgPT09ICdib29sZWFuJykpCiAgICB0aGlzLnVzZUpRdWVyeSA9IG9iai51c2VKUXVlcnk7CiAgZWxzZQogICAgdGhpcy51c2VKUXVlcnkgPSB0aGlzLmlzSUU4KCk7CgogIGlmKG9iaiAmJiB0eXBlb2Ygb2JqLmJvZHkgPT09ICdvYmplY3QnKSB7CiAgICBvYmouYm9keSA9IEpTT04uc3RyaW5naWZ5KG9iai5ib2R5KTsKICB9CgogIGlmKHRoaXMudXNlSlF1ZXJ5KQogICAgcmV0dXJuIG5ldyBKUXVlcnlIdHRwQ2xpZW50KCkuZXhlY3V0ZShvYmopOwogIGVsc2UKICAgIHJldHVybiBuZXcgU2hyZWRIdHRwQ2xpZW50KCkuZXhlY3V0ZShvYmopOwp9OwoKU3dhZ2dlckh0dHAucHJvdG90eXBlLmlzSUU4ID0gZnVuY3Rpb24oKSB7CiAgdmFyIGRldGVjdGVkSUUgPSBmYWxzZTsKICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgewogICAgbmF2ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgaWYgKG5hdi5pbmRleE9mKCdtc2llJykgIT09IC0xKSB7CiAgICAgIHZhciB2ZXJzaW9uID0gcGFyc2VJbnQobmF2LnNwbGl0KCdtc2llJylbMV0pOwogICAgICBpZiAodmVyc2lvbiA8PSA4KSB7CiAgICAgICAgZGV0ZWN0ZWRJRSA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIGRldGVjdGVkSUU7Cn07CgovKgogKiBKUXVlcnlIdHRwQ2xpZW50IGxldHMgYSBicm93c2VyIHRha2UgYWR2YW50YWdlIG9mIEpRdWVyeSdzIGNyb3NzLWJyb3dzZXIgbWFnaWMuCiAqIE5PVEU6IHdoZW4galF1ZXJ5IGlzIGF2YWlsYWJsZSBpdCB3aWxsIGV4cG9ydCBib3RoICckJyBhbmQgJ2pRdWVyeScgdG8gdGhlIGdsb2JhbCBzcGFjZS4KICogICAgICAgU2luY2Ugd2UgYXJlIHVzaW5nIGNsb3N1cmVzIGhlcmUgd2UgbmVlZCB0byBhbGlhcyBpdCBmb3IgaW50ZXJuYWwgdXNlLgogKi8KdmFyIEpRdWVyeUh0dHBDbGllbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7CiAgInVzZSBzdHJpY3QiOwogIGlmKCFqUXVlcnkpewogICAgdmFyIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7CiAgfQp9OwoKSlF1ZXJ5SHR0cENsaWVudC5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uKG9iaikgewogIHZhciBjYiA9IG9iai5vbjsKICB2YXIgcmVxdWVzdCA9IG9iajsKCiAgb2JqLnR5cGUgPSBvYmoubWV0aG9kOwogIG9iai5jYWNoZSA9IGZhbHNlOwoKICBvYmouYmVmb3JlU2VuZCA9IGZ1bmN0aW9uKHhocikgewogICAgdmFyIGtleSwgcmVzdWx0czsKICAgIGlmIChvYmouaGVhZGVycykgewogICAgICByZXN1bHRzID0gW107CiAgICAgIGZvciAoa2V5IGluIG9iai5oZWFkZXJzKSB7CiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSAiY29udGVudC10eXBlIikgewogICAgICAgICAgcmVzdWx0cy5wdXNoKG9iai5jb250ZW50VHlwZSA9IG9iai5oZWFkZXJzW2tleV0pOwogICAgICAgIH0gZWxzZSBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09ICJhY2NlcHQiKSB7CiAgICAgICAgICByZXN1bHRzLnB1c2gob2JqLmFjY2VwdHMgPSBvYmouaGVhZGVyc1trZXldKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0cy5wdXNoKHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgb2JqLmhlYWRlcnNba2V5XSkpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0czsKICAgIH0KICB9OwoKICBvYmouZGF0YSA9IG9iai5ib2R5OwogIG9iai5jb21wbGV0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB0ZXh0U3RhdHVzLCBvcHRzKSB7CiAgICB2YXIgaGVhZGVycyA9IHt9LAogICAgICBoZWFkZXJBcnJheSA9IHJlc3BvbnNlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KCJcbiIpOwoKICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoZWFkZXJBcnJheS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdG9TcGxpdCA9IGhlYWRlckFycmF5W2ldLnRyaW0oKTsKICAgICAgaWYodG9TcGxpdC5sZW5ndGggPT09IDApCiAgICAgICAgY29udGludWU7CiAgICAgIHZhciBzZXBhcmF0b3IgPSB0b1NwbGl0LmluZGV4T2YoIjoiKTsKICAgICAgaWYoc2VwYXJhdG9yID09PSAtMSkgewogICAgICAgIC8vIE5hbWUgYnV0IG5vIHZhbHVlIGluIHRoZSBoZWFkZXIKICAgICAgICBoZWFkZXJzW3RvU3BsaXRdID0gbnVsbDsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICB2YXIgbmFtZSA9IHRvU3BsaXQuc3Vic3RyaW5nKDAsIHNlcGFyYXRvcikudHJpbSgpLAogICAgICAgIHZhbHVlID0gdG9TcGxpdC5zdWJzdHJpbmcoc2VwYXJhdG9yICsgMSkudHJpbSgpOwogICAgICBoZWFkZXJzW25hbWVdID0gdmFsdWU7CiAgICB9CgogICAgdmFyIG91dCA9IHsKICAgICAgdXJsOiByZXF1ZXN0LnVybCwKICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCwKICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsCiAgICAgIGRhdGE6IHJlc3BvbnNlLnJlc3BvbnNlVGV4dCwKICAgICAgaGVhZGVyczogaGVhZGVycwogICAgfTsKCiAgICB2YXIgY29udGVudFR5cGUgPSAoaGVhZGVyc1siY29udGVudC10eXBlIl18fGhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdfHxudWxsKTsKICAgIGlmKGNvbnRlbnRUeXBlKSB7CiAgICAgIGlmKGNvbnRlbnRUeXBlLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKSA9PT0gMCB8fCBjb250ZW50VHlwZS5pbmRleE9mKCIranNvbiIpID4gMCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBvdXQub2JqID0gcmVzcG9uc2UucmVzcG9uc2VKU09OIHx8IEpTT04ucGFyc2Uob3V0LmRhdGEpIHx8IHt9OwogICAgICAgIH0gY2F0Y2ggKGV4KSB7CiAgICAgICAgICAvLyBkbyBub3Qgc2V0IG91dC5vYmoKICAgICAgICAgIGxvZygidW5hYmxlIHRvIHBhcnNlIEpTT04gY29udGVudCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKQogICAgICBjYi5yZXNwb25zZShvdXQpOwogICAgZWxzZSBpZihyZXNwb25zZS5zdGF0dXMgPT09IDAgfHwgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNTk5KSkKICAgICAgY2IuZXJyb3Iob3V0KTsKICAgIGVsc2UKICAgICAgcmV0dXJuIGNiLnJlc3BvbnNlKG91dCk7CiAgfTsKCiAgalF1ZXJ5LnN1cHBvcnQuY29ycyA9IHRydWU7CiAgcmV0dXJuIGpRdWVyeS5hamF4KG9iaik7Cn07CgovKgogKiBTaHJlZEh0dHBDbGllbnQgaXMgYSBsaWdodC13ZWlnaHQsIG5vZGUgb3IgYnJvd3NlciBIVFRQIGNsaWVudAogKi8KdmFyIFNocmVkSHR0cENsaWVudCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICB0aGlzLm9wdGlvbnMgPSAob3B0aW9uc3x8e30pOwogIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlOwoKICB2YXIgaWRlbnRpdHksIHRvU3RyaW5nOwoKICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIHRoaXMuU2hyZWQgPSByZXF1aXJlKCIuL3NocmVkIik7CiAgICB0aGlzLmNvbnRlbnQgPSByZXF1aXJlKCIuL3NocmVkL2NvbnRlbnQiKTsKICB9CiAgZWxzZQogICAgdGhpcy5TaHJlZCA9IHJlcXVpcmUoInNocmVkIik7CiAgdGhpcy5zaHJlZCA9IG5ldyB0aGlzLlNocmVkKG9wdGlvbnMpOwp9OwoKU2hyZWRIdHRwQ2xpZW50LnByb3RvdHlwZS5pbml0U2hyZWQgPSBmdW5jdGlvbiAoKSB7CiAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTsKICB0aGlzLnJlZ2lzdGVyUHJvY2Vzc29ycyh0aGlzLnNocmVkKTsKfTsKClNocmVkSHR0cENsaWVudC5wcm90b3R5cGUucmVnaXN0ZXJQcm9jZXNzb3JzID0gZnVuY3Rpb24oc2hyZWQpIHsKICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbih4KSB7CiAgICByZXR1cm4geDsKICB9OwogIHZhciB0b1N0cmluZyA9IGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybiB4LnRvU3RyaW5nKCk7CiAgfTsKCiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICB0aGlzLmNvbnRlbnQucmVnaXN0ZXJQcm9jZXNzb3IoWyJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwgImFwcGxpY2F0aW9uL2pzb24iLCAianNvbiJdLCB7CiAgICAgIHBhcnNlcjogaWRlbnRpdHksCiAgICAgIHN0cmluZ2lmeTogdG9TdHJpbmcKICAgIH0pOwogIH0gZWxzZSB7CiAgICB0aGlzLlNocmVkLnJlZ2lzdGVyUHJvY2Vzc29yKFsiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsICJhcHBsaWNhdGlvbi9qc29uIiwgImpzb24iXSwgewogICAgICBwYXJzZXI6IGlkZW50aXR5LAogICAgICBzdHJpbmdpZnk6IHRvU3RyaW5nCiAgICB9KTsKICB9Cn07CgpTaHJlZEh0dHBDbGllbnQucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihvYmopIHsKICBpZighdGhpcy5pc0luaXRpYWxpemVkKQogICAgdGhpcy5pbml0U2hyZWQoKTsKCiAgdmFyIGNiID0gb2JqLm9uLCByZXM7CiAgdmFyIHRyYW5zZm9ybSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICB2YXIgb3V0ID0gewogICAgICBoZWFkZXJzOiByZXNwb25zZS5faGVhZGVycywKICAgICAgdXJsOiByZXNwb25zZS5yZXF1ZXN0LnVybCwKICAgICAgbWV0aG9kOiByZXNwb25zZS5yZXF1ZXN0Lm1ldGhvZCwKICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsCiAgICAgIGRhdGE6IHJlc3BvbnNlLmNvbnRlbnQuZGF0YQogICAgfTsKCiAgICB2YXIgaGVhZGVycyA9IHJlc3BvbnNlLl9oZWFkZXJzLm5vcm1hbGl6ZWQgfHwgcmVzcG9uc2UuX2hlYWRlcnM7CiAgICB2YXIgY29udGVudFR5cGUgPSAoaGVhZGVyc1siY29udGVudC10eXBlIl18fGhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdfHxudWxsKTsKCiAgICBpZihjb250ZW50VHlwZSkgewogICAgICBpZihjb250ZW50VHlwZS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikgPT09IDAgfHwgY29udGVudFR5cGUuaW5kZXhPZigiK2pzb24iKSA+IDApIHsKICAgICAgICBpZihyZXNwb25zZS5jb250ZW50LmRhdGEgJiYgcmVzcG9uc2UuY29udGVudC5kYXRhICE9PSAiIikKICAgICAgICAgIHRyeXsKICAgICAgICAgICAgb3V0Lm9iaiA9IEpTT04ucGFyc2UocmVzcG9uc2UuY29udGVudC5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICAgIGNhdGNoIChlKSB7CiAgICAgICAgICAgIC8vIHVuYWJsZSB0byBwYXJzZQogICAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICAgIG91dC5vYmogPSB7fTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIG91dDsKICB9OwoKICAvLyBUcmFuc2Zvcm0gYW4gZXJyb3IgaW50byBhIHVzYWJsZSByZXNwb25zZS1saWtlIG9iamVjdAogIHZhciB0cmFuc2Zvcm1FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgdmFyIG91dCA9IHsKICAgICAgLy8gRGVmYXVsdCB0byBhIHN0YXR1cyBvZiAwIC0gVGhlIGNsaWVudCB3aWxsIHRyZWF0IHRoaXMgYXMgYSBnZW5lcmljIHBlcm1pc3Npb25zIHNvcnQgb2YgZXJyb3IKICAgICAgc3RhdHVzOiAwLAogICAgICBkYXRhOiBlcnJvci5tZXNzYWdlIHx8IGVycm9yCiAgICB9OwoKICAgIGlmIChlcnJvci5jb2RlKSB7CiAgICAgIG91dC5vYmogPSBlcnJvcjsKCiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRU5PVEZPVU5EJyB8fCBlcnJvci5jb2RlID09PSAnRUNPTk5SRUZVU0VEJykgewogICAgICAgIC8vIFdlIGNhbiB0ZWxsIHRoZSBjbGllbnQgdGhhdCB0aGlzIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgbWlzc2luZyByZXNvdXJjZSBhbmQgbm90IGFzIGEgcGVybWlzc2lvbnMgdGhpbmcKICAgICAgICBvdXQuc3RhdHVzID0gNDA0OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gb3V0OwogIH07CgogIHJlcyA9IHsKICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKG9iaikKICAgICAgICByZXR1cm4gY2IuZXJyb3IodHJhbnNmb3JtKHJlc3BvbnNlKSk7CiAgICB9LAogICAgLy8gQ2F0Y2ggdGhlIFNocmVkIGVycm9yIHJhaXNlZCB3aGVuIHRoZSByZXF1ZXN0IGVycm9ycyBhcyBpdCBpcyBtYWRlIChpLmUuIE5vIFJlc3BvbnNlIGlzIGNvbWluZykKICAgIHJlcXVlc3RfZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsKICAgICAgaWYgKG9iaikKICAgICAgICByZXR1cm4gY2IuZXJyb3IodHJhbnNmb3JtRXJyb3IoZXJyKSk7CiAgICB9LAogICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBpZiAob2JqKSB7CiAgICAgICAgcmV0dXJuIGNiLnJlc3BvbnNlKHRyYW5zZm9ybShyZXNwb25zZSkpOwogICAgICB9CiAgICB9CiAgfTsKICBpZiAob2JqKSB7CiAgICBvYmoub24gPSByZXM7CiAgfQogIHJldHVybiB0aGlzLnNocmVkLnJlcXVlc3Qob2JqKTsKfTsKCgp2YXIgZSA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGV4cG9ydHMpOwoKZS5hdXRob3JpemF0aW9ucyA9IG5ldyBTd2FnZ2VyQXV0aG9yaXphdGlvbnMoKTsKZS5BcGlLZXlBdXRob3JpemF0aW9uID0gQXBpS2V5QXV0aG9yaXphdGlvbjsKZS5QYXNzd29yZEF1dGhvcml6YXRpb24gPSBQYXNzd29yZEF1dGhvcml6YXRpb247CmUuQ29va2llQXV0aG9yaXphdGlvbiA9IENvb2tpZUF1dGhvcml6YXRpb247CmUuU3dhZ2dlckNsaWVudCA9IFN3YWdnZXJDbGllbnQ7CmUuU3dhZ2dlckFwaSA9IFN3YWdnZXJDbGllbnQ7CmUuT3BlcmF0aW9uID0gT3BlcmF0aW9uOwplLk1vZGVsID0gTW9kZWw7CmUuYWRkTW9kZWwgPSBhZGRNb2RlbDsKCn0pKCk7</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887918" offset="0" length="16384" />
          <PacketInfo time="2972887933" offset="16384" length="3262" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="152" hostname="10.239.251.82" path="/swagger-static/lib/highlight.7.3.pack.js" url="http://10.239.251.82:8080/swagger-static/lib/highlight.7.3.pack.js" ip="10.239.251.82" port="8080" connectionId="7" origin="HTML" frame="1" startTime="2972887902" endTime="2972887965">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvaGlnaGxpZ2h0LjcuMy5wYWNrLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjU5YzIzOTg1ODE3MzA4NzAyNDViYTE1NzJlNTAwYmVhLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MzIxMA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIxIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiNTljMjM5ODU4MTczMDg3MDI0NWJhMTU3MmU1MDBiZWEtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMzIxMA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dmFyIGhsanM9bmV3IGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChvKXtyZXR1cm4gby5yZXBsYWNlKC8mL2dtLCImYW1wOyIpLnJlcGxhY2UoLzwvZ20sIiZsdDsiKS5yZXBsYWNlKC8+L2dtLCImZ3Q7Iil9ZnVuY3Rpb24gYihwKXtmb3IodmFyIG89cC5maXJzdENoaWxkO287bz1vLm5leHRTaWJsaW5nKXtpZihvLm5vZGVOYW1lPT0iQ09ERSIpe3JldHVybiBvfWlmKCEoby5ub2RlVHlwZT09MyYmby5ub2RlVmFsdWUubWF0Y2goL1xzKy8pKSl7YnJlYWt9fX1mdW5jdGlvbiBoKHAsbyl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChwLmNoaWxkTm9kZXMsZnVuY3Rpb24ocSl7aWYocS5ub2RlVHlwZT09Myl7cmV0dXJuIG8/cS5ub2RlVmFsdWUucmVwbGFjZSgvXG4vZywiIik6cS5ub2RlVmFsdWV9aWYocS5ub2RlTmFtZT09IkJSIil7cmV0dXJuIlxuIn1yZXR1cm4gaChxLG8pfSkuam9pbigiIil9ZnVuY3Rpb24gYShxKXt2YXIgcD0ocS5jbGFzc05hbWUrIiAiK3EucGFyZW50Tm9kZS5jbGFzc05hbWUpLnNwbGl0KC9ccysvKTtwPXAubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByLnJlcGxhY2UoL15sYW5ndWFnZS0vLCIiKX0pO2Zvcih2YXIgbz0wO288cC5sZW5ndGg7bysrKXtpZihlW3Bbb11dfHxwW29dPT0ibm8taGlnaGxpZ2h0Iil7cmV0dXJuIHBbb119fX1mdW5jdGlvbiBjKHEpe3ZhciBvPVtdOyhmdW5jdGlvbiBwKHIscyl7Zm9yKHZhciB0PXIuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0U2libGluZyl7aWYodC5ub2RlVHlwZT09Myl7cys9dC5ub2RlVmFsdWUubGVuZ3RofWVsc2V7aWYodC5ub2RlTmFtZT09IkJSIil7cys9MX1lbHNle2lmKHQubm9kZVR5cGU9PTEpe28ucHVzaCh7ZXZlbnQ6InN0YXJ0IixvZmZzZXQ6cyxub2RlOnR9KTtzPXAodCxzKTtvLnB1c2goe2V2ZW50OiJzdG9wIixvZmZzZXQ6cyxub2RlOnR9KX19fX1yZXR1cm4gc30pKHEsMCk7cmV0dXJuIG99ZnVuY3Rpb24gaih4LHYsdyl7dmFyIHA9MDt2YXIgeT0iIjt2YXIgcj1bXTtmdW5jdGlvbiB0KCl7aWYoeC5sZW5ndGgmJnYubGVuZ3RoKXtpZih4WzBdLm9mZnNldCE9dlswXS5vZmZzZXQpe3JldHVybih4WzBdLm9mZnNldDx2WzBdLm9mZnNldCk/eDp2fWVsc2V7cmV0dXJuIHZbMF0uZXZlbnQ9PSJzdGFydCI/eDp2fX1lbHNle3JldHVybiB4Lmxlbmd0aD94OnZ9fWZ1bmN0aW9uIHMoQSl7ZnVuY3Rpb24geihCKXtyZXR1cm4iICIrQi5ub2RlTmFtZSsnPSInK2woQi52YWx1ZSkrJyInfXJldHVybiI8IitBLm5vZGVOYW1lK0FycmF5LnByb3RvdHlwZS5tYXAuY2FsbChBLmF0dHJpYnV0ZXMseikuam9pbigiIikrIj4ifXdoaWxlKHgubGVuZ3RofHx2Lmxlbmd0aCl7dmFyIHU9dCgpLnNwbGljZSgwLDEpWzBdO3krPWwody5zdWJzdHIocCx1Lm9mZnNldC1wKSk7cD11Lm9mZnNldDtpZih1LmV2ZW50PT0ic3RhcnQiKXt5Kz1zKHUubm9kZSk7ci5wdXNoKHUubm9kZSl9ZWxzZXtpZih1LmV2ZW50PT0ic3RvcCIpe3ZhciBvLHE9ci5sZW5ndGg7ZG97cS0tO289cltxXTt5Kz0oIjwvIitvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkrIj4iKX13aGlsZShvIT11Lm5vZGUpO3Iuc3BsaWNlKHEsMSk7d2hpbGUocTxyLmxlbmd0aCl7eSs9cyhyW3FdKTtxKyt9fX19cmV0dXJuIHkrbCh3LnN1YnN0cihwKSl9ZnVuY3Rpb24gZihxKXtmdW5jdGlvbiBvKHMscil7cmV0dXJuIFJlZ0V4cChzLCJtIisocS5jST8iaSI6IiIpKyhyPyJnIjoiIikpfWZ1bmN0aW9uIHAoeSx3KXtpZih5LmNvbXBpbGVkKXtyZXR1cm59eS5jb21waWxlZD10cnVlO3ZhciBzPVtdO2lmKHkuayl7dmFyIHI9e307ZnVuY3Rpb24geihBLHQpe3Quc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKEIpe3ZhciBDPUIuc3BsaXQoInwiKTtyW0NbMF1dPVtBLENbMV0/TnVtYmVyKENbMV0pOjFdO3MucHVzaChDWzBdKX0pfXkubFI9byh5Lmx8fGhsanMuSVIsdHJ1ZSk7aWYodHlwZW9mIHkuaz09InN0cmluZyIpe3ooImtleXdvcmQiLHkuayl9ZWxzZXtmb3IodmFyIHggaW4geS5rKXtpZigheS5rLmhhc093blByb3BlcnR5KHgpKXtjb250aW51ZX16KHgseS5rW3hdKX19eS5rPXJ9aWYodyl7aWYoeS5iV0spe3kuYj0iXFxiKCIrcy5qb2luKCJ8IikrIilcXHMifXkuYlI9byh5LmI/eS5iOiJcXEJ8XFxiIik7aWYoIXkuZSYmIXkuZVcpe3kuZT0iXFxCfFxcYiJ9aWYoeS5lKXt5LmVSPW8oeS5lKX15LnRFPXkuZXx8IiI7aWYoeS5lVyYmdy50RSl7eS50RSs9KHkuZT8ifCI6IiIpK3cudEV9fWlmKHkuaSl7eS5pUj1vKHkuaSl9aWYoeS5yPT09dW5kZWZpbmVkKXt5LnI9MX1pZigheS5jKXt5LmM9W119Zm9yKHZhciB2PTA7djx5LmMubGVuZ3RoO3YrKyl7aWYoeS5jW3ZdPT0ic2VsZiIpe3kuY1t2XT15fXAoeS5jW3ZdLHkpfWlmKHkuc3RhcnRzKXtwKHkuc3RhcnRzLHcpfXZhciB1PVtdO2Zvcih2YXIgdj0wO3Y8eS5jLmxlbmd0aDt2Kyspe3UucHVzaCh5LmNbdl0uYil9aWYoeS50RSl7dS5wdXNoKHkudEUpfWlmKHkuaSl7dS5wdXNoKHkuaSl9eS50PXUubGVuZ3RoP28odS5qb2luKCJ8IiksdHJ1ZSk6e2V4ZWM6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9fX1wKHEpfWZ1bmN0aW9uIGQoRCxFKXtmdW5jdGlvbiBvKHIsTSl7Zm9yKHZhciBMPTA7TDxNLmMubGVuZ3RoO0wrKyl7dmFyIEs9TS5jW0xdLmJSLmV4ZWMocik7aWYoSyYmSy5pbmRleD09MCl7cmV0dXJuIE0uY1tMXX19fWZ1bmN0aW9uIHMoSyxyKXtpZihLLmUmJksuZVIudGVzdChyKSl7cmV0dXJuIEt9aWYoSy5lVyl7cmV0dXJuIHMoSy5wYXJlbnQscil9fWZ1bmN0aW9uIHQocixLKXtyZXR1cm4gSy5pJiZLLmlSLnRlc3Qocil9ZnVuY3Rpb24geShMLHIpe3ZhciBLPUYuY0k/clswXS50b0xvd2VyQ2FzZSgpOnJbMF07cmV0dXJuIEwuay5oYXNPd25Qcm9wZXJ0eShLKSYmTC5rW0tdfWZ1bmN0aW9uIEcoKXt2YXIgSz1sKHcpO2lmKCFBLmspe3JldHVybiBLfXZhciByPSIiO3ZhciBOPTA7QS5sUi5sYXN0SW5kZXg9MDt2YXIgTD1BLmxSLmV4ZWMoSyk7d2hpbGUoTCl7cis9Sy5zdWJzdHIoTixMLmluZGV4LU4pO3ZhciBNPXkoQSxMKTtpZihNKXt2Kz1NWzFdO3IrPSc8c3BhbiBjbGFzcz0iJytNWzBdKyciPicrTFswXSsiPC9zcGFuPiJ9ZWxzZXtyKz1MWzBdfU49QS5sUi5sYXN0SW5kZXg7TD1BLmxSLmV4ZWMoSyl9cmV0dXJuIHIrSy5zdWJzdHIoTil9ZnVuY3Rpb24geigpe2lmKEEuc0wmJiFlW0Euc0xdKXtyZXR1cm4gbCh3KX12YXIgcj1BLnNMP2QoQS5zTCx3KTpnKHcpO2lmKEEucj4wKXt2Kz1yLmtleXdvcmRfY291bnQ7Qis9ci5yfXJldHVybic8c3BhbiBjbGFzcz0iJytyLmxhbmd1YWdlKyciPicrci52YWx1ZSsiPC9zcGFuPiJ9ZnVuY3Rpb24gSigpe3JldHVybiBBLnNMIT09dW5kZWZpbmVkP3ooKTpHKCl9ZnVuY3Rpb24gSShMLHIpe3ZhciBLPUwuY04/JzxzcGFuIGNsYXNzPSInK0wuY04rJyI+JzoiIjtpZihMLnJCKXt4Kz1LO3c9IiJ9ZWxzZXtpZihMLmVCKXt4Kz1sKHIpK0s7dz0iIn1lbHNle3grPUs7dz1yfX1BPU9iamVjdC5jcmVhdGUoTCx7cGFyZW50Ont2YWx1ZTpBfX0pO0IrPUwucn1mdW5jdGlvbiBDKEsscil7dys9SztpZihyPT09dW5kZWZpbmVkKXt4Kz1KKCk7cmV0dXJuIDB9dmFyIEw9byhyLEEpO2lmKEwpe3grPUooKTtJKEwscik7cmV0dXJuIEwuckI/MDpyLmxlbmd0aH12YXIgTT1zKEEscik7aWYoTSl7aWYoIShNLnJFfHxNLmVFKSl7dys9cn14Kz1KKCk7ZG97aWYoQS5jTil7eCs9Ijwvc3Bhbj4ifUE9QS5wYXJlbnR9d2hpbGUoQSE9TS5wYXJlbnQpO2lmKE0uZUUpe3grPWwocil9dz0iIjtpZihNLnN0YXJ0cyl7SShNLnN0YXJ0cywiIil9cmV0dXJuIE0uckU/MDpyLmxlbmd0aH1pZih0KHIsQSkpe3Rocm93IklsbGVnYWwifXcrPXI7cmV0dXJuIHIubGVuZ3RofHwxfXZhciBGPWVbRF07ZihGKTt2YXIgQT1GO3ZhciB3PSIiO3ZhciBCPTA7dmFyIHY9MDt2YXIgeD0iIjt0cnl7dmFyIHUscSxwPTA7d2hpbGUodHJ1ZSl7QS50Lmxhc3RJbmRleD1wO3U9QS50LmV4ZWMoRSk7aWYoIXUpe2JyZWFrfXE9QyhFLnN1YnN0cihwLHUuaW5kZXgtcCksdVswXSk7cD11LmluZGV4K3F9QyhFLnN1YnN0cihwKSk7cmV0dXJue3I6QixrZXl3b3JkX2NvdW50OnYsdmFsdWU6eCxsYW5ndWFnZTpEfX1jYXRjaChIKXtpZihIPT0iSWxsZWdhbCIpe3JldHVybntyOjAsa2V5d29yZF9jb3VudDowLHZhbHVlOmwoRSl9fWVsc2V7dGhyb3cgSH19fWZ1bmN0aW9uIGcocyl7dmFyIG89e2tleXdvcmRfY291bnQ6MCxyOjAsdmFsdWU6bChzKX07dmFyIHE9bztmb3IodmFyIHAgaW4gZSl7aWYoIWUuaGFzT3duUHJvcGVydHkocCkpe2NvbnRpbnVlfXZhciByPWQocCxzKTtyLmxhbmd1YWdlPXA7aWYoci5rZXl3b3JkX2NvdW50K3Iucj5xLmtleXdvcmRfY291bnQrcS5yKXtxPXJ9aWYoci5rZXl3b3JkX2NvdW50K3Iucj5vLmtleXdvcmRfY291bnQrby5yKXtxPW87bz1yfX1pZihxLmxhbmd1YWdlKXtvLnNlY29uZF9iZXN0PXF9cmV0dXJuIG99ZnVuY3Rpb24gaShxLHAsbyl7aWYocCl7cT1xLnJlcGxhY2UoL14oKDxbXj5dKz58XHQpKykvZ20sZnVuY3Rpb24ocix2LHUsdCl7cmV0dXJuIHYucmVwbGFjZSgvXHQvZyxwKX0pfWlmKG8pe3E9cS5yZXBsYWNlKC9cbi9nLCI8YnI+Iil9cmV0dXJuIHF9ZnVuY3Rpb24gbShyLHUscCl7dmFyIHY9aChyLHApO3ZhciB0PWEocik7aWYodD09Im5vLWhpZ2hsaWdodCIpe3JldHVybn12YXIgdz10P2QodCx2KTpnKHYpO3Q9dy5sYW5ndWFnZTt2YXIgbz1jKHIpO2lmKG8ubGVuZ3RoKXt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwcmUiKTtxLmlubmVySFRNTD13LnZhbHVlO3cudmFsdWU9aihvLGMocSksdil9dy52YWx1ZT1pKHcudmFsdWUsdSxwKTt2YXIgcz1yLmNsYXNzTmFtZTtpZighcy5tYXRjaCgiKFxcc3xeKShsYW5ndWFnZS0pPyIrdCsiKFxcc3wkKSIpKXtzPXM/KHMrIiAiK3QpOnR9ci5pbm5lckhUTUw9dy52YWx1ZTtyLmNsYXNzTmFtZT1zO3IucmVzdWx0PXtsYW5ndWFnZTp0LGt3Oncua2V5d29yZF9jb3VudCxyZTp3LnJ9O2lmKHcuc2Vjb25kX2Jlc3Qpe3Iuc2Vjb25kX2Jlc3Q9e2xhbmd1YWdlOncuc2Vjb25kX2Jlc3QubGFuZ3VhZ2Usa3c6dy5zZWNvbmRfYmVzdC5rZXl3b3JkX2NvdW50LHJlOncuc2Vjb25kX2Jlc3Qucn19fWZ1bmN0aW9uIG4oKXtpZihuLmNhbGxlZCl7cmV0dXJufW4uY2FsbGVkPXRydWU7QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwcmUiKSxiKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbihvKXttKG8saGxqcy50YWJSZXBsYWNlKX0pfWZ1bmN0aW9uIGsoKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsbixmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG4sZmFsc2UpfXZhciBlPXt9O3RoaXMuTEFOR1VBR0VTPWU7dGhpcy5oaWdobGlnaHQ9ZDt0aGlzLmhpZ2hsaWdodEF1dG89Zzt0aGlzLmZpeE1hcmt1cD1pO3RoaXMuaGlnaGxpZ2h0QmxvY2s9bTt0aGlzLmluaXRIaWdobGlnaHRpbmc9bjt0aGlzLmluaXRIaWdobGlnaHRpbmdPbkxvYWQ9azt0aGlzLklSPSJbYS16QS1aXVthLXpBLVowLTlfXSoiO3RoaXMuVUlSPSJbYS16QS1aX11bYS16QS1aMC05X10qIjt0aGlzLk5SPSJcXGJcXGQrKFxcLlxcZCspPyI7dGhpcy5DTlI9IihcXGIwW3hYXVthLWZBLUYwLTldK3woXFxiXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoW2VFXVstK10/XFxkKyk/KSI7dGhpcy5CTlI9IlxcYigwYlswMV0rKSI7dGhpcy5SU1I9IiF8IT18IT09fCV8JT18JnwmJnwmPXxcXCp8XFwqPXxcXCt8XFwrPXwsfFxcLnwtfC09fC98Lz18Onw7fDx8PDx8PDw9fDw9fD18PT18PT09fD58Pj18Pj58Pj49fD4+Pnw+Pj49fFxcP3xcXFt8XFx7fFxcKHxcXF58XFxePXxcXHx8XFx8PXxcXHxcXHx8fiI7dGhpcy5CRT17YjoiXFxcXFtcXHNcXFNdIixyOjB9O3RoaXMuQVNNPXtjTjoic3RyaW5nIixiOiInIixlOiInIixpOiJcXG4iLGM6W3RoaXMuQkVdLHI6MH07dGhpcy5RU009e2NOOiJzdHJpbmciLGI6JyInLGU6JyInLGk6IlxcbiIsYzpbdGhpcy5CRV0scjowfTt0aGlzLkNMQ009e2NOOiJjb21tZW50IixiOiIvLyIsZToiJCJ9O3RoaXMuQ0JMQ0xNPXtjTjoiY29tbWVudCIsYjoiL1xcKiIsZToiXFwqLyJ9O3RoaXMuSENNPXtjTjoiY29tbWVudCIsYjoiIyIsZToiJCJ9O3RoaXMuTk09e2NOOiJudW1iZXIiLGI6dGhpcy5OUixyOjB9O3RoaXMuQ05NPXtjTjoibnVtYmVyIixiOnRoaXMuQ05SLHI6MH07dGhpcy5CTk09e2NOOiJudW1iZXIiLGI6dGhpcy5CTlIscjowfTt0aGlzLmluaGVyaXQ9ZnVuY3Rpb24ocSxyKXt2YXIgbz17fTtmb3IodmFyIHAgaW4gcSl7b1twXT1xW3BdfWlmKHIpe2Zvcih2YXIgcCBpbiByKXtvW3BdPXJbcF19fXJldHVybiBvfX0oKTtobGpzLkxBTkdVQUdFUy54bWw9ZnVuY3Rpb24oYSl7dmFyIGM9IltBLVphLXowLTlcXC5fOi1dKyI7dmFyIGI9e2VXOnRydWUsYzpbe2NOOiJhdHRyaWJ1dGUiLGI6YyxyOjB9LHtiOic9IicsckI6dHJ1ZSxlOiciJyxjOlt7Y046InZhbHVlIixiOiciJyxlVzp0cnVlfV19LHtiOiI9JyIsckI6dHJ1ZSxlOiInIixjOlt7Y046InZhbHVlIixiOiInIixlVzp0cnVlfV19LHtiOiI9IixjOlt7Y046InZhbHVlIixiOiJbXlxccy8+XSsifV19XX07cmV0dXJue2NJOnRydWUsYzpbe2NOOiJwaSIsYjoiPFxcPyIsZToiXFw/PiIscjoxMH0se2NOOiJkb2N0eXBlIixiOiI8IURPQ1RZUEUiLGU6Ij4iLHI6MTAsYzpbe2I6IlxcWyIsZToiXFxdIn1dfSx7Y046ImNvbW1lbnQiLGI6IjwhLS0iLGU6Ii0tPiIscjoxMH0se2NOOiJjZGF0YSIsYjoiPFxcIVxcW0NEQVRBXFxbIixlOiJcXF1cXF0+IixyOjEwfSx7Y046InRhZyIsYjoiPHN0eWxlKD89XFxzfD58JCkiLGU6Ij4iLGs6e3RpdGxlOiJzdHlsZSJ9LGM6W2JdLHN0YXJ0czp7ZToiPC9zdHlsZT4iLHJFOnRydWUsc0w6ImNzcyJ9fSx7Y046InRhZyIsYjoiPHNjcmlwdCg/PVxcc3w+fCQpIixlOiI+IixrOnt0aXRsZToic2NyaXB0In0sYzpbYl0sc3RhcnRzOntlOiI8XC9zY3JpcHQ+IixyRTp0cnVlLHNMOiJqYXZhc2NyaXB0In19LHtiOiI8JSIsZToiJT4iLHNMOiJ2YnNjcmlwdCJ9LHtjTjoidGFnIixiOiI8Lz8iLGU6Ii8/PiIsYzpbe2NOOiJ0aXRsZSIsYjoiW14gLz5dKyJ9LGJdfV19fShobGpzKTtobGpzLkxBTkdVQUdFUy5qc29uPWZ1bmN0aW9uKGEpe3ZhciBlPXtsaXRlcmFsOiJ0cnVlIGZhbHNlIG51bGwifTt2YXIgZD1bYS5RU00sYS5DTk1dO3ZhciBjPXtjTjoidmFsdWUiLGU6IiwiLGVXOnRydWUsZUU6dHJ1ZSxjOmQsazplfTt2YXIgYj17YjoieyIsZToifSIsYzpbe2NOOiJhdHRyaWJ1dGUiLGI6J1xccyoiJyxlOiciXFxzKjpcXHMqJyxlQjp0cnVlLGVFOnRydWUsYzpbYS5CRV0saToiXFxuIixzdGFydHM6Y31dLGk6IlxcUyJ9O3ZhciBmPXtiOiJcXFsiLGU6IlxcXSIsYzpbYS5pbmhlcml0KGMse2NOOm51bGx9KV0saToiXFxTIn07ZC5zcGxpY2UoZC5sZW5ndGgsMCxiLGYpO3JldHVybntjOmQsazplLGk6IlxcUyJ9fShobGpzKTs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887949" offset="0" length="3467" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="154" hostname="10.239.251.82" path="/swagger-static/lib/marked.js" url="http://10.239.251.82:8080/swagger-static/lib/marked.js" ip="10.239.251.82" port="8080" connectionId="11" origin="HTML" frame="1" startTime="2972887902" endTime="2972887965">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvbWFya2VkLmpzIEhUVFAvMS4xDQpIb3N0OiAxMC4yMzkuMjUxLjgyOjgwODANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkFjY2VwdDogKi8qDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlcg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBzZGNoDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC44DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ImRlNTdkNDc5NjJlOWE1YmM1YTE1MjRkNzI1ZDNhOTEzLS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NzA1OA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIxIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiZGU1N2Q0Nzk2MmU5YTViYzVhMTUyNGQ3MjVkM2E5MTMtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogNzA1OA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>LyoqCiAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyCiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKQogKiBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWQKICovCgo7KGZ1bmN0aW9uKCkgewoKLyoqCiAqIEJsb2NrLUxldmVsIEdyYW1tYXIKICovCgp2YXIgYmxvY2sgPSB7CiAgbmV3bGluZTogL15cbisvLAogIGNvZGU6IC9eKCB7NH1bXlxuXStcbiopKy8sCiAgZmVuY2VzOiBub29wLAogIGhyOiAvXiggKlstKl9dKXszLH0gKig/OlxuK3wkKS8sCiAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cbl0rPykgKiMqICooPzpcbit8JCkvLAogIG5wdGFibGU6IG5vb3AsCiAgbGhlYWRpbmc6IC9eKFteXG5dKylcbiAqKD18LSl7Mix9ICooPzpcbit8JCkvLAogIGJsb2NrcXVvdGU6IC9eKCAqPlteXG5dKyhcbig/IWRlZilbXlxuXSspKlxuKikrLywKICBsaXN0OiAvXiggKikoYnVsbCkgW1xzXFNdKz8oPzpocnxkZWZ8XG57Mix9KD8hICkoPyFcMWJ1bGwgKVxuKnxccyokKS8sCiAgaHRtbDogL14gKig/OmNvbW1lbnQgKig/OlxufFxzKiQpfGNsb3NlZCAqKD86XG57Mix9fFxzKiQpfGNsb3NpbmcgKig/OlxuezIsfXxccyokKSkvLAogIGRlZjogL14gKlxbKFteXF1dKylcXTogKjw/KFteXHM+XSspPj8oPzogK1siKF0oW15cbl0rKVsiKV0pPyAqKD86XG4rfCQpLywKICB0YWJsZTogbm9vcCwKICBwYXJhZ3JhcGg6IC9eKCg/OlteXG5dK1xuPyg/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXx0YWd8ZGVmKSkrKVxuKi8sCiAgdGV4dDogL15bXlxuXSsvCn07CgpibG9jay5idWxsZXQgPSAvKD86WyorLV18XGQrXC4pLzsKYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSBbXlxuXSooPzpcbig/IVwxYnVsbCApW15cbl0qKSovOwpibG9jay5pdGVtID0gcmVwbGFjZShibG9jay5pdGVtLCAnZ20nKQogICgvYnVsbC9nLCBibG9jay5idWxsZXQpCiAgKCk7CgpibG9jay5saXN0ID0gcmVwbGFjZShibG9jay5saXN0KQogICgvYnVsbC9nLCBibG9jay5idWxsZXQpCiAgKCdocicsICdcXG4rKD89XFwxPyg/OlstKl9dICopezMsfSg/Olxcbit8JCkpJykKICAoJ2RlZicsICdcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpCiAgKCk7CgpibG9jay5ibG9ja3F1b3RlID0gcmVwbGFjZShibG9jay5ibG9ja3F1b3RlKQogICgnZGVmJywgYmxvY2suZGVmKQogICgpOwoKYmxvY2suX3RhZyA9ICcoPyEoPzonCiAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGUnCiAgKyAnfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvJwogICsgJ3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXGIpXFx3Kyg/ITovfFteXFx3XFxzQF0qQClcXGInOwoKYmxvY2suaHRtbCA9IHJlcGxhY2UoYmxvY2suaHRtbCkKICAoJ2NvbW1lbnQnLCAvPCEtLVtcc1xTXSo/LS0+LykKICAoJ2Nsb3NlZCcsIC88KHRhZylbXHNcU10rPzxcL1wxPi8pCiAgKCdjbG9zaW5nJywgLzx0YWcoPzoiW14iXSoifCdbXiddKid8W14nIj5dKSo/Pi8pCiAgKC90YWcvZywgYmxvY2suX3RhZykKICAoKTsKCmJsb2NrLnBhcmFncmFwaCA9IHJlcGxhY2UoYmxvY2sucGFyYWdyYXBoKQogICgnaHInLCBibG9jay5ocikKICAoJ2hlYWRpbmcnLCBibG9jay5oZWFkaW5nKQogICgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZykKICAoJ2Jsb2NrcXVvdGUnLCBibG9jay5ibG9ja3F1b3RlKQogICgndGFnJywgJzwnICsgYmxvY2suX3RhZykKICAoJ2RlZicsIGJsb2NrLmRlZikKICAoKTsKCi8qKgogKiBOb3JtYWwgQmxvY2sgR3JhbW1hcgogKi8KCmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7CgovKioKICogR0ZNIEJsb2NrIEdyYW1tYXIKICovCgpibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7CiAgZmVuY2VzOiAvXiAqKGB7Myx9fH57Myx9KSAqKFxTKyk/ICpcbihbXHNcU10rPylccypcMSAqKD86XG4rfCQpLywKICBwYXJhZ3JhcGg6IC9eLwp9KTsKCmJsb2NrLmdmbS5wYXJhZ3JhcGggPSByZXBsYWNlKGJsb2NrLnBhcmFncmFwaCkKICAoJyg/IScsICcoPyEnCiAgICArIGJsb2NrLmdmbS5mZW5jZXMuc291cmNlLnJlcGxhY2UoJ1xcMScsICdcXDInKSArICd8JwogICAgKyBibG9jay5saXN0LnNvdXJjZS5yZXBsYWNlKCdcXDEnLCAnXFwzJykgKyAnfCcpCiAgKCk7CgovKioKICogR0ZNICsgVGFibGVzIEJsb2NrIEdyYW1tYXIKICovCgpibG9jay50YWJsZXMgPSBtZXJnZSh7fSwgYmxvY2suZ2ZtLCB7CiAgbnB0YWJsZTogL14gKihcUy4qXHwuKilcbiAqKFstOl0rICpcfFstfCA6XSopXG4oKD86LipcfC4qKD86XG58JCkpKilcbiovLAogIHRhYmxlOiAvXiAqXHwoLispXG4gKlx8KCAqWy06XStbLXwgOl0qKVxuKCg/OiAqXHwuKig/OlxufCQpKSopXG4qLwp9KTsKCi8qKgogKiBCbG9jayBMZXhlcgogKi8KCmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHsKICB0aGlzLnRva2VucyA9IFtdOwogIHRoaXMudG9rZW5zLmxpbmtzID0ge307CiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7CiAgdGhpcy5ydWxlcyA9IGJsb2NrLm5vcm1hbDsKCiAgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHsKICAgIGlmICh0aGlzLm9wdGlvbnMudGFibGVzKSB7CiAgICAgIHRoaXMucnVsZXMgPSBibG9jay50YWJsZXM7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnJ1bGVzID0gYmxvY2suZ2ZtOwogICAgfQogIH0KfQoKLyoqCiAqIEV4cG9zZSBCbG9jayBSdWxlcwogKi8KCkxleGVyLnJ1bGVzID0gYmxvY2s7CgovKioKICogU3RhdGljIExleCBNZXRob2QKICovCgpMZXhlci5sZXggPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMpIHsKICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7CiAgcmV0dXJuIGxleGVyLmxleChzcmMpOwp9OwoKLyoqCiAqIFByZXByb2Nlc3NpbmcKICovCgpMZXhlci5wcm90b3R5cGUubGV4ID0gZnVuY3Rpb24oc3JjKSB7CiAgc3JjID0gc3JjCiAgICAucmVwbGFjZSgvXHJcbnxcci9nLCAnXG4nKQogICAgLnJlcGxhY2UoL1x0L2csICcgICAgJykKICAgIC5yZXBsYWNlKC9cdTAwYTAvZywgJyAnKQogICAgLnJlcGxhY2UoL1x1MjQyNC9nLCAnXG4nKTsKCiAgcmV0dXJuIHRoaXMudG9rZW4oc3JjLCB0cnVlKTsKfTsKCi8qKgogKiBMZXhpbmcKICovCgpMZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCwgYnEpIHsKICB2YXIgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKQogICAgLCBuZXh0CiAgICAsIGxvb3NlCiAgICAsIGNhcAogICAgLCBidWxsCiAgICAsIGIKICAgICwgaXRlbQogICAgLCBzcGFjZQogICAgLCBpCiAgICAsIGw7CgogIHdoaWxlIChzcmMpIHsKICAgIC8vIG5ld2xpbmUKICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkgewogICAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgICAgdHlwZTogJ3NwYWNlJwogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgLy8gY29kZQogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7CiAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgIHR5cGU6ICdjb2RlJywKICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljCiAgICAgICAgICA/IGNhcC5yZXBsYWNlKC9cbiskLywgJycpCiAgICAgICAgICA6IGNhcAogICAgICB9KTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gZmVuY2VzIChnZm0pCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5mZW5jZXMuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgIHR5cGU6ICdjb2RlJywKICAgICAgICBsYW5nOiBjYXBbMl0sCiAgICAgICAgdGV4dDogY2FwWzNdCiAgICAgIH0pOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBoZWFkaW5nCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWMoc3JjKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICB0eXBlOiAnaGVhZGluZycsCiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsCiAgICAgICAgdGV4dDogY2FwWzJdCiAgICAgIH0pOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSkKICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMubnB0YWJsZS5leGVjKHNyYykpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CgogICAgICBpdGVtID0gewogICAgICAgIHR5cGU6ICd0YWJsZScsCiAgICAgICAgaGVhZGVyOiBjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXHwgKiQvZywgJycpLnNwbGl0KC8gKlx8ICovKSwKICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXHwgKi8pLAogICAgICAgIGNlbGxzOiBjYXBbM10ucmVwbGFjZSgvXG4kLywgJycpLnNwbGl0KCdcbicpCiAgICAgIH07CgogICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7CiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JzsKICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7CiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7CiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7CiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaXRlbS5jZWxsc1tpXSA9IGl0ZW0uY2VsbHNbaV0uc3BsaXQoLyAqXHwgKi8pOwogICAgICB9CgogICAgICB0aGlzLnRva2Vucy5wdXNoKGl0ZW0pOwoKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gbGhlYWRpbmcKICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxoZWFkaW5nLmV4ZWMoc3JjKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICB0eXBlOiAnaGVhZGluZycsCiAgICAgICAgZGVwdGg6IGNhcFsyXSA9PT0gJz0nID8gMSA6IDIsCiAgICAgICAgdGV4dDogY2FwWzFdCiAgICAgIH0pOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBocgogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHIuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgIHR5cGU6ICdocicKICAgICAgfSk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIGJsb2NrcXVvdGUKICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmJsb2NrcXVvdGUuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CgogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9zdGFydCcKICAgICAgfSk7CgogICAgICBjYXAgPSBjYXBbMF0ucmVwbGFjZSgvXiAqPiA/L2dtLCAnJyk7CgogICAgICAvLyBQYXNzIGB0b3BgIHRvIGtlZXAgdGhlIGN1cnJlbnQKICAgICAgLy8gInRvcGxldmVsIiBzdGF0ZS4gVGhpcyBpcyBleGFjdGx5CiAgICAgIC8vIGhvdyBtYXJrZG93bi5wbCB3b3Jrcy4KICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCwgdHJ1ZSk7CgogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnCiAgICAgIH0pOwoKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gbGlzdAogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGlzdC5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgYnVsbCA9IGNhcFsyXTsKCiAgICAgIHRoaXMudG9rZW5zLnB1c2goewogICAgICAgIHR5cGU6ICdsaXN0X3N0YXJ0JywKICAgICAgICBvcmRlcmVkOiBidWxsLmxlbmd0aCA+IDEKICAgICAgfSk7CgogICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS4KICAgICAgY2FwID0gY2FwWzBdLm1hdGNoKHRoaXMucnVsZXMuaXRlbSk7CgogICAgICBuZXh0ID0gZmFsc2U7CiAgICAgIGwgPSBjYXAubGVuZ3RoOwogICAgICBpID0gMDsKCiAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaXRlbSA9IGNhcFtpXTsKCiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IGl0ZW0ncyBidWxsZXQKICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLgogICAgICAgIHNwYWNlID0gaXRlbS5sZW5ndGg7CiAgICAgICAgaXRlbSA9IGl0ZW0ucmVwbGFjZSgvXiAqKFsqKy1dfFxkK1wuKSArLywgJycpOwoKICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZQogICAgICAgIC8vIGxpc3QgaXRlbSBjb250YWlucy4gSGFja3kuCiAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xuICcpKSB7CiAgICAgICAgICBzcGFjZSAtPSBpdGVtLmxlbmd0aDsKICAgICAgICAgIGl0ZW0gPSAhdGhpcy5vcHRpb25zLnBlZGFudGljCiAgICAgICAgICAgID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpCiAgICAgICAgICAgIDogaXRlbS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7CiAgICAgICAgfQoKICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBsaXN0IGl0ZW0gYmVsb25ncyBoZXJlLgogICAgICAgIC8vIEJhY2twZWRhbCBpZiBpdCBkb2VzIG5vdCBiZWxvbmcgaW4gdGhpcyBsaXN0LgogICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc21hcnRMaXN0cyAmJiBpICE9PSBsIC0gMSkgewogICAgICAgICAgYiA9IGJsb2NrLmJ1bGxldC5leGVjKGNhcFtpICsgMV0pWzBdOwogICAgICAgICAgaWYgKGJ1bGwgIT09IGIgJiYgIShidWxsLmxlbmd0aCA+IDEgJiYgYi5sZW5ndGggPiAxKSkgewogICAgICAgICAgICBzcmMgPSBjYXAuc2xpY2UoaSArIDEpLmpvaW4oJ1xuJykgKyBzcmM7CiAgICAgICAgICAgIGkgPSBsIC0gMTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LgogICAgICAgIC8vIFVzZTogLyhefFxuKSg/ISApW15cbl0rXG5cbig/IVxzKiQpLwogICAgICAgIC8vIGZvciBkaXNjb3VudCBiZWhhdmlvci4KICAgICAgICBsb29zZSA9IG5leHQgfHwgL1xuXG4oPyFccyokKS8udGVzdChpdGVtKTsKICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHsKICAgICAgICAgIG5leHQgPSBpdGVtLmNoYXJBdChpdGVtLmxlbmd0aCAtIDEpID09PSAnXG4nOwogICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0OwogICAgICAgIH0KCiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7CiAgICAgICAgICB0eXBlOiBsb29zZQogICAgICAgICAgICA/ICdsb29zZV9pdGVtX3N0YXJ0JwogICAgICAgICAgICA6ICdsaXN0X2l0ZW1fc3RhcnQnCiAgICAgICAgfSk7CgogICAgICAgIC8vIFJlY3Vyc2UuCiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSwgYnEpOwoKICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICAgIHR5cGU6ICdsaXN0X2l0ZW1fZW5kJwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnRva2Vucy5wdXNoKHsKICAgICAgICB0eXBlOiAnbGlzdF9lbmQnCiAgICAgIH0pOwoKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gaHRtbAogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaHRtbC5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgdGhpcy50b2tlbnMucHVzaCh7CiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnNhbml0aXplCiAgICAgICAgICA/ICdwYXJhZ3JhcGgnCiAgICAgICAgICA6ICdodG1sJywKICAgICAgICBwcmU6IGNhcFsxXSA9PT0gJ3ByZScgfHwgY2FwWzFdID09PSAnc2NyaXB0JyB8fCBjYXBbMV0gPT09ICdzdHlsZScsCiAgICAgICAgdGV4dDogY2FwWzBdCiAgICAgIH0pOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBkZWYKICAgIGlmICgoIWJxICYmIHRvcCkgJiYgKGNhcCA9IHRoaXMucnVsZXMuZGVmLmV4ZWMoc3JjKSkpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgdGhpcy50b2tlbnMubGlua3NbY2FwWzFdLnRvTG93ZXJDYXNlKCldID0gewogICAgICAgIGhyZWY6IGNhcFsyXSwKICAgICAgICB0aXRsZTogY2FwWzNdCiAgICAgIH07CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHRhYmxlIChnZm0pCiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLnRhYmxlLmV4ZWMoc3JjKSkpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKCiAgICAgIGl0ZW0gPSB7CiAgICAgICAgdHlwZTogJ3RhYmxlJywKICAgICAgICBoZWFkZXI6IGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcfCAqJC9nLCAnJykuc3BsaXQoLyAqXHwgKi8pLAogICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFx8ICokL2csICcnKS5zcGxpdCgvICpcfCAqLyksCiAgICAgICAgY2VsbHM6IGNhcFszXS5yZXBsYWNlKC8oPzogKlx8ICopP1xuJC8sICcnKS5zcGxpdCgnXG4nKQogICAgICB9OwoKICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkgewogICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7CiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkgewogICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInOwogICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkgewogICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykgewogICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldCiAgICAgICAgICAucmVwbGFjZSgvXiAqXHwgKnwgKlx8ICokL2csICcnKQogICAgICAgICAgLnNwbGl0KC8gKlx8ICovKTsKICAgICAgfQoKICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTsKCiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGgKICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgdGhpcy50b2tlbnMucHVzaCh7CiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsCiAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcbicKICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKQogICAgICAgICAgOiBjYXBbMV0KICAgICAgfSk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHRleHQKICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7CiAgICAgIC8vIFRvcC1sZXZlbCBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZS4KICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgdGhpcy50b2tlbnMucHVzaCh7CiAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgIHRleHQ6IGNhcFswXQogICAgICB9KTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgaWYgKHNyYykgewogICAgICB0aHJvdyBuZXcKICAgICAgICBFcnJvcignSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCkpOwogICAgfQogIH0KCiAgcmV0dXJuIHRoaXMudG9rZW5zOwp9OwoKLyoqCiAqIElubGluZS1MZXZlbCBHcmFtbWFyCiAqLwoKdmFyIGlubGluZSA9IHsKICBlc2NhcGU6IC9eXFwoW1xcYCp7fVxbXF0oKSMrXC0uIV8+XSkvLAogIGF1dG9saW5rOiAvXjwoW14gPl0rKEB8OlwvKVteID5dKyk+LywKICB1cmw6IG5vb3AsCiAgdGFnOiAvXjwhLS1bXHNcU10qPy0tPnxePFwvP1x3Kyg/OiJbXiJdKiJ8J1teJ10qJ3xbXiciPl0pKj8+LywKICBsaW5rOiAvXiE/XFsoaW5zaWRlKVxdXChocmVmXCkvLAogIHJlZmxpbms6IC9eIT9cWyhpbnNpZGUpXF1ccypcWyhbXlxdXSopXF0vLAogIG5vbGluazogL14hP1xbKCg/OlxbW15cXV0qXF18W15cW1xdXSkqKVxdLywKICBzdHJvbmc6IC9eX18oW1xzXFNdKz8pX18oPyFfKXxeXCpcKihbXHNcU10rPylcKlwqKD8hXCopLywKICBlbTogL15cYl8oKD86X198W1xzXFNdKSs/KV9cYnxeXCooKD86XCpcKnxbXHNcU10pKz8pXCooPyFcKikvLAogIGNvZGU6IC9eKGArKVxzKihbXHNcU10qP1teYF0pXHMqXDEoPyFgKS8sCiAgYnI6IC9eIHsyLH1cbig/IVxzKiQpLywKICBkZWw6IG5vb3AsCiAgdGV4dDogL15bXHNcU10rPyg/PVtcXDwhXFtfKmBdfCB7Mix9XG58JCkvCn07CgppbmxpbmUuX2luc2lkZSA9IC8oPzpcW1teXF1dKlxdfFteXFtcXV18XF0oPz1bXlxbXSpcXSkpKi87CmlubGluZS5faHJlZiA9IC9ccyo8PyhbXHNcU10qPyk+Pyg/OlxzK1snIl0oW1xzXFNdKj8pWyciXSk/XHMqLzsKCmlubGluZS5saW5rID0gcmVwbGFjZShpbmxpbmUubGluaykKICAoJ2luc2lkZScsIGlubGluZS5faW5zaWRlKQogICgnaHJlZicsIGlubGluZS5faHJlZikKICAoKTsKCmlubGluZS5yZWZsaW5rID0gcmVwbGFjZShpbmxpbmUucmVmbGluaykKICAoJ2luc2lkZScsIGlubGluZS5faW5zaWRlKQogICgpOwoKLyoqCiAqIE5vcm1hbCBJbmxpbmUgR3JhbW1hcgogKi8KCmlubGluZS5ub3JtYWwgPSBtZXJnZSh7fSwgaW5saW5lKTsKCi8qKgogKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hcgogKi8KCmlubGluZS5wZWRhbnRpYyA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7CiAgc3Ryb25nOiAvXl9fKD89XFMpKFtcc1xTXSo/XFMpX18oPyFfKXxeXCpcKig/PVxTKShbXHNcU10qP1xTKVwqXCooPyFcKikvLAogIGVtOiAvXl8oPz1cUykoW1xzXFNdKj9cUylfKD8hXyl8XlwqKD89XFMpKFtcc1xTXSo/XFMpXCooPyFcKikvCn0pOwoKLyoqCiAqIEdGTSBJbmxpbmUgR3JhbW1hcgogKi8KCmlubGluZS5nZm0gPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwgewogIGVzY2FwZTogcmVwbGFjZShpbmxpbmUuZXNjYXBlKSgnXSknLCAnfnxdKScpKCksCiAgdXJsOiAvXihodHRwcz86XC9cL1teXHM8XStbXjwuLDo7IicpXF1cc10pLywKICBkZWw6IC9efn4oPz1cUykoW1xzXFNdKj9cUyl+fi8sCiAgdGV4dDogcmVwbGFjZShpbmxpbmUudGV4dCkKICAgICgnXXwnLCAnfl18JykKICAgICgnfCcsICd8aHR0cHM/Oi8vfCcpCiAgICAoKQp9KTsKCi8qKgogKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hcgogKi8KCmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwgewogIGJyOiByZXBsYWNlKGlubGluZS5icikoJ3syLH0nLCAnKicpKCksCiAgdGV4dDogcmVwbGFjZShpbmxpbmUuZ2ZtLnRleHQpKCd7Mix9JywgJyonKSgpCn0pOwoKLyoqCiAqIElubGluZSBMZXhlciAmIENvbXBpbGVyCiAqLwoKZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHsKICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0czsKICB0aGlzLmxpbmtzID0gbGlua3M7CiAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7CiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXI7CiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICBpZiAoIXRoaXMubGlua3MpIHsKICAgIHRocm93IG5ldwogICAgICBFcnJvcignVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4nKTsKICB9CgogIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykgewogICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmJyZWFrczsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuZ2ZtOwogICAgfQogIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7CiAgICB0aGlzLnJ1bGVzID0gaW5saW5lLnBlZGFudGljOwogIH0KfQoKLyoqCiAqIEV4cG9zZSBJbmxpbmUgUnVsZXMKICovCgpJbmxpbmVMZXhlci5ydWxlcyA9IGlubGluZTsKCi8qKgogKiBTdGF0aWMgTGV4aW5nL0NvbXBpbGluZyBNZXRob2QKICovCgpJbmxpbmVMZXhlci5vdXRwdXQgPSBmdW5jdGlvbihzcmMsIGxpbmtzLCBvcHRpb25zKSB7CiAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7CiAgcmV0dXJuIGlubGluZS5vdXRwdXQoc3JjKTsKfTsKCi8qKgogKiBMZXhpbmcvQ29tcGlsaW5nCiAqLwoKSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKHNyYykgewogIHZhciBvdXQgPSAnJwogICAgLCBsaW5rCiAgICAsIHRleHQKICAgICwgaHJlZgogICAgLCBjYXA7CgogIHdoaWxlIChzcmMpIHsKICAgIC8vIGVzY2FwZQogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICBvdXQgKz0gY2FwWzFdOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBhdXRvbGluawogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykgewogICAgICAgIHRleHQgPSBjYXBbMV0uY2hhckF0KDYpID09PSAnOicKICAgICAgICAgID8gdGhpcy5tYW5nbGUoY2FwWzFdLnN1YnN0cmluZyg3KSkKICAgICAgICAgIDogdGhpcy5tYW5nbGUoY2FwWzFdKTsKICAgICAgICBocmVmID0gdGhpcy5tYW5nbGUoJ21haWx0bzonKSArIHRleHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pOwogICAgICAgIGhyZWYgPSB0ZXh0OwogICAgICB9CiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHVybCAoZ2ZtKQogICAgaWYgKCF0aGlzLmluTGluayAmJiAoY2FwID0gdGhpcy5ydWxlcy51cmwuZXhlYyhzcmMpKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7CiAgICAgIGhyZWYgPSB0ZXh0OwogICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyB0YWcKICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRhZy5leGVjKHNyYykpIHsKICAgICAgaWYgKCF0aGlzLmluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkgewogICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmluTGluayAmJiAvXjxcL2E+L2kudGVzdChjYXBbMF0pKSB7CiAgICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTsKICAgICAgfQogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICBvdXQgKz0gdGhpcy5vcHRpb25zLnNhbml0aXplCiAgICAgICAgPyBlc2NhcGUoY2FwWzBdKQogICAgICAgIDogY2FwWzBdOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBsaW5rCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICB0aGlzLmluTGluayA9IHRydWU7CiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCB7CiAgICAgICAgaHJlZjogY2FwWzJdLAogICAgICAgIHRpdGxlOiBjYXBbM10KICAgICAgfSk7CiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIHJlZmxpbmssIG5vbGluawogICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKQogICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXHMrL2csICcgJyk7CiAgICAgIGxpbmsgPSB0aGlzLmxpbmtzW2xpbmsudG9Mb3dlckNhc2UoKV07CiAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7CiAgICAgICAgb3V0ICs9IGNhcFswXS5jaGFyQXQoMCk7CiAgICAgICAgc3JjID0gY2FwWzBdLnN1YnN0cmluZygxKSArIHNyYzsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICB0aGlzLmluTGluayA9IHRydWU7CiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCBsaW5rKTsKICAgICAgdGhpcy5pbkxpbmsgPSBmYWxzZTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gc3Ryb25nCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnN0cm9uZyh0aGlzLm91dHB1dChjYXBbMl0gfHwgY2FwWzFdKSk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIGVtCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5lbS5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICAvLyBjb2RlCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkgewogICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpOwogICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5jb2Rlc3Bhbihlc2NhcGUoY2FwWzJdLCB0cnVlKSk7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIGJyCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuYnIoKTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gZGVsIChnZm0pCiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5kZWwuZXhlYyhzcmMpKSB7CiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7CiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgLy8gdGV4dAogICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHsKICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTsKICAgICAgb3V0ICs9IGVzY2FwZSh0aGlzLnNtYXJ0eXBhbnRzKGNhcFswXSkpOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICBpZiAoc3JjKSB7CiAgICAgIHRocm93IG5ldwogICAgICAgIEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7CiAgICB9CiAgfQoKICByZXR1cm4gb3V0Owp9OwoKLyoqCiAqIENvbXBpbGUgTGluawogKi8KCklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7CiAgdmFyIGhyZWYgPSBlc2NhcGUobGluay5ocmVmKQogICAgLCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsOwoKICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnCiAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSkKICAgIDogdGhpcy5yZW5kZXJlci5pbWFnZShocmVmLCB0aXRsZSwgZXNjYXBlKGNhcFsxXSkpOwp9OwoKLyoqCiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9ucwogKi8KCklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHsKICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7CiAgcmV0dXJuIHRleHQKICAgIC8vIGVtLWRhc2hlcwogICAgLnJlcGxhY2UoLy0tL2csICdcdTIwMTQnKQogICAgLy8gb3BlbmluZyBzaW5nbGVzCiAgICAucmVwbGFjZSgvKF58Wy1cdTIwMTQvKFxbeyJcc10pJy9nLCAnJDFcdTIwMTgnKQogICAgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXMKICAgIC5yZXBsYWNlKC8nL2csICdcdTIwMTknKQogICAgLy8gb3BlbmluZyBkb3VibGVzCiAgICAucmVwbGFjZSgvKF58Wy1cdTIwMTQvKFxbe1x1MjAxOFxzXSkiL2csICckMVx1MjAxYycpCiAgICAvLyBjbG9zaW5nIGRvdWJsZXMKICAgIC5yZXBsYWNlKC8iL2csICdcdTIwMWQnKQogICAgLy8gZWxsaXBzZXMKICAgIC5yZXBsYWNlKC9cLnszfS9nLCAnXHUyMDI2Jyk7Cn07CgovKioKICogTWFuZ2xlIExpbmtzCiAqLwoKSW5saW5lTGV4ZXIucHJvdG90eXBlLm1hbmdsZSA9IGZ1bmN0aW9uKHRleHQpIHsKICB2YXIgb3V0ID0gJycKICAgICwgbCA9IHRleHQubGVuZ3RoCiAgICAsIGkgPSAwCiAgICAsIGNoOwoKICBmb3IgKDsgaSA8IGw7IGkrKykgewogICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7CiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkgewogICAgICBjaCA9ICd4JyArIGNoLnRvU3RyaW5nKDE2KTsKICAgIH0KICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7CiAgfQoKICByZXR1cm4gb3V0Owp9OwoKLyoqCiAqIFJlbmRlcmVyCiAqLwoKZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucykgewogIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307Cn0KClJlbmRlcmVyLnByb3RvdHlwZS5jb2RlID0gZnVuY3Rpb24oY29kZSwgbGFuZywgZXNjYXBlZCkgewogIGlmICh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KSB7CiAgICB2YXIgb3V0ID0gdGhpcy5vcHRpb25zLmhpZ2hsaWdodChjb2RlLCBsYW5nKTsKICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHsKICAgICAgZXNjYXBlZCA9IHRydWU7CiAgICAgIGNvZGUgPSBvdXQ7CiAgICB9CiAgfQoKICBpZiAoIWxhbmcpIHsKICAgIHJldHVybiAnPHByZT48Y29kZT4nCiAgICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKQogICAgICArICdcbjwvY29kZT48L3ByZT4nOwogIH0KCiAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPSInCiAgICArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4CiAgICArIGVzY2FwZShsYW5nLCB0cnVlKQogICAgKyAnIj4nCiAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSkKICAgICsgJ1xuPC9jb2RlPjwvcHJlPlxuJzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS5ibG9ja3F1b3RlID0gZnVuY3Rpb24ocXVvdGUpIHsKICByZXR1cm4gJzxibG9ja3F1b3RlPlxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cbic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHsKICByZXR1cm4gaHRtbDsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS5oZWFkaW5nID0gZnVuY3Rpb24odGV4dCwgbGV2ZWwsIHJhdykgewogIHJldHVybiAnPGgnCiAgICArIGxldmVsCiAgICArICcgaWQ9IicKICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeAogICAgKyByYXcudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXlx3XSsvZywgJy0nKQogICAgKyAnIj4nCiAgICArIHRleHQKICAgICsgJzwvaCcKICAgICsgbGV2ZWwKICAgICsgJz5cbic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxoci8+XG4nIDogJzxocj5cbic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQpIHsKICB2YXIgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJzsKICByZXR1cm4gJzwnICsgdHlwZSArICc+XG4nICsgYm9keSArICc8LycgKyB0eXBlICsgJz5cbic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW0gPSBmdW5jdGlvbih0ZXh0KSB7CiAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cbic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkgewogIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxuJzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uKGhlYWRlciwgYm9keSkgewogIHJldHVybiAnPHRhYmxlPlxuJwogICAgKyAnPHRoZWFkPlxuJwogICAgKyBoZWFkZXIKICAgICsgJzwvdGhlYWQ+XG4nCiAgICArICc8dGJvZHk+XG4nCiAgICArIGJvZHkKICAgICsgJzwvdGJvZHk+XG4nCiAgICArICc8L3RhYmxlPlxuJzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS50YWJsZXJvdyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHsKICByZXR1cm4gJzx0cj5cbicgKyBjb250ZW50ICsgJzwvdHI+XG4nOwp9OwoKUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlY2VsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZsYWdzKSB7CiAgdmFyIHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJzsKICB2YXIgdGFnID0gZmxhZ3MuYWxpZ24KICAgID8gJzwnICsgdHlwZSArICcgc3R5bGU9InRleHQtYWxpZ246JyArIGZsYWdzLmFsaWduICsgJyI+JwogICAgOiAnPCcgKyB0eXBlICsgJz4nOwogIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxuJzsKfTsKCi8vIHNwYW4gbGV2ZWwgcmVuZGVyZXIKUmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9IGZ1bmN0aW9uKHRleHQpIHsKICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+JzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHsKICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPSBmdW5jdGlvbih0ZXh0KSB7CiAgcmV0dXJuICc8Y29kZT4nICsgdGV4dCArICc8L2NvZGU+JzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkgewogIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nOwp9OwoKUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHsKICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+JzsKfTsKClJlbmRlcmVyLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHsKICBpZiAodGhpcy5vcHRpb25zLnNhbml0aXplKSB7CiAgICB0cnkgewogICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSkKICAgICAgICAucmVwbGFjZSgvW15cdzpdL2csICcnKQogICAgICAgIC50b0xvd2VyQ2FzZSgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgICBpZiAocHJvdC5pbmRleE9mKCdqYXZhc2NyaXB0OicpID09PSAwKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0KICB9CiAgdmFyIG91dCA9ICc8YSBocmVmPSInICsgaHJlZiArICciJzsKICBpZiAodGl0bGUpIHsKICAgIG91dCArPSAnIHRpdGxlPSInICsgdGl0bGUgKyAnIic7CiAgfQogIG91dCArPSAnPicgKyB0ZXh0ICsgJzwvYT4nOwogIHJldHVybiBvdXQ7Cn07CgpSZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkgewogIHZhciBvdXQgPSAnPGltZyBzcmM9IicgKyBocmVmICsgJyIgYWx0PSInICsgdGV4dCArICciJzsKICBpZiAodGl0bGUpIHsKICAgIG91dCArPSAnIHRpdGxlPSInICsgdGl0bGUgKyAnIic7CiAgfQogIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nOwogIHJldHVybiBvdXQ7Cn07CgovKioKICogUGFyc2luZyAmIENvbXBpbGluZwogKi8KCmZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7CiAgdGhpcy50b2tlbnMgPSBbXTsKICB0aGlzLnRva2VuID0gbnVsbDsKICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0czsKICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyOwogIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7CiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zOwp9CgovKioKICogU3RhdGljIFBhcnNlIE1ldGhvZAogKi8KClBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucywgcmVuZGVyZXIpIHsKICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zLCByZW5kZXJlcik7CiAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmMpOwp9OwoKLyoqCiAqIFBhcnNlIExvb3AKICovCgpQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7CiAgdGhpcy5pbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIoc3JjLmxpbmtzLCB0aGlzLm9wdGlvbnMsIHRoaXMucmVuZGVyZXIpOwogIHRoaXMudG9rZW5zID0gc3JjLnJldmVyc2UoKTsKCiAgdmFyIG91dCA9ICcnOwogIHdoaWxlICh0aGlzLm5leHQoKSkgewogICAgb3V0ICs9IHRoaXMudG9rKCk7CiAgfQoKICByZXR1cm4gb3V0Owp9OwoKLyoqCiAqIE5leHQgVG9rZW4KICovCgpQYXJzZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpOwp9OwoKLyoqCiAqIFByZXZpZXcgTmV4dCBUb2tlbgogKi8KClBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkgewogIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSB8fCAwOwp9OwoKLyoqCiAqIFBhcnNlIFRleHQgVG9rZW5zCiAqLwoKUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRleHQgPSBmdW5jdGlvbigpIHsKICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDsKCiAgd2hpbGUgKHRoaXMucGVlaygpLnR5cGUgPT09ICd0ZXh0JykgewogICAgYm9keSArPSAnXG4nICsgdGhpcy5uZXh0KCkudGV4dDsKICB9CgogIHJldHVybiB0aGlzLmlubGluZS5vdXRwdXQoYm9keSk7Cn07CgovKioKICogUGFyc2UgQ3VycmVudCBUb2tlbgogKi8KClBhcnNlci5wcm90b3R5cGUudG9rID0gZnVuY3Rpb24oKSB7CiAgc3dpdGNoICh0aGlzLnRva2VuLnR5cGUpIHsKICAgIGNhc2UgJ3NwYWNlJzogewogICAgICByZXR1cm4gJyc7CiAgICB9CiAgICBjYXNlICdocic6IHsKICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKTsKICAgIH0KICAgIGNhc2UgJ2hlYWRpbmcnOiB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhlYWRpbmcoCiAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCksCiAgICAgICAgdGhpcy50b2tlbi5kZXB0aCwKICAgICAgICB0aGlzLnRva2VuLnRleHQpOwogICAgfQogICAgY2FzZSAnY29kZSc6IHsKICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuY29kZSh0aGlzLnRva2VuLnRleHQsCiAgICAgICAgdGhpcy50b2tlbi5sYW5nLAogICAgICAgIHRoaXMudG9rZW4uZXNjYXBlZCk7CiAgICB9CiAgICBjYXNlICd0YWJsZSc6IHsKICAgICAgdmFyIGhlYWRlciA9ICcnCiAgICAgICAgLCBib2R5ID0gJycKICAgICAgICAsIGkKICAgICAgICAsIHJvdwogICAgICAgICwgY2VsbAogICAgICAgICwgZmxhZ3MKICAgICAgICAsIGo7CgogICAgICAvLyBoZWFkZXIKICAgICAgY2VsbCA9ICcnOwogICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5oZWFkZXIubGVuZ3RoOyBpKyspIHsKICAgICAgICBmbGFncyA9IHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltpXSB9OwogICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoCiAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi5oZWFkZXJbaV0pLAogICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH0KICAgICAgICApOwogICAgICB9CiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uY2VsbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldOwoKICAgICAgICBjZWxsID0gJyc7CiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykgewogICAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbCgKICAgICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHJvd1tqXSksCiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfQogICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGJvZHkgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpOwogICAgfQogICAgY2FzZSAnYmxvY2txdW90ZV9zdGFydCc6IHsKICAgICAgdmFyIGJvZHkgPSAnJzsKCiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnYmxvY2txdW90ZV9lbmQnKSB7CiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5ibG9ja3F1b3RlKGJvZHkpOwogICAgfQogICAgY2FzZSAnbGlzdF9zdGFydCc6IHsKICAgICAgdmFyIGJvZHkgPSAnJwogICAgICAgICwgb3JkZXJlZCA9IHRoaXMudG9rZW4ub3JkZXJlZDsKCiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7CiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0KGJvZHksIG9yZGVyZWQpOwogICAgfQogICAgY2FzZSAnbGlzdF9pdGVtX3N0YXJ0JzogewogICAgICB2YXIgYm9keSA9ICcnOwoKICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykgewogICAgICAgIGJvZHkgKz0gdGhpcy50b2tlbi50eXBlID09PSAndGV4dCcKICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKQogICAgICAgICAgOiB0aGlzLnRvaygpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KTsKICAgIH0KICAgIGNhc2UgJ2xvb3NlX2l0ZW1fc3RhcnQnOiB7CiAgICAgIHZhciBib2R5ID0gJyc7CgogICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfaXRlbV9lbmQnKSB7CiAgICAgICAgYm9keSArPSB0aGlzLnRvaygpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KTsKICAgIH0KICAgIGNhc2UgJ2h0bWwnOiB7CiAgICAgIHZhciBodG1sID0gIXRoaXMudG9rZW4ucHJlICYmICF0aGlzLm9wdGlvbnMucGVkYW50aWMKICAgICAgICA/IHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpCiAgICAgICAgOiB0aGlzLnRva2VuLnRleHQ7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmh0bWwoaHRtbCk7CiAgICB9CiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7CiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSk7CiAgICB9CiAgICBjYXNlICd0ZXh0JzogewogICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5wYXJzZVRleHQoKSk7CiAgICB9CiAgfQp9OwoKLyoqCiAqIEhlbHBlcnMKICovCgpmdW5jdGlvbiBlc2NhcGUoaHRtbCwgZW5jb2RlKSB7CiAgcmV0dXJuIGh0bWwKICAgIC5yZXBsYWNlKCFlbmNvZGUgPyAvJig/ISM/XHcrOykvZyA6IC8mL2csICcmYW1wOycpCiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpCiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpCiAgICAucmVwbGFjZSgvIi9nLCAnJnF1b3Q7JykKICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpOwp9CgpmdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7CiAgcmV0dXJuIGh0bWwucmVwbGFjZSgvJihbI1x3XSspOy9nLCBmdW5jdGlvbihfLCBuKSB7CiAgICBuID0gbi50b0xvd2VyQ2FzZSgpOwogICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7CiAgICBpZiAobi5jaGFyQXQoMCkgPT09ICcjJykgewogICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4JwogICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKQogICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSgrbi5zdWJzdHJpbmcoMSkpOwogICAgfQogICAgcmV0dXJuICcnOwogIH0pOwp9CgpmdW5jdGlvbiByZXBsYWNlKHJlZ2V4LCBvcHQpIHsKICByZWdleCA9IHJlZ2V4LnNvdXJjZTsKICBvcHQgPSBvcHQgfHwgJyc7CiAgcmV0dXJuIGZ1bmN0aW9uIHNlbGYobmFtZSwgdmFsKSB7CiAgICBpZiAoIW5hbWUpIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpOwogICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7CiAgICB2YWwgPSB2YWwucmVwbGFjZSgvKF58W15cW10pXF4vZywgJyQxJyk7CiAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTsKICAgIHJldHVybiBzZWxmOwogIH07Cn0KCmZ1bmN0aW9uIG5vb3AoKSB7fQpub29wLmV4ZWMgPSBub29wOwoKZnVuY3Rpb24gbWVyZ2Uob2JqKSB7CiAgdmFyIGkgPSAxCiAgICAsIHRhcmdldAogICAgLCBrZXk7CgogIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB0YXJnZXQgPSBhcmd1bWVudHNbaV07CiAgICBmb3IgKGtleSBpbiB0YXJnZXQpIHsKICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHsKICAgICAgICBvYmpba2V5XSA9IHRhcmdldFtrZXldOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gb2JqOwp9CgoKLyoqCiAqIE1hcmtlZAogKi8KCmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHsKICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykgewogICAgaWYgKCFjYWxsYmFjaykgewogICAgICBjYWxsYmFjayA9IG9wdDsKICAgICAgb3B0ID0gbnVsbDsKICAgIH0KCiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pOwoKICAgIHZhciBoaWdobGlnaHQgPSBvcHQuaGlnaGxpZ2h0CiAgICAgICwgdG9rZW5zCiAgICAgICwgcGVuZGluZwogICAgICAsIGkgPSAwOwoKICAgIHRyeSB7CiAgICAgIHRva2VucyA9IExleGVyLmxleChzcmMsIG9wdCkKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpOwogICAgfQoKICAgIHBlbmRpbmcgPSB0b2tlbnMubGVuZ3RoOwoKICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7CiAgICAgIGlmIChlcnIpIHsKICAgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0OwogICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpOwogICAgICB9CgogICAgICB2YXIgb3V0OwoKICAgICAgdHJ5IHsKICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgZXJyID0gZTsKICAgICAgfQoKICAgICAgb3B0LmhpZ2hsaWdodCA9IGhpZ2hsaWdodDsKCiAgICAgIHJldHVybiBlcnIKICAgICAgICA/IGNhbGxiYWNrKGVycikKICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7CiAgICB9OwoKICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7CiAgICAgIHJldHVybiBkb25lKCk7CiAgICB9CgogICAgZGVsZXRlIG9wdC5oaWdobGlnaHQ7CgogICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpOwoKICAgIGZvciAoOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIChmdW5jdGlvbih0b2tlbikgewogICAgICAgIGlmICh0b2tlbi50eXBlICE9PSAnY29kZScpIHsKICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGlnaGxpZ2h0KHRva2VuLnRleHQsIHRva2VuLmxhbmcsIGZ1bmN0aW9uKGVyciwgY29kZSkgewogICAgICAgICAgaWYgKGVycikgcmV0dXJuIGRvbmUoZXJyKTsKICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkgewogICAgICAgICAgICByZXR1cm4gLS1wZW5kaW5nIHx8IGRvbmUoKTsKICAgICAgICAgIH0KICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlOwogICAgICAgICAgdG9rZW4uZXNjYXBlZCA9IHRydWU7CiAgICAgICAgICAtLXBlbmRpbmcgfHwgZG9uZSgpOwogICAgICAgIH0pOwogICAgICB9KSh0b2tlbnNbaV0pOwogICAgfQoKICAgIHJldHVybjsKICB9CiAgdHJ5IHsKICAgIGlmIChvcHQpIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCk7CiAgICByZXR1cm4gUGFyc2VyLnBhcnNlKExleGVyLmxleChzcmMsIG9wdCksIG9wdCk7CiAgfSBjYXRjaCAoZSkgewogICAgZS5tZXNzYWdlICs9ICdcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWQuJzsKICAgIGlmICgob3B0IHx8IG1hcmtlZC5kZWZhdWx0cykuc2lsZW50KSB7CiAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJlZDo8L3A+PHByZT4nCiAgICAgICAgKyBlc2NhcGUoZS5tZXNzYWdlICsgJycsIHRydWUpCiAgICAgICAgKyAnPC9wcmU+JzsKICAgIH0KICAgIHRocm93IGU7CiAgfQp9CgovKioKICogT3B0aW9ucwogKi8KCm1hcmtlZC5vcHRpb25zID0KbWFya2VkLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHQpIHsKICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7CiAgcmV0dXJuIG1hcmtlZDsKfTsKCm1hcmtlZC5kZWZhdWx0cyA9IHsKICBnZm06IHRydWUsCiAgdGFibGVzOiB0cnVlLAogIGJyZWFrczogZmFsc2UsCiAgcGVkYW50aWM6IGZhbHNlLAogIHNhbml0aXplOiBmYWxzZSwKICBzbWFydExpc3RzOiBmYWxzZSwKICBzaWxlbnQ6IGZhbHNlLAogIGhpZ2hsaWdodDogbnVsbCwKICBsYW5nUHJlZml4OiAnbGFuZy0nLAogIHNtYXJ0eXBhbnRzOiBmYWxzZSwKICBoZWFkZXJQcmVmaXg6ICcnLAogIHJlbmRlcmVyOiBuZXcgUmVuZGVyZXIsCiAgeGh0bWw6IGZhbHNlCn07CgovKioKICogRXhwb3NlCiAqLwoKbWFya2VkLlBhcnNlciA9IFBhcnNlcjsKbWFya2VkLnBhcnNlciA9IFBhcnNlci5wYXJzZTsKCm1hcmtlZC5SZW5kZXJlciA9IFJlbmRlcmVyOwoKbWFya2VkLkxleGVyID0gTGV4ZXI7Cm1hcmtlZC5sZXhlciA9IExleGVyLmxleDsKCm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyOwptYXJrZWQuaW5saW5lTGV4ZXIgPSBJbmxpbmVMZXhlci5vdXRwdXQ7CgptYXJrZWQucGFyc2UgPSBtYXJrZWQ7CgppZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7CiAgbW9kdWxlLmV4cG9ydHMgPSBtYXJrZWQ7Cn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7CiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFya2VkOyB9KTsKfSBlbHNlIHsKICB0aGlzLm1hcmtlZCA9IG1hcmtlZDsKfQoKfSkuY2FsbChmdW5jdGlvbigpIHsKICByZXR1cm4gdGhpcyB8fCAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpOwp9KCkpOw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887965" offset="0" length="5520" />
          <PacketInfo time="2972887980" offset="5520" length="1795" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="156" hostname="10.239.251.82" path="/swagger-static/lib/swagger-oauth.js" url="http://10.239.251.82:8080/swagger-static/lib/swagger-oauth.js" ip="10.239.251.82" port="8080" connectionId="8" origin="HTML" frame="1" startTime="2972887902" endTime="2972887965">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2Vy</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9saWIvc3dhZ2dlci1vYXV0aC5qcyBIVFRQLzEuMQ0KSG9zdDogMTAuMjM5LjI1MS44Mjo4MDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpBY2NlcHQ6ICovKg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2DQpSZWZlcmVyOiBodHRwOi8vMTAuMjM5LjI1MS44Mjo4MDgwL3N3YWdnZXINCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgc2RjaA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Encoding" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ImIxMzlkZDZhYTA3ZDIyMWI1YzM0Mzg2ZmU5NTM0ODM4LS1nemlwIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MjY5OA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIxIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpFVGFnOiAiYjEzOWRkNmFhMDdkMjIxYjVjMzQzODZmZTk1MzQ4MzgtLWd6aXAiDQpDb250ZW50LUxlbmd0aDogMjY5OA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dmFyIGFwcE5hbWU7CnZhciBwb3B1cE1hc2s7CnZhciBwb3B1cERpYWxvZzsKdmFyIGNsaWVudElkOwp2YXIgcmVhbG07CnZhciBvYXV0aDJLZXlOYW1lOwp2YXIgcmVkaXJlY3RfdXJpOwoKZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgdmFyIHNjb3BlcyA9IFtdOwoKICB2YXIgYXV0aHMgPSB3aW5kb3cuc3dhZ2dlclVpLmFwaS5hdXRoU2NoZW1lcyB8fCB3aW5kb3cuc3dhZ2dlclVpLmFwaS5zZWN1cml0eURlZmluaXRpb25zOwogIGlmKGF1dGhzKSB7CiAgICB2YXIga2V5OwogICAgdmFyIGRlZnMgPSBhdXRoczsKICAgIGZvcihrZXkgaW4gZGVmcykgewogICAgICB2YXIgYXV0aCA9IGRlZnNba2V5XTsKICAgICAgaWYoYXV0aC50eXBlID09PSAnb2F1dGgyJyAmJiBhdXRoLnNjb3BlcykgewogICAgICAgIG9hdXRoMktleU5hbWUgPSBrZXk7CiAgICAgICAgdmFyIHNjb3BlOwogICAgICAgIGlmKEFycmF5LmlzQXJyYXkoYXV0aC5zY29wZXMpKSB7CiAgICAgICAgICAvLyAxLjIgc3VwcG9ydAogICAgICAgICAgdmFyIGk7CiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCBhdXRoLnNjb3Blcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBzY29wZXMucHVzaChhdXRoLnNjb3Blc1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgLy8gMi4wIHN1cHBvcnQKICAgICAgICAgIGZvcihzY29wZSBpbiBhdXRoLnNjb3BlcykgewogICAgICAgICAgICBzY29wZXMucHVzaCh7c2NvcGU6IHNjb3BlLCBkZXNjcmlwdGlvbjogYXV0aC5zY29wZXNbc2NvcGVdfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBpZih3aW5kb3cuc3dhZ2dlclVpLmFwaQogICAgJiYgd2luZG93LnN3YWdnZXJVaS5hcGkuaW5mbykgewogICAgYXBwTmFtZSA9IHdpbmRvdy5zd2FnZ2VyVWkuYXBpLmluZm8udGl0bGU7CiAgfQoKICBwb3B1cERpYWxvZyA9ICQoCiAgICBbCiAgICAgICc8ZGl2IGNsYXNzPSJhcGktcG9wdXAtZGlhbG9nIj4nLAogICAgICAnPGRpdiBjbGFzcz0iYXBpLXBvcHVwLXRpdGxlIj5TZWxlY3QgT0F1dGgyLjAgU2NvcGVzPC9kaXY+JywKICAgICAgJzxkaXYgY2xhc3M9ImFwaS1wb3B1cC1jb250ZW50Ij4nLAogICAgICAgICc8cD5TY29wZXMgYXJlIHVzZWQgdG8gZ3JhbnQgYW4gYXBwbGljYXRpb24gZGlmZmVyZW50IGxldmVscyBvZiBhY2Nlc3MgdG8gZGF0YSBvbiBiZWhhbGYgb2YgdGhlIGVuZCB1c2VyLiBFYWNoIEFQSSBtYXkgZGVjbGFyZSBvbmUgb3IgbW9yZSBzY29wZXMuJywKICAgICAgICAgICc8YSBocmVmPSIjIj5MZWFybiBob3cgdG8gdXNlPC9hPicsCiAgICAgICAgJzwvcD4nLAogICAgICAgICc8cD48c3Ryb25nPicgKyBhcHBOYW1lICsgJzwvc3Ryb25nPiBBUEkgcmVxdWlyZXMgdGhlIGZvbGxvd2luZyBzY29wZXMuIFNlbGVjdCB3aGljaCBvbmVzIHlvdSB3YW50IHRvIGdyYW50IHRvIFN3YWdnZXIgVUkuPC9wPicsCiAgICAgICAgJzx1bCBjbGFzcz0iYXBpLXBvcHVwLXNjb3BlcyI+JywKICAgICAgICAnPC91bD4nLAogICAgICAgICc8cCBjbGFzcz0iZXJyb3ItbXNnIj48L3A+JywKICAgICAgICAnPGRpdiBjbGFzcz0iYXBpLXBvcHVwLWFjdGlvbnMiPjxidXR0b24gY2xhc3M9ImFwaS1wb3B1cC1hdXRoYnRuIGFwaS1idXR0b24gZ3JlZW4iIHR5cGU9ImJ1dHRvbiI+QXV0aG9yaXplPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0iYXBpLXBvcHVwLWNhbmNlbCBhcGktYnV0dG9uIGdyYXkiIHR5cGU9ImJ1dHRvbiI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JywKICAgICAgJzwvZGl2PicsCiAgICAgICc8L2Rpdj4nXS5qb2luKCcnKSk7CiAgJChkb2N1bWVudC5ib2R5KS5hcHBlbmQocG9wdXBEaWFsb2cpOwoKICBwb3B1cCA9IHBvcHVwRGlhbG9nLmZpbmQoJ3VsLmFwaS1wb3B1cC1zY29wZXMnKS5lbXB0eSgpOwogIGZvciAoaSA9IDA7IGkgPCBzY29wZXMubGVuZ3RoOyBpICsrKSB7CiAgICBzY29wZSA9IHNjb3Blc1tpXTsKICAgIHN0ciA9ICc8bGk+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2NvcGVfJyArIGkgKyAnIiBzY29wZT0iJyArIHNjb3BlLnNjb3BlICsgJyIvPicgKyAnPGxhYmVsIGZvcj0ic2NvcGVfJyArIGkgKyAnIj4nICsgc2NvcGUuc2NvcGU7CiAgICBpZiAoc2NvcGUuZGVzY3JpcHRpb24pIHsKICAgICAgc3RyICs9ICc8YnIvPjxzcGFuIGNsYXNzPSJhcGktc2NvcGUtZGVzYyI+JyArIHNjb3BlLmRlc2NyaXB0aW9uICsgJzwvc3Bhbj4nOwogICAgfQogICAgc3RyICs9ICc8L2xhYmVsPjwvbGk+JzsKICAgIHBvcHVwLmFwcGVuZChzdHIpOwogIH0KCiAgdmFyICR3aW4gPSAkKHdpbmRvdyksCiAgICBkdyA9ICR3aW4ud2lkdGgoKSwKICAgIGRoID0gJHdpbi5oZWlnaHQoKSwKICAgIHN0ID0gJHdpbi5zY3JvbGxUb3AoKSwKICAgIGRsZ1dkID0gcG9wdXBEaWFsb2cub3V0ZXJXaWR0aCgpLAogICAgZGxnSHQgPSBwb3B1cERpYWxvZy5vdXRlckhlaWdodCgpLAogICAgdG9wID0gKGRoIC1kbGdIdCkvMiArIHN0LAogICAgbGVmdCA9IChkdyAtIGRsZ1dkKS8yOwoKICBwb3B1cERpYWxvZy5jc3MoewogICAgdG9wOiAodG9wIDwgMD8gMCA6IHRvcCkgKyAncHgnLAogICAgbGVmdDogKGxlZnQgPCAwPyAwIDogbGVmdCkgKyAncHgnCiAgfSk7CgogIHBvcHVwRGlhbG9nLmZpbmQoJ2J1dHRvbi5hcGktcG9wdXAtY2FuY2VsJykuY2xpY2soZnVuY3Rpb24oKSB7CiAgICBwb3B1cE1hc2suaGlkZSgpOwogICAgcG9wdXBEaWFsb2cuaGlkZSgpOwogICAgcG9wdXBEaWFsb2cuZW1wdHkoKTsKICAgIHBvcHVwRGlhbG9nID0gW107CiAgfSk7CgogICQoJ2J1dHRvbi5hcGktcG9wdXAtYXV0aGJ0bicpLnVuYmluZCgpOwogIHBvcHVwRGlhbG9nLmZpbmQoJ2J1dHRvbi5hcGktcG9wdXAtYXV0aGJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgcG9wdXBNYXNrLmhpZGUoKTsKICAgIHBvcHVwRGlhbG9nLmhpZGUoKTsKCiAgICB2YXIgYXV0aFNjaGVtZXMgPSB3aW5kb3cuc3dhZ2dlclVpLmFwaS5hdXRoU2NoZW1lczsKICAgIHZhciBob3N0ID0gd2luZG93LmxvY2F0aW9uOwogICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKDAsIGxvY2F0aW9uLnBhdGhuYW1lLmxhc3RJbmRleE9mKCIvIikpOwogICAgdmFyIHJlZGlyZWN0VXJsID0gaG9zdC5wcm90b2NvbCArICcvLycgKyBob3N0Lmhvc3QgKyBwYXRobmFtZSArICcvbzJjLmh0bWwnOwogICAgdmFyIHVybCA9IG51bGw7CgogICAgZm9yICh2YXIga2V5IGluIGF1dGhTY2hlbWVzKSB7CiAgICAgIGlmIChhdXRoU2NoZW1lcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7CiAgICAgICAgdmFyIGZsb3cgPSBhdXRoU2NoZW1lc1trZXldLmZsb3c7CiAgICAgICAgCiAgICAgICAgaWYoYXV0aFNjaGVtZXNba2V5XS50eXBlID09PSAnb2F1dGgyJyAmJiBmbG93ICYmIChmbG93ID09PSAnaW1wbGljaXQnIHx8IGZsb3cgPT09ICdhY2Nlc3NDb2RlJykpIHsKICAgICAgICAgIHZhciBkZXRzID0gYXV0aFNjaGVtZXNba2V5XTsKICAgICAgICAgIHVybCA9IGRldHMuYXV0aG9yaXphdGlvblVybCArICc/cmVzcG9uc2VfdHlwZT0nICsgKGZsb3cgPT09ICdpbXBsaWNpdCcgPyAndG9rZW4nIDogJ2NvZGUnKTsKICAgICAgICAgIHdpbmRvdy5zd2FnZ2VyVWkudG9rZW5OYW1lID0gZGV0cy50b2tlbk5hbWUgfHwgJ2FjY2Vzc190b2tlbic7CiAgICAgICAgICB3aW5kb3cuc3dhZ2dlclVpLnRva2VuVXJsID0gKGZsb3cgPT09ICdhY2Nlc3NDb2RlJyA/IGRldHMudG9rZW5VcmwgOiBudWxsKTsgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoYXV0aFNjaGVtZXNba2V5XS5ncmFudFR5cGVzKSB7CiAgICAgICAgICAvLyAxLjIgc3VwcG9ydAogICAgICAgICAgdmFyIG8gPSBhdXRoU2NoZW1lc1trZXldLmdyYW50VHlwZXM7CiAgICAgICAgICBmb3IodmFyIHQgaW4gbykgewogICAgICAgICAgICBpZihvLmhhc093blByb3BlcnR5KHQpICYmIHQgPT09ICdpbXBsaWNpdCcpIHsKICAgICAgICAgICAgICB2YXIgZGV0cyA9IG9bdF07CiAgICAgICAgICAgICAgdmFyIGVwID0gZGV0cy5sb2dpbkVuZHBvaW50LnVybDsKICAgICAgICAgICAgICB1cmwgPSBkZXRzLmxvZ2luRW5kcG9pbnQudXJsICsgJz9yZXNwb25zZV90eXBlPXRva2VuJzsKICAgICAgICAgICAgICB3aW5kb3cuc3dhZ2dlclVpLnRva2VuTmFtZSA9IGRldHMudG9rZW5OYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKG8uaGFzT3duUHJvcGVydHkodCkgJiYgdCA9PT0gJ2FjY2Vzc0NvZGUnKSB7CiAgICAgICAgICAgICAgdmFyIGRldHMgPSBvW3RdOwogICAgICAgICAgICAgIHZhciBlcCA9IGRldHMudG9rZW5SZXF1ZXN0RW5kcG9pbnQudXJsOwogICAgICAgICAgICAgIHVybCA9IGRldHMudG9rZW5SZXF1ZXN0RW5kcG9pbnQudXJsICsgJz9yZXNwb25zZV90eXBlPWNvZGUnOwogICAgICAgICAgICAgIHdpbmRvdy5zd2FnZ2VyVWkudG9rZW5OYW1lID0gZGV0cy50b2tlbk5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHZhciBzY29wZXMgPSBbXQogICAgdmFyIG8gPSAkKCcuYXBpLXBvcHVwLXNjb3BlcycpLmZpbmQoJ2lucHV0OmNoZWNrZWQnKTsKCiAgICBmb3IoayA9MDsgayA8IG8ubGVuZ3RoOyBrKyspIHsKICAgICAgdmFyIHNjb3BlID0gJChvW2tdKS5hdHRyKCdzY29wZScpOwogICAgICAKICAgICAgaWYgKHNjb3Blcy5pbmRleE9mKHNjb3BlKSA9PT0gLTEpCiAgICAgICAgc2NvcGVzLnB1c2goc2NvcGUpOwogICAgfQoKICAgIHdpbmRvdy5lbmFibGVkU2NvcGVzPXNjb3BlczsKCiAgICByZWRpcmVjdF91cmkgPSByZWRpcmVjdFVybDsKCiAgICB1cmwgKz0gJyZyZWRpcmVjdF91cmk9JyArIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVybCk7CiAgICB1cmwgKz0gJyZyZWFsbT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlYWxtKTsKICAgIHVybCArPSAnJmNsaWVudF9pZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNsaWVudElkKTsKICAgIHVybCArPSAnJnNjb3BlPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2NvcGVzKTsKCiAgICB3aW5kb3cub3Blbih1cmwpOwogIH0pOwoKICBwb3B1cE1hc2suc2hvdygpOwogIHBvcHVwRGlhbG9nLnNob3coKTsKICByZXR1cm47Cn0KCgpmdW5jdGlvbiBoYW5kbGVMb2dvdXQoKSB7CiAgZm9yKGtleSBpbiB3aW5kb3cuYXV0aG9yaXphdGlvbnMuYXV0aHopewogICAgd2luZG93LmF1dGhvcml6YXRpb25zLnJlbW92ZShrZXkpCiAgfQogIHdpbmRvdy5lbmFibGVkU2NvcGVzID0gbnVsbDsKICAkKCcuYXBpLWljLmljLW9uJykuYWRkQ2xhc3MoJ2ljLW9mZicpOwogICQoJy5hcGktaWMuaWMtb24nKS5yZW1vdmVDbGFzcygnaWMtb24nKTsKCiAgLy8gc2V0IHRoZSBpbmZvIGJveAogICQoJy5hcGktaWMuaWMtd2FybmluZycpLmFkZENsYXNzKCdpYy1lcnJvcicpOwogICQoJy5hcGktaWMuaWMtd2FybmluZycpLnJlbW92ZUNsYXNzKCdpYy13YXJuaW5nJyk7Cn0KCmZ1bmN0aW9uIGluaXRPQXV0aChvcHRzKSB7CiAgdmFyIG8gPSAob3B0c3x8e30pOwogIHZhciBlcnJvcnMgPSBbXTsKCiAgYXBwTmFtZSA9IChvLmFwcE5hbWV8fGVycm9ycy5wdXNoKCdtaXNzaW5nIGFwcE5hbWUnKSk7CiAgcG9wdXBNYXNrID0gKG8ucG9wdXBNYXNrfHwkKCcjYXBpLWNvbW1vbi1tYXNrJykpOwogIHBvcHVwRGlhbG9nID0gKG8ucG9wdXBEaWFsb2d8fCQoJy5hcGktcG9wdXAtZGlhbG9nJykpOwogIGNsaWVudElkID0gKG8uY2xpZW50SWR8fGVycm9ycy5wdXNoKCdtaXNzaW5nIGNsaWVudCBpZCcpKTsKICByZWFsbSA9IChvLnJlYWxtfHxlcnJvcnMucHVzaCgnbWlzc2luZyByZWFsbScpKTsKCiAgaWYoZXJyb3JzLmxlbmd0aCA+IDApewogICAgbG9nKCdhdXRoIHVuYWJsZSBpbml0aWFsaXplIG9hdXRoOiAnICsgZXJyb3JzKTsKICAgIHJldHVybjsKICB9CgogICQoJ3ByZSBjb2RlJykuZWFjaChmdW5jdGlvbihpLCBlKSB7aGxqcy5oaWdobGlnaHRCbG9jayhlKX0pOwogICQoJy5hcGktaWMnKS51bmJpbmQoKTsKICAkKCcuYXBpLWljJykuY2xpY2soZnVuY3Rpb24ocykgewogICAgaWYoJChzLnRhcmdldCkuaGFzQ2xhc3MoJ2ljLW9mZicpKQogICAgICBoYW5kbGVMb2dpbigpOwogICAgZWxzZSB7CiAgICAgIGhhbmRsZUxvZ291dCgpOwogICAgfQogICAgZmFsc2U7CiAgfSk7Cn0KCmZ1bmN0aW9uIHByb2Nlc3NPQXV0aENvZGUoZGF0YSkgewogIHZhciBwYXJhbXMgPSB7CiAgICAnY2xpZW50X2lkJzogY2xpZW50SWQsCiAgICAnY29kZSc6IGRhdGEuY29kZSwKICAgICdncmFudF90eXBlJzogJ2F1dGhvcml6YXRpb25fY29kZScsCiAgICAncmVkaXJlY3RfdXJpJzogcmVkaXJlY3RfdXJpCiAgfQogICQuYWpheCgKICB7CiAgICB1cmwgOiB3aW5kb3cuc3dhZ2dlclVpLnRva2VuVXJsLAogICAgdHlwZTogIlBPU1QiLAogICAgZGF0YTogcGFyYW1zLAogICAgc3VjY2VzczpmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgCiAgICB7CiAgICAgIG9uT0F1dGhDb21wbGV0ZShkYXRhKTsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSAKICAgIHsKICAgICAgb25PQXV0aENvbXBsZXRlKCIiKTsKICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gb25PQXV0aENvbXBsZXRlKHRva2VuKSB7CiAgaWYodG9rZW4pIHsKICAgIGlmKHRva2VuLmVycm9yKSB7CiAgICAgIHZhciBjaGVja2JveCA9ICQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdLC5zZWN1cmVkJykKICAgICAgY2hlY2tib3guZWFjaChmdW5jdGlvbihwb3MpewogICAgICAgIGNoZWNrYm94W3Bvc10uY2hlY2tlZCA9IGZhbHNlOwogICAgICB9KTsKICAgICAgYWxlcnQodG9rZW4uZXJyb3IpOwogICAgfQogICAgZWxzZSB7CiAgICAgIHZhciBiID0gdG9rZW5bd2luZG93LnN3YWdnZXJVaS50b2tlbk5hbWVdOwogICAgICBpZihiKXsKICAgICAgICAvLyBpZiBhbGwgcm9sZXMgYXJlIHNhdGlzZmllZAogICAgICAgIHZhciBvID0gbnVsbDsKICAgICAgICAkLmVhY2goJCgnLmF1dGggI2FwaV9pbmZvcm1hdGlvbl9wYW5lbCcpLCBmdW5jdGlvbihrLCB2KSB7CiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB2OwogICAgICAgICAgaWYoY2hpbGRyZW4gJiYgY2hpbGRyZW4uY2hpbGROb2RlcykgewogICAgICAgICAgICB2YXIgcmVxdWlyZWRTY29wZXMgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKChjaGlsZHJlbi5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKGsxLCB2MSl7CiAgICAgICAgICAgICAgdmFyIGlubmVyID0gdjEuaW5uZXJIVE1MOwogICAgICAgICAgICAgIGlmKGlubmVyKQogICAgICAgICAgICAgICAgcmVxdWlyZWRTY29wZXMucHVzaChpbm5lcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgZGlmZiA9IFtdOwogICAgICAgICAgICBmb3IodmFyIGk9MDsgaSA8IHJlcXVpcmVkU2NvcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIHMgPSByZXF1aXJlZFNjb3Blc1tpXTsKICAgICAgICAgICAgICBpZih3aW5kb3cuZW5hYmxlZFNjb3BlcyAmJiB3aW5kb3cuZW5hYmxlZFNjb3Blcy5pbmRleE9mKHMpID09IC0xKSB7CiAgICAgICAgICAgICAgICBkaWZmLnB1c2gocyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGRpZmYubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgbyA9IHYucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAkKG8ucGFyZW50Tm9kZSkuZmluZCgnLmFwaS1pYy5pYy1vbicpLmFkZENsYXNzKCdpYy1vZmYnKTsKICAgICAgICAgICAgICAkKG8ucGFyZW50Tm9kZSkuZmluZCgnLmFwaS1pYy5pYy1vbicpLnJlbW92ZUNsYXNzKCdpYy1vbicpOwoKICAgICAgICAgICAgICAvLyBzb3JyeSwgbm90IGFsbCBzY29wZXMgYXJlIHNhdGlzZmllZAogICAgICAgICAgICAgICQobykuZmluZCgnLmFwaS1pYycpLmFkZENsYXNzKCdpYy13YXJuaW5nJyk7CiAgICAgICAgICAgICAgJChvKS5maW5kKCcuYXBpLWljJykucmVtb3ZlQ2xhc3MoJ2ljLWVycm9yJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgbyA9IHYucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAkKG8ucGFyZW50Tm9kZSkuZmluZCgnLmFwaS1pYy5pYy1vZmYnKS5hZGRDbGFzcygnaWMtb24nKTsKICAgICAgICAgICAgICAkKG8ucGFyZW50Tm9kZSkuZmluZCgnLmFwaS1pYy5pYy1vZmYnKS5yZW1vdmVDbGFzcygnaWMtb2ZmJyk7CgogICAgICAgICAgICAgIC8vIGFsbCBzY29wZXMgYXJlIHNhdGlzZmllZAogICAgICAgICAgICAgICQobykuZmluZCgnLmFwaS1pYycpLmFkZENsYXNzKCdpYy1pbmZvJyk7CiAgICAgICAgICAgICAgJChvKS5maW5kKCcuYXBpLWljJykucmVtb3ZlQ2xhc3MoJ2ljLXdhcm5pbmcnKTsKICAgICAgICAgICAgICAkKG8pLmZpbmQoJy5hcGktaWMnKS5yZW1vdmVDbGFzcygnaWMtZXJyb3InKTsgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB3aW5kb3cuYXV0aG9yaXphdGlvbnMuYWRkKG9hdXRoMktleU5hbWUsIG5ldyBBcGlLZXlBdXRob3JpemF0aW9uKCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgYiwgJ2hlYWRlcicpKTsKICAgICAgfQogICAgfQogIH0KfQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972887965" offset="0" length="2955" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
    <HTTPTask id="161" hostname="10.239.251.82" path="/swagger-static/images/logo_small.png" url="http://10.239.251.82:8080/swagger-static/images/logo_small.png" ip="10.239.251.82" port="8080" connectionId="11" origin="HTML" frame="1" startTime="2972888043" endTime="2972888105">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTAuMjM5LjI1MS44Mjo4MDgw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2Uvd2VicCxpbWFnZS8qLCovKjtxPTAuOA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ4LjAuMjU2NC45NyBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cDovLzEwLjIzOS4yNTEuODI6ODA4MC9zd2FnZ2VyLXN0YXRpYy9jc3Mvc2NyZWVuLmNzcw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgc2RjaA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9zd2FnZ2VyLXN0YXRpYy9pbWFnZXMvbG9nb19zbWFsbC5wbmcgSFRUUC8xLjENCkhvc3Q6IDEwLjIzOS4yNTEuODI6ODA4MA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQWNjZXB0OiBpbWFnZS93ZWJwLGltYWdlLyosKi8qO3E9MC44DQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNDguMC4yNTY0Ljk3IFNhZmFyaS81MzcuMzYNClJlZmVyZXI6IGh0dHA6Ly8xMC4yMzkuMjUxLjgyOjgwODAvc3dhZ2dlci1zdGF0aWMvY3NzL3NjcmVlbi5jc3MNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgc2RjaA0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNjoxNjoyMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>IjE4NTJkOWRjMGZjMzNjNmZmOTlmY2Y4YjMxMTdkYmFmIg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2UvcG5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Nzcw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBNb24sIDAxIEZlYiAyMDE2IDE2OjE2OjIxIEdNVA0KTGFzdC1Nb2RpZmllZDogTW9uLCAwMSBGZWIgMjAxNiAxNDo0MDoyNCBHTVQNCkVUYWc6ICIxODUyZDlkYzBmYzMzYzZmZjk5ZmNmOGIzMTE3ZGJhZiINCkNvbnRlbnQtVHlwZTogaW1hZ2UvcG5nDQpDb250ZW50LUxlbmd0aDogNzcwDQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqRJREFUeNrEVz1s00AUfnGXii5maMXoEUEHVwIpEkPNgkBdMnQoU5ytiKHJwpp2Q2JIO8DCUDOxIJFIVOoWZyJSh3pp1Q2PVVlcCVBH3ufeVZZ9Zye1Ay86nXV+ue/9fO/lheg/Se02X1rvksmbnTiKvuxQMBNgBnN4a/LCbmnUAP6JV58NCUsBC8CuAJxGPF47OgNqBaA93tolUhnx6jC4NxGwyOEwlccyAs+3kwdzKq0HDn2vEBTi8J2XpyMaywNDE157BhXUE3zJhlq8GKq+Zd2zaWHepPA8oN9XkfLmRdOiJV4XUUg/IyWncLjCYY/SHndV2u7zHr3bPKZtdxgboJOnthvrfGj/oMf3G0r7JVmNlLfKklmrt2MvvcNO7LFOhoFHfuAJI5o6ta10jpt5CQLgwXhXG2YIwvu+34qf78ybOjWTnWwkgR36d7JqJOrW0hHmNrKg9xhiS4+1jFmrxymh03B0w+6kURIAu3yHtOD5oaUNojMnGgbcctNvwdAnyxvxRR+/vaJnjzbpzcZX+nN1SdGv85i9eH8w3qPO+mdm/y4dnQ1iI8Fq6Nf4cxL6GWSjiFDSs0VRnxC5g0xSB2cgHpaseTxfqOv5uoHkNQ6Ha/N1Yz9mNMppEkEkYKj79q6uCq4bCHcSX3fJ0Vk/k9siASjCm1N6gZH6Ec9IXt2WkFES2K/ixoIyktJPAu/ptOA1SgO5zqtr6KASJPF0nMV8dgMsRhRPOcMwqQAOoi0VAIMLAEWJ6YYC1c8ibj1GP51RqwzYwZVMHQuvOzMCBUtb2tGHx5NAdLKqp5AX7Ng4d+Zi8AGDI9z1ijx9yaCH04y3GCP2S+QcvaGl+pcxyUBvinFlawoDQjHSelX8hQEoIrAq8p/mgC88HOS1YCl/BRgAmiD/1gn6Nu8AAAAASUVORK5CYII=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="2972888105" offset="0" length="960" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
  </HTTPTask>
</HTTPSnapshot>